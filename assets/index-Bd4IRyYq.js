(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(u){if(u.ep)return;u.ep=!0;const h=i(u);fetch(u.href,h)}})();function hE(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var mf={exports:{}},Ml={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Up;function fE(){if(Up)return Ml;Up=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,u,h){var d=null;if(h!==void 0&&(d=""+h),u.key!==void 0&&(d=""+u.key),"key"in u){h={};for(var g in u)g!=="key"&&(h[g]=u[g])}else h=u;return u=h.ref,{$$typeof:s,type:a,key:d,ref:u!==void 0?u:null,props:h}}return Ml.Fragment=e,Ml.jsx=i,Ml.jsxs=i,Ml}var zp;function dE(){return zp||(zp=1,mf.exports=fE()),mf.exports}var le=dE(),gf={exports:{}},Et={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lp;function mE(){if(Lp)return Et;Lp=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),V=Symbol.iterator;function P(C){return C===null||typeof C!="object"?null:(C=V&&C[V]||C["@@iterator"],typeof C=="function"?C:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,W={};function X(C,Y,at){this.props=C,this.context=Y,this.refs=W,this.updater=at||j}X.prototype.isReactComponent={},X.prototype.setState=function(C,Y){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,Y,"setState")},X.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function yt(){}yt.prototype=X.prototype;function dt(C,Y,at){this.props=C,this.context=Y,this.refs=W,this.updater=at||j}var Tt=dt.prototype=new yt;Tt.constructor=dt,Z(Tt,X.prototype),Tt.isPureReactComponent=!0;var Qt=Array.isArray,_t={H:null,A:null,T:null,S:null},xt=Object.prototype.hasOwnProperty;function M(C,Y,at,tt,et,At){return at=At.ref,{$$typeof:s,type:C,key:Y,ref:at!==void 0?at:null,props:At}}function R(C,Y){return M(C.type,Y,void 0,void 0,void 0,C.props)}function A(C){return typeof C=="object"&&C!==null&&C.$$typeof===s}function D(C){var Y={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(at){return Y[at]})}var N=/\/+/g;function z(C,Y){return typeof C=="object"&&C!==null&&C.key!=null?D(""+C.key):Y.toString(36)}function w(){}function ge(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(w,w):(C.status="pending",C.then(function(Y){C.status==="pending"&&(C.status="fulfilled",C.value=Y)},function(Y){C.status==="pending"&&(C.status="rejected",C.reason=Y)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function oe(C,Y,at,tt,et){var At=typeof C;(At==="undefined"||At==="boolean")&&(C=null);var vt=!1;if(C===null)vt=!0;else switch(At){case"bigint":case"string":case"number":vt=!0;break;case"object":switch(C.$$typeof){case s:case e:vt=!0;break;case S:return vt=C._init,oe(vt(C._payload),Y,at,tt,et)}}if(vt)return et=et(C),vt=tt===""?"."+z(C,0):tt,Qt(et)?(at="",vt!=null&&(at=vt.replace(N,"$&/")+"/"),oe(et,Y,at,"",function(te){return te})):et!=null&&(A(et)&&(et=R(et,at+(et.key==null||C&&C.key===et.key?"":(""+et.key).replace(N,"$&/")+"/")+vt)),Y.push(et)),1;vt=0;var ce=tt===""?".":tt+":";if(Qt(C))for(var Ut=0;Ut<C.length;Ut++)tt=C[Ut],At=ce+z(tt,Ut),vt+=oe(tt,Y,at,At,et);else if(Ut=P(C),typeof Ut=="function")for(C=Ut.call(C),Ut=0;!(tt=C.next()).done;)tt=tt.value,At=ce+z(tt,Ut++),vt+=oe(tt,Y,at,At,et);else if(At==="object"){if(typeof C.then=="function")return oe(ge(C),Y,at,tt,et);throw Y=String(C),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return vt}function J(C,Y,at){if(C==null)return C;var tt=[],et=0;return oe(C,tt,"","",function(At){return Y.call(at,At,et++)}),tt}function ht(C){if(C._status===-1){var Y=C._result;Y=Y(),Y.then(function(at){(C._status===0||C._status===-1)&&(C._status=1,C._result=at)},function(at){(C._status===0||C._status===-1)&&(C._status=2,C._result=at)}),C._status===-1&&(C._status=0,C._result=Y)}if(C._status===1)return C._result.default;throw C._result}var lt=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function Bt(){}return Et.Children={map:J,forEach:function(C,Y,at){J(C,function(){Y.apply(this,arguments)},at)},count:function(C){var Y=0;return J(C,function(){Y++}),Y},toArray:function(C){return J(C,function(Y){return Y})||[]},only:function(C){if(!A(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Et.Component=X,Et.Fragment=i,Et.Profiler=u,Et.PureComponent=dt,Et.StrictMode=a,Et.Suspense=_,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_t,Et.act=function(){throw Error("act(...) is not supported in production builds of React.")},Et.cache=function(C){return function(){return C.apply(null,arguments)}},Et.cloneElement=function(C,Y,at){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var tt=Z({},C.props),et=C.key,At=void 0;if(Y!=null)for(vt in Y.ref!==void 0&&(At=void 0),Y.key!==void 0&&(et=""+Y.key),Y)!xt.call(Y,vt)||vt==="key"||vt==="__self"||vt==="__source"||vt==="ref"&&Y.ref===void 0||(tt[vt]=Y[vt]);var vt=arguments.length-2;if(vt===1)tt.children=at;else if(1<vt){for(var ce=Array(vt),Ut=0;Ut<vt;Ut++)ce[Ut]=arguments[Ut+2];tt.children=ce}return M(C.type,et,void 0,void 0,At,tt)},Et.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:h,_context:C},C},Et.createElement=function(C,Y,at){var tt,et={},At=null;if(Y!=null)for(tt in Y.key!==void 0&&(At=""+Y.key),Y)xt.call(Y,tt)&&tt!=="key"&&tt!=="__self"&&tt!=="__source"&&(et[tt]=Y[tt]);var vt=arguments.length-2;if(vt===1)et.children=at;else if(1<vt){for(var ce=Array(vt),Ut=0;Ut<vt;Ut++)ce[Ut]=arguments[Ut+2];et.children=ce}if(C&&C.defaultProps)for(tt in vt=C.defaultProps,vt)et[tt]===void 0&&(et[tt]=vt[tt]);return M(C,At,void 0,void 0,null,et)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(C){return{$$typeof:g,render:C}},Et.isValidElement=A,Et.lazy=function(C){return{$$typeof:S,_payload:{_status:-1,_result:C},_init:ht}},Et.memo=function(C,Y){return{$$typeof:v,type:C,compare:Y===void 0?null:Y}},Et.startTransition=function(C){var Y=_t.T,at={};_t.T=at;try{var tt=C(),et=_t.S;et!==null&&et(at,tt),typeof tt=="object"&&tt!==null&&typeof tt.then=="function"&&tt.then(Bt,lt)}catch(At){lt(At)}finally{_t.T=Y}},Et.unstable_useCacheRefresh=function(){return _t.H.useCacheRefresh()},Et.use=function(C){return _t.H.use(C)},Et.useActionState=function(C,Y,at){return _t.H.useActionState(C,Y,at)},Et.useCallback=function(C,Y){return _t.H.useCallback(C,Y)},Et.useContext=function(C){return _t.H.useContext(C)},Et.useDebugValue=function(){},Et.useDeferredValue=function(C,Y){return _t.H.useDeferredValue(C,Y)},Et.useEffect=function(C,Y){return _t.H.useEffect(C,Y)},Et.useId=function(){return _t.H.useId()},Et.useImperativeHandle=function(C,Y,at){return _t.H.useImperativeHandle(C,Y,at)},Et.useInsertionEffect=function(C,Y){return _t.H.useInsertionEffect(C,Y)},Et.useLayoutEffect=function(C,Y){return _t.H.useLayoutEffect(C,Y)},Et.useMemo=function(C,Y){return _t.H.useMemo(C,Y)},Et.useOptimistic=function(C,Y){return _t.H.useOptimistic(C,Y)},Et.useReducer=function(C,Y,at){return _t.H.useReducer(C,Y,at)},Et.useRef=function(C){return _t.H.useRef(C)},Et.useState=function(C){return _t.H.useState(C)},Et.useSyncExternalStore=function(C,Y,at){return _t.H.useSyncExternalStore(C,Y,at)},Et.useTransition=function(){return _t.H.useTransition()},Et.version="19.0.0",Et}var Pp;function $f(){return Pp||(Pp=1,gf.exports=mE()),gf.exports}var fs=$f();const fa=hE(fs);var pf={exports:{}},xl={},yf={exports:{}},_f={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bp;function gE(){return Bp||(Bp=1,function(s){function e(J,ht){var lt=J.length;J.push(ht);t:for(;0<lt;){var Bt=lt-1>>>1,C=J[Bt];if(0<u(C,ht))J[Bt]=ht,J[lt]=C,lt=Bt;else break t}}function i(J){return J.length===0?null:J[0]}function a(J){if(J.length===0)return null;var ht=J[0],lt=J.pop();if(lt!==ht){J[0]=lt;t:for(var Bt=0,C=J.length,Y=C>>>1;Bt<Y;){var at=2*(Bt+1)-1,tt=J[at],et=at+1,At=J[et];if(0>u(tt,lt))et<C&&0>u(At,tt)?(J[Bt]=At,J[et]=lt,Bt=et):(J[Bt]=tt,J[at]=lt,Bt=at);else if(et<C&&0>u(At,lt))J[Bt]=At,J[et]=lt,Bt=et;else break t}}return ht}function u(J,ht){var lt=J.sortIndex-ht.sortIndex;return lt!==0?lt:J.id-ht.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var _=[],v=[],S=1,V=null,P=3,j=!1,Z=!1,W=!1,X=typeof setTimeout=="function"?setTimeout:null,yt=typeof clearTimeout=="function"?clearTimeout:null,dt=typeof setImmediate<"u"?setImmediate:null;function Tt(J){for(var ht=i(v);ht!==null;){if(ht.callback===null)a(v);else if(ht.startTime<=J)a(v),ht.sortIndex=ht.expirationTime,e(_,ht);else break;ht=i(v)}}function Qt(J){if(W=!1,Tt(J),!Z)if(i(_)!==null)Z=!0,ge();else{var ht=i(v);ht!==null&&oe(Qt,ht.startTime-J)}}var _t=!1,xt=-1,M=5,R=-1;function A(){return!(s.unstable_now()-R<M)}function D(){if(_t){var J=s.unstable_now();R=J;var ht=!0;try{t:{Z=!1,W&&(W=!1,yt(xt),xt=-1),j=!0;var lt=P;try{e:{for(Tt(J),V=i(_);V!==null&&!(V.expirationTime>J&&A());){var Bt=V.callback;if(typeof Bt=="function"){V.callback=null,P=V.priorityLevel;var C=Bt(V.expirationTime<=J);if(J=s.unstable_now(),typeof C=="function"){V.callback=C,Tt(J),ht=!0;break e}V===i(_)&&a(_),Tt(J)}else a(_);V=i(_)}if(V!==null)ht=!0;else{var Y=i(v);Y!==null&&oe(Qt,Y.startTime-J),ht=!1}}break t}finally{V=null,P=lt,j=!1}ht=void 0}}finally{ht?N():_t=!1}}}var N;if(typeof dt=="function")N=function(){dt(D)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,w=z.port2;z.port1.onmessage=D,N=function(){w.postMessage(null)}}else N=function(){X(D,0)};function ge(){_t||(_t=!0,N())}function oe(J,ht){xt=X(function(){J(s.unstable_now())},ht)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(J){J.callback=null},s.unstable_continueExecution=function(){Z||j||(Z=!0,ge())},s.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<J?Math.floor(1e3/J):5},s.unstable_getCurrentPriorityLevel=function(){return P},s.unstable_getFirstCallbackNode=function(){return i(_)},s.unstable_next=function(J){switch(P){case 1:case 2:case 3:var ht=3;break;default:ht=P}var lt=P;P=ht;try{return J()}finally{P=lt}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(J,ht){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var lt=P;P=J;try{return ht()}finally{P=lt}},s.unstable_scheduleCallback=function(J,ht,lt){var Bt=s.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?Bt+lt:Bt):lt=Bt,J){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=lt+C,J={id:S++,callback:ht,priorityLevel:J,startTime:lt,expirationTime:C,sortIndex:-1},lt>Bt?(J.sortIndex=lt,e(v,J),i(_)===null&&J===i(v)&&(W?(yt(xt),xt=-1):W=!0,oe(Qt,lt-Bt))):(J.sortIndex=C,e(_,J),Z||j||(Z=!0,ge())),J},s.unstable_shouldYield=A,s.unstable_wrapCallback=function(J){var ht=P;return function(){var lt=P;P=ht;try{return J.apply(this,arguments)}finally{P=lt}}}}(_f)),_f}var kp;function pE(){return kp||(kp=1,yf.exports=gE()),yf.exports}var vf={exports:{}},He={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qp;function yE(){if(qp)return He;qp=1;var s=$f();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)v+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(_,v,S){var V=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:V==null?null:""+V,children:_,containerInfo:v,implementation:S}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return He.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,He.createPortal=function(_,v){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return h(_,v,null,S)},He.flushSync=function(_){var v=d.T,S=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=v,a.p=S,a.d.f()}},He.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(_,v))},He.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},He.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var S=v.as,V=g(S,v.crossOrigin),P=typeof v.integrity=="string"?v.integrity:void 0,j=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;S==="style"?a.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:V,integrity:P,fetchPriority:j}):S==="script"&&a.d.X(_,{crossOrigin:V,integrity:P,fetchPriority:j,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},He.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var S=g(v.as,v.crossOrigin);a.d.M(_,{crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(_)},He.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var S=v.as,V=g(S,v.crossOrigin);a.d.L(_,S,{crossOrigin:V,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},He.preloadModule=function(_,v){if(typeof _=="string")if(v){var S=g(v.as,v.crossOrigin);a.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(_)},He.requestFormReset=function(_){a.d.r(_)},He.unstable_batchedUpdates=function(_,v){return _(v)},He.useFormState=function(_,v,S){return d.H.useFormState(_,v,S)},He.useFormStatus=function(){return d.H.useHostTransitionStatus()},He.version="19.0.0",He}var Hp;function _E(){if(Hp)return vf.exports;Hp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),vf.exports=yE(),vf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jp;function vE(){if(jp)return xl;jp=1;var s=pE(),e=$f(),i=_E();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var h=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),P=Symbol.for("react.consumer"),j=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),yt=Symbol.for("react.memo"),dt=Symbol.for("react.lazy"),Tt=Symbol.for("react.offscreen"),Qt=Symbol.for("react.memo_cache_sentinel"),_t=Symbol.iterator;function xt(t){return t===null||typeof t!="object"?null:(t=_t&&t[_t]||t["@@iterator"],typeof t=="function"?t:null)}var M=Symbol.for("react.client.reference");function R(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===M?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _:return"Fragment";case g:return"Portal";case S:return"Profiler";case v:return"StrictMode";case W:return"Suspense";case X:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case j:return(t.displayName||"Context")+".Provider";case P:return(t._context.displayName||"Context")+".Consumer";case Z:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case yt:return n=t.displayName||null,n!==null?n:R(t.type)||"Memo";case dt:n=t._payload,t=t._init;try{return R(t(n))}catch{}}return null}var A=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=Object.assign,N,z;function w(t){if(N===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);N=n&&n[1]||"",z=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+N+t+z}var ge=!1;function oe(t,n){if(!t||ge)return"";ge=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(q){var B=q}Reflect.construct(t,[],F)}else{try{F.call()}catch(q){B=q}t.call(F.prototype)}}else{try{throw Error()}catch(q){B=q}(F=t())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(q){if(q&&B&&typeof q.stack=="string")return[q.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var b=y.split(`
`),I=E.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<I.length&&!I[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===I.length)for(l=b.length-1,c=I.length-1;1<=l&&0<=c&&b[l]!==I[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==I[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==I[c]){var H=`
`+b[l].replace(" at new "," at ");return t.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",t.displayName)),H}while(1<=l&&0<=c);break}}}finally{ge=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?w(r):""}function J(t){switch(t.tag){case 26:case 27:case 5:return w(t.type);case 16:return w("Lazy");case 13:return w("Suspense");case 19:return w("SuspenseList");case 0:case 15:return t=oe(t.type,!1),t;case 11:return t=oe(t.type.render,!1),t;case 1:return t=oe(t.type,!0),t;default:return""}}function ht(t){try{var n="";do n+=J(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function lt(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function Bt(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function C(t){if(lt(t)!==t)throw Error(a(188))}function Y(t){var n=t.alternate;if(!n){if(n=lt(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return C(c),t;if(f===l)return C(c),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===r){y=!0,r=c,l=f;break}if(E===l){y=!0,l=c,r=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===r){y=!0,r=f,l=c;break}if(E===l){y=!0,l=f,r=c;break}E=E.sibling}if(!y)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function at(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=at(t),n!==null)return n;t=t.sibling}return null}var tt=Array.isArray,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,At={pending:!1,data:null,method:null,action:null},vt=[],ce=-1;function Ut(t){return{current:t}}function te(t){0>ce||(t.current=vt[ce],vt[ce]=null,ce--)}function Ht(t,n){ce++,vt[ce]=t.current,t.current=n}var Fe=Ut(null),ri=Ut(null),dn=Ut(null),Ui=Ut(null);function zi(t,n){switch(Ht(dn,n),Ht(ri,t),Ht(Fe,null),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?cp(n):0;break;default:if(t=t===8?n.parentNode:n,n=t.tagName,t=t.namespaceURI)t=cp(t),n=hp(t,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}te(Fe),Ht(Fe,n)}function ai(){te(Fe),te(ri),te(dn)}function Cs(t){t.memoizedState!==null&&Ht(Ui,t);var n=Fe.current,r=hp(n,t.type);n!==r&&(Ht(ri,t),Ht(Fe,r))}function _a(t){ri.current===t&&(te(Fe),te(ri)),Ui.current===t&&(te(Ui),Cl._currentValue=At)}var va=Object.prototype.hasOwnProperty,Nr=s.unstable_scheduleCallback,Ea=s.unstable_cancelCallback,gc=s.unstable_shouldYield,Vs=s.unstable_requestPaint,Je=s.unstable_now,eu=s.unstable_getCurrentPriorityLevel,pe=s.unstable_ImmediatePriority,Re=s.unstable_UserBlockingPriority,si=s.unstable_NormalPriority,nu=s.unstable_LowPriority,Os=s.unstable_IdlePriority,pc=s.log,Mr=s.unstable_setDisableYieldValue,Li=null,ke=null;function Is(t){if(ke&&typeof ke.onCommitFiberRoot=="function")try{ke.onCommitFiberRoot(Li,t,void 0,(t.current.flags&128)===128)}catch{}}function Ln(t){if(typeof pc=="function"&&Mr(t),ke&&typeof ke.setStrictMode=="function")try{ke.setStrictMode(Li,t)}catch{}}var Ke=Math.clz32?Math.clz32:ru,Ns=Math.log,iu=Math.LN2;function ru(t){return t>>>=0,t===0?32:31-(Ns(t)/iu|0)|0}var Pn=128,Pi=4194304;function On(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function mn(t,n){var r=t.pendingLanes;if(r===0)return 0;var l=0,c=t.suspendedLanes,f=t.pingedLanes,y=t.warmLanes;t=t.finishedLanes!==0;var E=r&134217727;return E!==0?(r=E&~c,r!==0?l=On(r):(f&=E,f!==0?l=On(f):t||(y=E&~y,y!==0&&(l=On(y))))):(E=r&~c,E!==0?l=On(E):f!==0?l=On(f):t||(y=r&~y,y!==0&&(l=On(y)))),l===0?0:n!==0&&n!==l&&(n&c)===0&&(c=l&-l,y=n&-n,c>=y||c===32&&(y&4194176)!==0)?n:l}function Bi(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ta(t,n){switch(t){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ms(){var t=Pn;return Pn<<=1,(Pn&4194176)===0&&(Pn=128),t}function ki(){var t=Pi;return Pi<<=1,(Pi&62914560)===0&&(Pi=4194304),t}function Aa(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function ae(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function au(t,n,r,l,c,f){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,b=t.expirationTimes,I=t.hiddenUpdates;for(r=y&~r;0<r;){var H=31-Ke(r),F=1<<H;E[H]=0,b[H]=-1;var B=I[H];if(B!==null)for(I[H]=null,H=0;H<B.length;H++){var q=B[H];q!==null&&(q.lane&=-536870913)}r&=~F}l!==0&&qi(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function qi(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Ke(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194218}function Hi(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Ke(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function su(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function lu(){var t=et.p;return t!==0?t:(t=window.event,t===void 0?32:Vp(t.type))}function ji(t,n){var r=et.p;try{return et.p=t,n()}finally{et.p=r}}var Bn=Math.random().toString(36).slice(2),we="__reactFiber$"+Bn,ye="__reactProps$"+Bn,li="__reactContainer$"+Bn,xr="__reactEvents$"+Bn,Sa="__reactListeners$"+Bn,kn="__reactHandles$"+Bn,xs="__reactResources$"+Bn,Gi="__reactMarker$"+Bn;function Ur(t){delete t[we],delete t[ye],delete t[xr],delete t[Sa],delete t[kn]}function In(t){var n=t[we];if(n)return n;for(var r=t.parentNode;r;){if(n=r[li]||r[we]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=mp(t);t!==null;){if(r=t[we])return r;t=mp(t)}return n}t=r,r=t.parentNode}return null}function ui(t){if(t=t[we]||t[li]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Qi(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Fi(t){var n=t[xs];return n||(n=t[xs]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Zt(t){t[Gi]=!0}var Us=new Set,ba={};function rn(t,n){We(t,n),We(t+"Capture",n)}function We(t,n){for(ba[t]=n,t=0;t<n.length;t++)Us.add(n[t])}var an=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zs={},Ls={};function uu(t){return va.call(Ls,t)?!0:va.call(zs,t)?!1:yc.test(t)?Ls[t]=!0:(zs[t]=!0,!1)}function Ki(t,n,r){if(uu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Yi(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function gn(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function Ye(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ou(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function _c(t){var n=ou(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function zr(t){t._valueTracker||(t._valueTracker=_c(t))}function Ps(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=ou(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Ra(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var oi=/[\n"\\]/g;function ee(t){return t.replace(oi,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Xi(t,n,r,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ye(n)):t.value!==""+Ye(n)&&(t.value=""+Ye(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?wa(t,y,Ye(n)):r!=null?wa(t,y,Ye(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ye(E):t.removeAttribute("name")}function Lr(t,n,r,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Ye(r):"",n=n!=null?""+Ye(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function wa(t,n,r){n==="number"&&Ra(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function zt(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Ye(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Pr(t,n,r){if(n!=null&&(n=""+Ye(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ye(r):""}function Zi(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(tt(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Ye(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function pn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var vc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bs(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||vc.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function cu(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&Bs(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Bs(t,f,n[f])}function ks(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ec=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qn(t){return Tc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var yn=null;function Da(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ci=null,hi=null;function fi(t){var n=ui(t);if(n&&(t=n.stateNode)){var r=t[ye]||null;t:switch(t=n.stateNode,n.type){case"input":if(Xi(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+ee(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[ye]||null;if(!c)throw Error(a(90));Xi(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Ps(l)}break t;case"textarea":Pr(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&zt(t,!!r.multiple,n,!1)}}}var qs=!1;function hu(t,n,r){if(qs)return t(n,r);qs=!0;try{var l=t(n);return l}finally{if(qs=!1,(ci!==null||hi!==null)&&(no(),ci&&(n=ci,t=hi,hi=ci=null,fi(n),t)))for(n=0;n<t.length;n++)fi(t[n])}}function Br(t,n){var r=t.stateNode;if(r===null)return null;var l=r[ye]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var _n=!1;if(an)try{var kr={};Object.defineProperty(kr,"passive",{get:function(){_n=!0}}),window.addEventListener("test",kr,kr),window.removeEventListener("test",kr,kr)}catch{_n=!1}var Hn=null,$i=null,di=null;function Hs(){if(di)return di;var t,n=$i,r=n.length,l,c="value"in Hn?Hn.value:Hn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var y=r-t;for(l=1;l<=y&&n[r-l]===c[f-l];l++);return di=c.slice(t,1<l?1-l:void 0)}function jn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Gn(){return!0}function js(){return!1}function De(t){function n(r,l,c,f,y){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Gn:js,this.isPropagationStopped=js,this}return D(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Gn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Gn)},persist:function(){},isPersistent:Gn}),n}var kt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ca=De(kt),qr=D({},kt,{view:0,detail:0}),fu=De(qr),Va,Oa,Qn,Hr=D({},qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qn&&(Qn&&t.type==="mousemove"?(Va=t.screenX-Qn.screenX,Oa=t.screenY-Qn.screenY):Oa=Va=0,Qn=t),Va)},movementY:function(t){return"movementY"in t?t.movementY:Oa}}),vn=De(Hr),du=D({},Hr,{dataTransfer:0}),Ac=De(du),jr=D({},qr,{relatedTarget:0}),Ia=De(jr),Gs=D({},kt,{animationName:0,elapsedTime:0,pseudoElement:0}),Na=De(Gs),mu=D({},kt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ma=De(mu),Sc=D({},kt,{data:0}),Qs=De(Sc),Gr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fs(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=pu[t])?!!n[t]:!1}function Qr(){return Fs}var yu=D({},qr,{key:function(t){if(t.key){var n=Gr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=jn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?gu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qr,charCode:function(t){return t.type==="keypress"?jn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?jn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xa=De(yu),_u=D({},Hr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ks=De(_u),mi=D({},qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qr}),vu=De(mi),Eu=D({},kt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tu=De(Eu),Au=D({},Hr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ua=De(Au),Xe=D({},kt,{newState:0,oldState:0}),Su=De(Xe),bu=[9,13,27,32],Fn=an&&"CompositionEvent"in window,o=null;an&&"documentMode"in document&&(o=document.documentMode);var m=an&&"TextEvent"in window&&!o,p=an&&(!Fn||o&&8<o&&11>=o),T=" ",U=!1;function k(t,n){switch(t){case"keyup":return bu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vt=!1;function _e(t,n){switch(t){case"compositionend":return $(n);case"keypress":return n.which!==32?null:(U=!0,T);case"textInput":return t=n.data,t===T&&U?null:t;default:return null}}function Ot(t,n){if(Vt)return t==="compositionend"||!Fn&&k(t,n)?(t=Hs(),di=$i=Hn=null,Vt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var Ce={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ve(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ce[t.type]:n==="textarea"}function gi(t,n,r,l){ci?hi?hi.push(l):hi=[l]:ci=l,n=lo(n,"onChange"),0<n.length&&(r=new Ca("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Me=null,Kn=null;function Ys(t){ap(t,0)}function Ru(t){var n=Qi(t);if(Ps(n))return t}function xd(t,n){if(t==="change")return n}var Ud=!1;if(an){var bc;if(an){var Rc="oninput"in document;if(!Rc){var zd=document.createElement("div");zd.setAttribute("oninput","return;"),Rc=typeof zd.oninput=="function"}bc=Rc}else bc=!1;Ud=bc&&(!document.documentMode||9<document.documentMode)}function Ld(){Me&&(Me.detachEvent("onpropertychange",Pd),Kn=Me=null)}function Pd(t){if(t.propertyName==="value"&&Ru(Kn)){var n=[];gi(n,Kn,t,Da(t)),hu(Ys,n)}}function qv(t,n,r){t==="focusin"?(Ld(),Me=n,Kn=r,Me.attachEvent("onpropertychange",Pd)):t==="focusout"&&Ld()}function Hv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ru(Kn)}function jv(t,n){if(t==="click")return Ru(n)}function Gv(t,n){if(t==="input"||t==="change")return Ru(n)}function Qv(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var sn=typeof Object.is=="function"?Object.is:Qv;function Xs(t,n){if(sn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!va.call(n,c)||!sn(t[c],n[c]))return!1}return!0}function Bd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function kd(t,n){var r=Bd(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Bd(r)}}function qd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?qd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Hd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ra(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Ra(t.document)}return n}function wc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function Fv(t,n){var r=Hd(n);n=t.focusedElem;var l=t.selectionRange;if(r!==n&&n&&n.ownerDocument&&qd(n.ownerDocument.documentElement,n)){if(l!==null&&wc(n)){if(t=l.start,r=l.end,r===void 0&&(r=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(r,n.value.length);else if(r=(t=n.ownerDocument||document)&&t.defaultView||window,r.getSelection){r=r.getSelection();var c=n.textContent.length,f=Math.min(l.start,c);l=l.end===void 0?f:Math.min(l.end,c),!r.extend&&f>l&&(c=l,l=f,f=c),c=kd(n,f);var y=kd(n,l);c&&y&&(r.rangeCount!==1||r.anchorNode!==c.node||r.anchorOffset!==c.offset||r.focusNode!==y.node||r.focusOffset!==y.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),r.removeAllRanges(),f>l?(r.addRange(t),r.extend(y.node,y.offset)):(t.setEnd(y.node,y.offset),r.addRange(t)))}}for(t=[],r=n;r=r.parentNode;)r.nodeType===1&&t.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)r=t[n],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var Kv=an&&"documentMode"in document&&11>=document.documentMode,za=null,Dc=null,Zs=null,Cc=!1;function jd(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Cc||za==null||za!==Ra(l)||(l=za,"selectionStart"in l&&wc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Zs&&Xs(Zs,l)||(Zs=l,l=lo(Dc,"onSelect"),0<l.length&&(n=new Ca("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=za)))}function Fr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var La={animationend:Fr("Animation","AnimationEnd"),animationiteration:Fr("Animation","AnimationIteration"),animationstart:Fr("Animation","AnimationStart"),transitionrun:Fr("Transition","TransitionRun"),transitionstart:Fr("Transition","TransitionStart"),transitioncancel:Fr("Transition","TransitionCancel"),transitionend:Fr("Transition","TransitionEnd")},Vc={},Gd={};an&&(Gd=document.createElement("div").style,"AnimationEvent"in window||(delete La.animationend.animation,delete La.animationiteration.animation,delete La.animationstart.animation),"TransitionEvent"in window||delete La.transitionend.transition);function Kr(t){if(Vc[t])return Vc[t];if(!La[t])return t;var n=La[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Gd)return Vc[t]=n[r];return t}var Qd=Kr("animationend"),Fd=Kr("animationiteration"),Kd=Kr("animationstart"),Yv=Kr("transitionrun"),Xv=Kr("transitionstart"),Zv=Kr("transitioncancel"),Yd=Kr("transitionend"),Xd=new Map,Zd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Nn(t,n){Xd.set(t,n),rn(n,[t])}var En=[],Pa=0,Oc=0;function wu(){for(var t=Pa,n=Oc=Pa=0;n<t;){var r=En[n];En[n++]=null;var l=En[n];En[n++]=null;var c=En[n];En[n++]=null;var f=En[n];if(En[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&$d(r,c,f)}}function Du(t,n,r,l){En[Pa++]=t,En[Pa++]=n,En[Pa++]=r,En[Pa++]=l,Oc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Ic(t,n,r,l){return Du(t,n,r,l),Cu(t)}function Ji(t,n){return Du(t,null,null,n),Cu(t)}function $d(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;c&&n!==null&&t.tag===3&&(f=t.stateNode,c=31-Ke(r),f=f.hiddenUpdates,t=f[c],t===null?f[c]=[n]:t.push(n),n.lane=r|536870912)}function Cu(t){if(50<Tl)throw Tl=0,Lh=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ba={},Jd=new WeakMap;function Tn(t,n){if(typeof t=="object"&&t!==null){var r=Jd.get(t);return r!==void 0?r:(n={value:t,source:n,stack:ht(n)},Jd.set(t,n),n)}return{value:t,source:n,stack:ht(n)}}var ka=[],qa=0,Vu=null,Ou=0,An=[],Sn=0,Yr=null,pi=1,yi="";function Xr(t,n){ka[qa++]=Ou,ka[qa++]=Vu,Vu=t,Ou=n}function Wd(t,n,r){An[Sn++]=pi,An[Sn++]=yi,An[Sn++]=Yr,Yr=t;var l=pi;t=yi;var c=32-Ke(l)-1;l&=~(1<<c),r+=1;var f=32-Ke(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,pi=1<<32-Ke(n)+c|r<<c|l,yi=f+t}else pi=1<<f|r<<c|l,yi=t}function Nc(t){t.return!==null&&(Xr(t,1),Wd(t,1,0))}function Mc(t){for(;t===Vu;)Vu=ka[--qa],ka[qa]=null,Ou=ka[--qa],ka[qa]=null;for(;t===Yr;)Yr=An[--Sn],An[Sn]=null,yi=An[--Sn],An[Sn]=null,pi=An[--Sn],An[Sn]=null}var Ze=null,xe=null,Lt=!1,Mn=null,Yn=!1,xc=Error(a(519));function Zr(t){var n=Error(a(418,""));throw Ws(Tn(n,t)),xc}function tm(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[we]=t,n[ye]=l,r){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(r=0;r<Sl.length;r++)Dt(Sl[r],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Dt("invalid",n),Lr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),zr(n);break;case"select":Dt("invalid",n);break;case"textarea":Dt("invalid",n),Zi(n,l.value,l.defaultValue,l.children),zr(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||op(n.textContent,r)?(l.popover!=null&&(Dt("beforetoggle",n),Dt("toggle",n)),l.onScroll!=null&&Dt("scroll",n),l.onScrollEnd!=null&&Dt("scrollend",n),l.onClick!=null&&(n.onclick=uo),n=!0):n=!1,n||Zr(t)}function em(t){for(Ze=t.return;Ze;)switch(Ze.tag){case 3:case 27:Yn=!0;return;case 5:case 13:Yn=!1;return;default:Ze=Ze.return}}function $s(t){if(t!==Ze)return!1;if(!Lt)return em(t),Lt=!0,!1;var n=!1,r;if((r=t.tag!==3&&t.tag!==27)&&((r=t.tag===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||tf(t.type,t.memoizedProps)),r=!r),r&&(n=!0),n&&xe&&Zr(t),em(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){xe=Un(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}xe=null}}else xe=Ze?Un(t.stateNode.nextSibling):null;return!0}function Js(){xe=Ze=null,Lt=!1}function Ws(t){Mn===null?Mn=[t]:Mn.push(t)}var tl=Error(a(460)),nm=Error(a(474)),Uc={then:function(){}};function im(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Iu(){}function rm(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Iu,Iu),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===tl?Error(a(483)):t;default:if(typeof n.status=="string")n.then(Iu,Iu);else{if(t=Kt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===tl?Error(a(483)):t}throw el=n,tl}}var el=null;function am(){if(el===null)throw Error(a(459));var t=el;return el=null,t}var Ha=null,nl=0;function Nu(t){var n=nl;return nl+=1,Ha===null&&(Ha=[]),rm(Ha,t,n)}function il(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Mu(t,n){throw n.$$typeof===h?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function sm(t){var n=t._init;return n(t._payload)}function lm(t){function n(x,O){if(t){var L=x.deletions;L===null?(x.deletions=[O],x.flags|=16):L.push(O)}}function r(x,O){if(!t)return null;for(;O!==null;)n(x,O),O=O.sibling;return null}function l(x){for(var O=new Map;x!==null;)x.key!==null?O.set(x.key,x):O.set(x.index,x),x=x.sibling;return O}function c(x,O){return x=cr(x,O),x.index=0,x.sibling=null,x}function f(x,O,L){return x.index=L,t?(L=x.alternate,L!==null?(L=L.index,L<O?(x.flags|=33554434,O):L):(x.flags|=33554434,O)):(x.flags|=1048576,O)}function y(x){return t&&x.alternate===null&&(x.flags|=33554434),x}function E(x,O,L,G){return O===null||O.tag!==6?(O=Vh(L,x.mode,G),O.return=x,O):(O=c(O,L),O.return=x,O)}function b(x,O,L,G){var it=L.type;return it===_?H(x,O,L.props.children,G,L.key):O!==null&&(O.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===dt&&sm(it)===O.type)?(O=c(O,L.props),il(O,L),O.return=x,O):(O=$u(L.type,L.key,L.props,null,x.mode,G),il(O,L),O.return=x,O)}function I(x,O,L,G){return O===null||O.tag!==4||O.stateNode.containerInfo!==L.containerInfo||O.stateNode.implementation!==L.implementation?(O=Oh(L,x.mode,G),O.return=x,O):(O=c(O,L.children||[]),O.return=x,O)}function H(x,O,L,G,it){return O===null||O.tag!==7?(O=sa(L,x.mode,G,it),O.return=x,O):(O=c(O,L),O.return=x,O)}function F(x,O,L){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Vh(""+O,x.mode,L),O.return=x,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case d:return L=$u(O.type,O.key,O.props,null,x.mode,L),il(L,O),L.return=x,L;case g:return O=Oh(O,x.mode,L),O.return=x,O;case dt:var G=O._init;return O=G(O._payload),F(x,O,L)}if(tt(O)||xt(O))return O=sa(O,x.mode,L,null),O.return=x,O;if(typeof O.then=="function")return F(x,Nu(O),L);if(O.$$typeof===j)return F(x,Yu(x,O),L);Mu(x,O)}return null}function B(x,O,L,G){var it=O!==null?O.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return it!==null?null:E(x,O,""+L,G);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case d:return L.key===it?b(x,O,L,G):null;case g:return L.key===it?I(x,O,L,G):null;case dt:return it=L._init,L=it(L._payload),B(x,O,L,G)}if(tt(L)||xt(L))return it!==null?null:H(x,O,L,G,null);if(typeof L.then=="function")return B(x,O,Nu(L),G);if(L.$$typeof===j)return B(x,O,Yu(x,L),G);Mu(x,L)}return null}function q(x,O,L,G,it){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return x=x.get(L)||null,E(O,x,""+G,it);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case d:return x=x.get(G.key===null?L:G.key)||null,b(O,x,G,it);case g:return x=x.get(G.key===null?L:G.key)||null,I(O,x,G,it);case dt:var bt=G._init;return G=bt(G._payload),q(x,O,L,G,it)}if(tt(G)||xt(G))return x=x.get(L)||null,H(O,x,G,it,null);if(typeof G.then=="function")return q(x,O,L,Nu(G),it);if(G.$$typeof===j)return q(x,O,L,Yu(O,G),it);Mu(O,G)}return null}function rt(x,O,L,G){for(var it=null,bt=null,st=O,ct=O=0,Ie=null;st!==null&&ct<L.length;ct++){st.index>ct?(Ie=st,st=null):Ie=st.sibling;var Pt=B(x,st,L[ct],G);if(Pt===null){st===null&&(st=Ie);break}t&&st&&Pt.alternate===null&&n(x,st),O=f(Pt,O,ct),bt===null?it=Pt:bt.sibling=Pt,bt=Pt,st=Ie}if(ct===L.length)return r(x,st),Lt&&Xr(x,ct),it;if(st===null){for(;ct<L.length;ct++)st=F(x,L[ct],G),st!==null&&(O=f(st,O,ct),bt===null?it=st:bt.sibling=st,bt=st);return Lt&&Xr(x,ct),it}for(st=l(st);ct<L.length;ct++)Ie=q(st,x,ct,L[ct],G),Ie!==null&&(t&&Ie.alternate!==null&&st.delete(Ie.key===null?ct:Ie.key),O=f(Ie,O,ct),bt===null?it=Ie:bt.sibling=Ie,bt=Ie);return t&&st.forEach(function(yr){return n(x,yr)}),Lt&&Xr(x,ct),it}function gt(x,O,L,G){if(L==null)throw Error(a(151));for(var it=null,bt=null,st=O,ct=O=0,Ie=null,Pt=L.next();st!==null&&!Pt.done;ct++,Pt=L.next()){st.index>ct?(Ie=st,st=null):Ie=st.sibling;var yr=B(x,st,Pt.value,G);if(yr===null){st===null&&(st=Ie);break}t&&st&&yr.alternate===null&&n(x,st),O=f(yr,O,ct),bt===null?it=yr:bt.sibling=yr,bt=yr,st=Ie}if(Pt.done)return r(x,st),Lt&&Xr(x,ct),it;if(st===null){for(;!Pt.done;ct++,Pt=L.next())Pt=F(x,Pt.value,G),Pt!==null&&(O=f(Pt,O,ct),bt===null?it=Pt:bt.sibling=Pt,bt=Pt);return Lt&&Xr(x,ct),it}for(st=l(st);!Pt.done;ct++,Pt=L.next())Pt=q(st,x,ct,Pt.value,G),Pt!==null&&(t&&Pt.alternate!==null&&st.delete(Pt.key===null?ct:Pt.key),O=f(Pt,O,ct),bt===null?it=Pt:bt.sibling=Pt,bt=Pt);return t&&st.forEach(function(cE){return n(x,cE)}),Lt&&Xr(x,ct),it}function re(x,O,L,G){if(typeof L=="object"&&L!==null&&L.type===_&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case d:t:{for(var it=L.key;O!==null;){if(O.key===it){if(it=L.type,it===_){if(O.tag===7){r(x,O.sibling),G=c(O,L.props.children),G.return=x,x=G;break t}}else if(O.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===dt&&sm(it)===O.type){r(x,O.sibling),G=c(O,L.props),il(G,L),G.return=x,x=G;break t}r(x,O);break}else n(x,O);O=O.sibling}L.type===_?(G=sa(L.props.children,x.mode,G,L.key),G.return=x,x=G):(G=$u(L.type,L.key,L.props,null,x.mode,G),il(G,L),G.return=x,x=G)}return y(x);case g:t:{for(it=L.key;O!==null;){if(O.key===it)if(O.tag===4&&O.stateNode.containerInfo===L.containerInfo&&O.stateNode.implementation===L.implementation){r(x,O.sibling),G=c(O,L.children||[]),G.return=x,x=G;break t}else{r(x,O);break}else n(x,O);O=O.sibling}G=Oh(L,x.mode,G),G.return=x,x=G}return y(x);case dt:return it=L._init,L=it(L._payload),re(x,O,L,G)}if(tt(L))return rt(x,O,L,G);if(xt(L)){if(it=xt(L),typeof it!="function")throw Error(a(150));return L=it.call(L),gt(x,O,L,G)}if(typeof L.then=="function")return re(x,O,Nu(L),G);if(L.$$typeof===j)return re(x,O,Yu(x,L),G);Mu(x,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,O!==null&&O.tag===6?(r(x,O.sibling),G=c(O,L),G.return=x,x=G):(r(x,O),G=Vh(L,x.mode,G),G.return=x,x=G),y(x)):r(x,O)}return function(x,O,L,G){try{nl=0;var it=re(x,O,L,G);return Ha=null,it}catch(st){if(st===tl)throw st;var bt=Dn(29,st,null,x.mode);return bt.lanes=G,bt.return=x,bt}finally{}}}var $r=lm(!0),um=lm(!1),ja=Ut(null),xu=Ut(0);function om(t,n){t=Ci,Ht(xu,t),Ht(ja,n),Ci=t|n.baseLanes}function zc(){Ht(xu,Ci),Ht(ja,ja.current)}function Lc(){Ci=xu.current,te(ja),te(xu)}var bn=Ut(null),Xn=null;function Wi(t){var n=t.alternate;Ht(Ee,Ee.current&1),Ht(bn,t),Xn===null&&(n===null||ja.current!==null||n.memoizedState!==null)&&(Xn=t)}function cm(t){if(t.tag===22){if(Ht(Ee,Ee.current),Ht(bn,t),Xn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Xn=t)}}else tr()}function tr(){Ht(Ee,Ee.current),Ht(bn,bn.current)}function _i(t){te(bn),Xn===t&&(Xn=null),te(Ee)}var Ee=Ut(0);function Uu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var $v=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},Jv=s.unstable_scheduleCallback,Wv=s.unstable_NormalPriority,Te={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pc(){return{controller:new $v,data:new Map,refCount:0}}function rl(t){t.refCount--,t.refCount===0&&Jv(Wv,function(){t.controller.abort()})}var al=null,Bc=0,Ga=0,Qa=null;function t0(t,n){if(al===null){var r=al=[];Bc=0,Ga=Qh(),Qa={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Bc++,n.then(hm,hm),n}function hm(){if(--Bc===0&&al!==null){Qa!==null&&(Qa.status="fulfilled");var t=al;al=null,Ga=0,Qa=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function e0(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var fm=A.S;A.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&t0(t,n),fm!==null&&fm(t,n)};var Jr=Ut(null);function kc(){var t=Jr.current;return t!==null?t:Kt.pooledCache}function zu(t,n){n===null?Ht(Jr,Jr.current):Ht(Jr,n.pool)}function dm(){var t=kc();return t===null?null:{parent:Te._currentValue,pool:t}}var er=0,St=null,jt=null,he=null,Lu=!1,Fa=!1,Wr=!1,Pu=0,sl=0,Ka=null,n0=0;function se(){throw Error(a(321))}function qc(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!sn(t[r],n[r]))return!1;return!0}function Hc(t,n,r,l,c,f){return er=f,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,A.H=t===null||t.memoizedState===null?ta:nr,Wr=!1,f=r(l,c),Wr=!1,Fa&&(f=gm(n,r,l,c)),mm(t),f}function mm(t){A.H=Zn;var n=jt!==null&&jt.next!==null;if(er=0,he=jt=St=null,Lu=!1,sl=0,Ka=null,n)throw Error(a(300));t===null||Ve||(t=t.dependencies,t!==null&&Ku(t)&&(Ve=!0))}function gm(t,n,r,l){St=t;var c=0;do{if(Fa&&(Ka=null),sl=0,Fa=!1,25<=c)throw Error(a(301));if(c+=1,he=jt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}A.H=ea,f=n(r,l)}while(Fa);return f}function i0(){var t=A.H,n=t.useState()[0];return n=typeof n.then=="function"?ll(n):n,t=t.useState()[0],(jt!==null?jt.memoizedState:null)!==t&&(St.flags|=1024),n}function jc(){var t=Pu!==0;return Pu=0,t}function Gc(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Qc(t){if(Lu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Lu=!1}er=0,he=jt=St=null,Fa=!1,sl=Pu=0,Ka=null}function tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return he===null?St.memoizedState=he=t:he=he.next=t,he}function fe(){if(jt===null){var t=St.alternate;t=t!==null?t.memoizedState:null}else t=jt.next;var n=he===null?St.memoizedState:he.next;if(n!==null)he=n,jt=t;else{if(t===null)throw St.alternate===null?Error(a(467)):Error(a(310));jt=t,t={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},he===null?St.memoizedState=he=t:he=he.next=t}return he}var Bu;Bu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function ll(t){var n=sl;return sl+=1,Ka===null&&(Ka=[]),t=rm(Ka,t,n),n=St,(he===null?n.memoizedState:he.next)===null&&(n=n.alternate,A.H=n===null||n.memoizedState===null?ta:nr),t}function ku(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ll(t);if(t.$$typeof===j)return qe(t)}throw Error(a(438,String(t)))}function Fc(t){var n=null,r=St.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=St.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Bu(),St.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=Qt;return n.index++,r}function vi(t,n){return typeof n=="function"?n(t):n}function qu(t){var n=fe();return Kc(n,jt,t)}function Kc(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,b=null,I=n,H=!1;do{var F=I.lane&-536870913;if(F!==I.lane?(It&F)===F:(er&F)===F){var B=I.revertLane;if(B===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),F===Ga&&(H=!0);else if((er&B)===B){I=I.next,B===Ga&&(H=!0);continue}else F={lane:0,revertLane:I.revertLane,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},b===null?(E=b=F,y=f):b=b.next=F,St.lanes|=B,hr|=B;F=I.action,Wr&&r(f,F),f=I.hasEagerState?I.eagerState:r(f,F)}else B={lane:F,revertLane:I.revertLane,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},b===null?(E=b=B,y=f):b=b.next=B,St.lanes|=F,hr|=F;I=I.next}while(I!==null&&I!==n);if(b===null?y=f:b.next=E,!sn(f,t.memoizedState)&&(Ve=!0,H&&(r=Qa,r!==null)))throw r;t.memoizedState=f,t.baseState=y,t.baseQueue=b,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Yc(t){var n=fe(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);sn(f,n.memoizedState)||(Ve=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function pm(t,n,r){var l=St,c=fe(),f=Lt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var y=!sn((jt||c).memoizedState,r);if(y&&(c.memoizedState=r,Ve=!0),c=c.queue,$c(vm.bind(null,l,c,t),[t]),c.getSnapshot!==n||y||he!==null&&he.memoizedState.tag&1){if(l.flags|=2048,Ya(9,_m.bind(null,l,c,r,n),{destroy:void 0},null),Kt===null)throw Error(a(349));f||(er&60)!==0||ym(l,n,r)}return r}function ym(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=St.updateQueue,n===null?(n=Bu(),St.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function _m(t,n,r,l){n.value=r,n.getSnapshot=l,Em(n)&&Tm(t)}function vm(t,n,r){return r(function(){Em(n)&&Tm(t)})}function Em(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!sn(t,r)}catch{return!0}}function Tm(t){var n=Ji(t,2);n!==null&&$e(n,t,2)}function Xc(t){var n=tn();if(typeof t=="function"){var r=t;if(t=r(),Wr){Ln(!0);try{r()}finally{Ln(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:t},n}function Am(t,n,r,l){return t.baseState=r,Kc(t,jt,typeof l=="function"?l:vi)}function r0(t,n,r,l,c){if(Gu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};A.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,Sm(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Sm(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=A.T,y={};A.T=y;try{var E=r(c,l),b=A.S;b!==null&&b(y,E),bm(t,n,E)}catch(I){Zc(t,n,I)}finally{A.T=f}}else try{f=r(c,l),bm(t,n,f)}catch(I){Zc(t,n,I)}}function bm(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Rm(t,n,l)},function(l){return Zc(t,n,l)}):Rm(t,n,r)}function Rm(t,n,r){n.status="fulfilled",n.value=r,wm(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Sm(t,r)))}function Zc(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,wm(n),n=n.next;while(n!==l)}t.action=null}function wm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Dm(t,n){return n}function Cm(t,n){if(Lt){var r=Kt.formState;if(r!==null){t:{var l=St;if(Lt){if(xe){e:{for(var c=xe,f=Yn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Un(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){xe=Un(c.nextSibling),l=c.data==="F!";break t}}Zr(l)}l=!1}l&&(n=r[0])}}return r=tn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dm,lastRenderedState:n},r.queue=l,r=Fm.bind(null,St,l),l.dispatch=r,l=Xc(!1),f=nh.bind(null,St,!1,l.queue),l=tn(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=r0.bind(null,St,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function Vm(t){var n=fe();return Om(n,jt,t)}function Om(t,n,r){n=Kc(t,n,Dm)[0],t=qu(vi)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?ll(n):n;var l=fe(),c=l.queue,f=c.dispatch;return r!==l.memoizedState&&(St.flags|=2048,Ya(9,a0.bind(null,c,r),{destroy:void 0},null)),[n,f,t]}function a0(t,n){t.action=n}function Im(t){var n=fe(),r=jt;if(r!==null)return Om(n,r,t);fe(),n=n.memoizedState,r=fe();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Ya(t,n,r,l){return t={tag:t,create:n,inst:r,deps:l,next:null},n=St.updateQueue,n===null&&(n=Bu(),St.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Nm(){return fe().memoizedState}function Hu(t,n,r,l){var c=tn();St.flags|=t,c.memoizedState=Ya(1|n,r,{destroy:void 0},l===void 0?null:l)}function ju(t,n,r,l){var c=fe();l=l===void 0?null:l;var f=c.memoizedState.inst;jt!==null&&l!==null&&qc(l,jt.memoizedState.deps)?c.memoizedState=Ya(n,r,f,l):(St.flags|=t,c.memoizedState=Ya(1|n,r,f,l))}function Mm(t,n){Hu(8390656,8,t,n)}function $c(t,n){ju(2048,8,t,n)}function xm(t,n){return ju(4,2,t,n)}function Um(t,n){return ju(4,4,t,n)}function zm(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Lm(t,n,r){r=r!=null?r.concat([t]):null,ju(4,4,zm.bind(null,n,t),r)}function Jc(){}function Pm(t,n){var r=fe();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&qc(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Bm(t,n){var r=fe();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&qc(n,l[1]))return l[0];if(l=t(),Wr){Ln(!0);try{t()}finally{Ln(!1)}}return r.memoizedState=[l,n],l}function Wc(t,n,r){return r===void 0||(er&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=qg(),St.lanes|=t,hr|=t,r)}function km(t,n,r,l){return sn(r,n)?r:ja.current!==null?(t=Wc(t,r,l),sn(t,n)||(Ve=!0),t):(er&42)===0?(Ve=!0,t.memoizedState=r):(t=qg(),St.lanes|=t,hr|=t,n)}function qm(t,n,r,l,c){var f=et.p;et.p=f!==0&&8>f?f:8;var y=A.T,E={};A.T=E,nh(t,!1,n,r);try{var b=c(),I=A.S;if(I!==null&&I(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var H=e0(b,l);ul(t,n,H,cn(t))}else ul(t,n,l,cn(t))}catch(F){ul(t,n,{then:function(){},status:"rejected",reason:F},cn())}finally{et.p=f,A.T=y}}function s0(){}function th(t,n,r,l){if(t.tag!==5)throw Error(a(476));var c=Hm(t).queue;qm(t,c,n,At,r===null?s0:function(){return jm(t),r(l)})}function Hm(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:At,baseState:At,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:At},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function jm(t){var n=Hm(t).next.queue;ul(t,n,{},cn())}function eh(){return qe(Cl)}function Gm(){return fe().memoizedState}function Qm(){return fe().memoizedState}function l0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=cn();t=ar(r);var l=sr(n,t,r);l!==null&&($e(l,n,r),hl(l,n,r)),n={cache:Pc()},t.payload=n;return}n=n.return}}function u0(t,n,r){var l=cn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Gu(t)?Km(n,r):(r=Ic(t,n,r,l),r!==null&&($e(r,t,l),Ym(r,n,l)))}function Fm(t,n,r){var l=cn();ul(t,n,r,l)}function ul(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Gu(t))Km(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,r);if(c.hasEagerState=!0,c.eagerState=E,sn(E,y))return Du(t,n,c,0),Kt===null&&wu(),!1}catch{}finally{}if(r=Ic(t,n,c,l),r!==null)return $e(r,t,l),Ym(r,n,l),!0}return!1}function nh(t,n,r,l){if(l={lane:2,revertLane:Qh(),action:l,hasEagerState:!1,eagerState:null,next:null},Gu(t)){if(n)throw Error(a(479))}else n=Ic(t,r,l,2),n!==null&&$e(n,t,2)}function Gu(t){var n=t.alternate;return t===St||n!==null&&n===St}function Km(t,n){Fa=Lu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Ym(t,n,r){if((r&4194176)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Hi(t,r)}}var Zn={readContext:qe,use:ku,useCallback:se,useContext:se,useEffect:se,useImperativeHandle:se,useLayoutEffect:se,useInsertionEffect:se,useMemo:se,useReducer:se,useRef:se,useState:se,useDebugValue:se,useDeferredValue:se,useTransition:se,useSyncExternalStore:se,useId:se};Zn.useCacheRefresh=se,Zn.useMemoCache=se,Zn.useHostTransitionStatus=se,Zn.useFormState=se,Zn.useActionState=se,Zn.useOptimistic=se;var ta={readContext:qe,use:ku,useCallback:function(t,n){return tn().memoizedState=[t,n===void 0?null:n],t},useContext:qe,useEffect:Mm,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Hu(4194308,4,zm.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Hu(4194308,4,t,n)},useInsertionEffect:function(t,n){Hu(4,2,t,n)},useMemo:function(t,n){var r=tn();n=n===void 0?null:n;var l=t();if(Wr){Ln(!0);try{t()}finally{Ln(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=tn();if(r!==void 0){var c=r(n);if(Wr){Ln(!0);try{r(n)}finally{Ln(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=u0.bind(null,St,t),[l.memoizedState,t]},useRef:function(t){var n=tn();return t={current:t},n.memoizedState=t},useState:function(t){t=Xc(t);var n=t.queue,r=Fm.bind(null,St,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Jc,useDeferredValue:function(t,n){var r=tn();return Wc(r,t,n)},useTransition:function(){var t=Xc(!1);return t=qm.bind(null,St,t.queue,!0,!1),tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=St,c=tn();if(Lt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Kt===null)throw Error(a(349));(It&60)!==0||ym(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,Mm(vm.bind(null,l,f,t),[t]),l.flags|=2048,Ya(9,_m.bind(null,l,f,r,n),{destroy:void 0},null),r},useId:function(){var t=tn(),n=Kt.identifierPrefix;if(Lt){var r=yi,l=pi;r=(l&~(1<<32-Ke(l)-1)).toString(32)+r,n=":"+n+"R"+r,r=Pu++,0<r&&(n+="H"+r.toString(32)),n+=":"}else r=n0++,n=":"+n+"r"+r.toString(32)+":";return t.memoizedState=n},useCacheRefresh:function(){return tn().memoizedState=l0.bind(null,St)}};ta.useMemoCache=Fc,ta.useHostTransitionStatus=eh,ta.useFormState=Cm,ta.useActionState=Cm,ta.useOptimistic=function(t){var n=tn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=nh.bind(null,St,!0,r),r.dispatch=n,[t,n]};var nr={readContext:qe,use:ku,useCallback:Pm,useContext:qe,useEffect:$c,useImperativeHandle:Lm,useInsertionEffect:xm,useLayoutEffect:Um,useMemo:Bm,useReducer:qu,useRef:Nm,useState:function(){return qu(vi)},useDebugValue:Jc,useDeferredValue:function(t,n){var r=fe();return km(r,jt.memoizedState,t,n)},useTransition:function(){var t=qu(vi)[0],n=fe().memoizedState;return[typeof t=="boolean"?t:ll(t),n]},useSyncExternalStore:pm,useId:Gm};nr.useCacheRefresh=Qm,nr.useMemoCache=Fc,nr.useHostTransitionStatus=eh,nr.useFormState=Vm,nr.useActionState=Vm,nr.useOptimistic=function(t,n){var r=fe();return Am(r,jt,t,n)};var ea={readContext:qe,use:ku,useCallback:Pm,useContext:qe,useEffect:$c,useImperativeHandle:Lm,useInsertionEffect:xm,useLayoutEffect:Um,useMemo:Bm,useReducer:Yc,useRef:Nm,useState:function(){return Yc(vi)},useDebugValue:Jc,useDeferredValue:function(t,n){var r=fe();return jt===null?Wc(r,t,n):km(r,jt.memoizedState,t,n)},useTransition:function(){var t=Yc(vi)[0],n=fe().memoizedState;return[typeof t=="boolean"?t:ll(t),n]},useSyncExternalStore:pm,useId:Gm};ea.useCacheRefresh=Qm,ea.useMemoCache=Fc,ea.useHostTransitionStatus=eh,ea.useFormState=Im,ea.useActionState=Im,ea.useOptimistic=function(t,n){var r=fe();return jt!==null?Am(r,jt,t,n):(r.baseState=t,[t,r.queue.dispatch])};function ih(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:D({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var rh={isMounted:function(t){return(t=t._reactInternals)?lt(t)===t:!1},enqueueSetState:function(t,n,r){t=t._reactInternals;var l=cn(),c=ar(l);c.payload=n,r!=null&&(c.callback=r),n=sr(t,c,l),n!==null&&($e(n,t,l),hl(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=cn(),c=ar(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=sr(t,c,l),n!==null&&($e(n,t,l),hl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=cn(),l=ar(r);l.tag=2,n!=null&&(l.callback=n),n=sr(t,l,r),n!==null&&($e(n,t,r),hl(n,t,r))}};function Xm(t,n,r,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!Xs(r,l)||!Xs(c,f):!0}function Zm(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&rh.enqueueReplaceState(n,n.state,null)}function na(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=D({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var Qu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function $m(t){Qu(t)}function Jm(t){console.error(t)}function Wm(t){Qu(t)}function Fu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function tg(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function ah(t,n,r){return r=ar(r),r.tag=3,r.payload={element:null},r.callback=function(){Fu(t,n)},r}function eg(t){return t=ar(t),t.tag=3,t}function ng(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){tg(n,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){tg(n,r,l),typeof c!="function"&&(fr===null?fr=new Set([this]):fr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function o0(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&cl(n,r,c,!0),r=bn.current,r!==null){switch(r.tag){case 13:return Xn===null?kh():r.alternate===null&&ie===0&&(ie=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===Uc?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),Hh(t,l,c)),!1;case 22:return r.flags|=65536,l===Uc?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),Hh(t,l,c)),!1}throw Error(a(435,r.tag))}return Hh(t,l,c),kh(),!1}if(Lt)return n=bn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==xc&&(t=Error(a(422),{cause:l}),Ws(Tn(t,r)))):(l!==xc&&(n=Error(a(423),{cause:l}),Ws(Tn(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Tn(l,r),c=ah(t.stateNode,l,c),Eh(t,c),ie!==4&&(ie=2)),!1;var f=Error(a(520),{cause:l});if(f=Tn(f,r),vl===null?vl=[f]:vl.push(f),ie!==4&&(ie=2),n===null)return!0;l=Tn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=ah(r.stateNode,l,t),Eh(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(fr===null||!fr.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=eg(c),ng(c,t,r,l),Eh(r,c),!1}r=r.return}while(r!==null);return!1}var ig=Error(a(461)),Ve=!1;function Ue(t,n,r,l){n.child=t===null?um(n,null,r,l):$r(n,t.child,r,l)}function rg(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return ra(n),l=Hc(t,n,r,y,f,c),E=jc(),t!==null&&!Ve?(Gc(t,n,c),Ei(t,n,c)):(Lt&&E&&Nc(n),n.flags|=1,Ue(t,n,l,c),n.child)}function ag(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!Ch(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,sg(t,n,f,l,c)):(t=$u(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!mh(t,c)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:Xs,r(y,l)&&t.ref===n.ref)return Ei(t,n,c)}return n.flags|=1,t=cr(f,l),t.ref=n.ref,t.return=n,n.child=t}function sg(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(Xs(f,l)&&t.ref===n.ref)if(Ve=!1,n.pendingProps=l=f,mh(t,c))(t.flags&131072)!==0&&(Ve=!0);else return n.lanes=t.lanes,Ei(t,n,c)}return sh(t,n,r,l,c)}function lg(t,n,r){var l=n.pendingProps,c=l.children,f=(n.stateNode._pendingVisibility&2)!==0,y=t!==null?t.memoizedState:null;if(ol(t,n),l.mode==="hidden"||f){if((n.flags&128)!==0){if(l=y!==null?y.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return ug(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&zu(n,y!==null?y.cachePool:null),y!==null?om(n,y):zc(),cm(n);else return n.lanes=n.childLanes=536870912,ug(t,n,y!==null?y.baseLanes|r:r,r)}else y!==null?(zu(n,y.cachePool),om(n,y),tr(),n.memoizedState=null):(t!==null&&zu(n,null),zc(),tr());return Ue(t,n,c,r),n.child}function ug(t,n,r,l){var c=kc();return c=c===null?null:{parent:Te._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&zu(n,null),zc(),cm(n),t!==null&&cl(t,n,l,!0),null}function ol(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=2097664);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=2097664)}}function sh(t,n,r,l,c){return ra(n),r=Hc(t,n,r,l,void 0,c),l=jc(),t!==null&&!Ve?(Gc(t,n,c),Ei(t,n,c)):(Lt&&l&&Nc(n),n.flags|=1,Ue(t,n,r,c),n.child)}function og(t,n,r,l,c,f){return ra(n),n.updateQueue=null,r=gm(n,l,r,c),mm(t),l=jc(),t!==null&&!Ve?(Gc(t,n,f),Ei(t,n,f)):(Lt&&l&&Nc(n),n.flags|=1,Ue(t,n,r,f),n.child)}function cg(t,n,r,l,c){if(ra(n),n.stateNode===null){var f=Ba,y=r.contextType;typeof y=="object"&&y!==null&&(f=qe(y)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=rh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},_h(n),y=r.contextType,f.context=typeof y=="object"&&y!==null?qe(y):Ba,f.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(ih(n,r,y,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&rh.enqueueReplaceState(f,f.state,null),dl(n,l,f,c),fl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,b=na(r,E);f.props=b;var I=f.context,H=r.contextType;y=Ba,typeof H=="object"&&H!==null&&(y=qe(H));var F=r.getDerivedStateFromProps;H=typeof F=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||I!==y)&&Zm(n,f,l,y),rr=!1;var B=n.memoizedState;f.state=B,dl(n,l,f,c),fl(),I=n.memoizedState,E||B!==I||rr?(typeof F=="function"&&(ih(n,r,F,l),I=n.memoizedState),(b=rr||Xm(n,r,b,l,B,I,y))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=I),f.props=l,f.state=I,f.context=y,l=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,vh(t,n),y=n.memoizedProps,H=na(r,y),f.props=H,F=n.pendingProps,B=f.context,I=r.contextType,b=Ba,typeof I=="object"&&I!==null&&(b=qe(I)),E=r.getDerivedStateFromProps,(I=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==F||B!==b)&&Zm(n,f,l,b),rr=!1,B=n.memoizedState,f.state=B,dl(n,l,f,c),fl();var q=n.memoizedState;y!==F||B!==q||rr||t!==null&&t.dependencies!==null&&Ku(t.dependencies)?(typeof E=="function"&&(ih(n,r,E,l),q=n.memoizedState),(H=rr||Xm(n,r,H,l,B,q,b)||t!==null&&t.dependencies!==null&&Ku(t.dependencies))?(I||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=b,l=H):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,ol(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=$r(n,t.child,null,c),n.child=$r(n,null,r,c)):Ue(t,n,r,c),n.memoizedState=f.state,t=n.child):t=Ei(t,n,c),t}function hg(t,n,r,l){return Js(),n.flags|=256,Ue(t,n,r,l),n.child}var lh={dehydrated:null,treeContext:null,retryLane:0};function uh(t){return{baseLanes:t,cachePool:dm()}}function oh(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Cn),t}function fg(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Ee.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Lt){if(c?Wi(n):tr(),Lt){var E=xe,b;if(b=E){t:{for(b=E,E=Yn;b.nodeType!==8;){if(!E){E=null;break t}if(b=Un(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:Yr!==null?{id:pi,overflow:yi}:null,retryLane:536870912},b=Dn(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,Ze=n,xe=null,b=!0):b=!1}b||Zr(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return E.data==="$!"?n.lanes=16:n.lanes=536870912,null;_i(n)}return E=l.children,l=l.fallback,c?(tr(),c=n.mode,E=hh({mode:"hidden",children:E},c),l=sa(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=uh(r),c.childLanes=oh(t,y,r),n.memoizedState=lh,l):(Wi(n),ch(n,E))}if(b=t.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?(Wi(n),n.flags&=-257,n=fh(t,n,r)):n.memoizedState!==null?(tr(),n.child=t.child,n.flags|=128,n=null):(tr(),c=l.fallback,E=n.mode,l=hh({mode:"visible",children:l.children},E),c=sa(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,$r(n,t.child,null,r),l=n.child,l.memoizedState=uh(r),l.childLanes=oh(t,y,r),n.memoizedState=lh,n=c);else if(Wi(n),E.data==="$!"){if(y=E.nextSibling&&E.nextSibling.dataset,y)var I=y.dgst;y=I,l=Error(a(419)),l.stack="",l.digest=y,Ws({value:l,source:null,stack:null}),n=fh(t,n,r)}else if(Ve||cl(t,n,r,!1),y=(r&t.childLanes)!==0,Ve||y){if(y=Kt,y!==null){if(l=r&-r,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(y.suspendedLanes|r))!==0?0:l,l!==0&&l!==b.retryLane)throw b.retryLane=l,Ji(t,l),$e(y,t,l),ig}E.data==="$?"||kh(),n=fh(t,n,r)}else E.data==="$?"?(n.flags|=128,n.child=t.child,n=b0.bind(null,t),E._reactRetry=n,n=null):(t=b.treeContext,xe=Un(E.nextSibling),Ze=n,Lt=!0,Mn=null,Yn=!1,t!==null&&(An[Sn++]=pi,An[Sn++]=yi,An[Sn++]=Yr,pi=t.id,yi=t.overflow,Yr=n),n=ch(n,l.children),n.flags|=4096);return n}return c?(tr(),c=l.fallback,E=n.mode,b=t.child,I=b.sibling,l=cr(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&31457280,I!==null?c=cr(I,c):(c=sa(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=uh(r):(b=E.cachePool,b!==null?(I=Te._currentValue,b=b.parent!==I?{parent:I,pool:I}:b):b=dm(),E={baseLanes:E.baseLanes|r,cachePool:b}),c.memoizedState=E,c.childLanes=oh(t,y,r),n.memoizedState=lh,l):(Wi(n),r=t.child,t=r.sibling,r=cr(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function ch(t,n){return n=hh({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function hh(t,n){return Pg(t,n,0,null)}function fh(t,n,r){return $r(n,t.child,null,r),t=ch(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function dg(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),ph(t.return,n,r)}function dh(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function mg(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(Ue(t,n,l.children,r),l=Ee.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&dg(t,r,n);else if(t.tag===19)dg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Ht(Ee,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&Uu(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),dh(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Uu(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}dh(n,!0,r,null,f);break;case"together":dh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ei(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),hr|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(cl(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=cr(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=cr(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function mh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Ku(t)))}function c0(t,n,r){switch(n.tag){case 3:zi(n,n.stateNode.containerInfo),ir(n,Te,t.memoizedState.cache),Js();break;case 27:case 5:Cs(n);break;case 4:zi(n,n.stateNode.containerInfo);break;case 10:ir(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Wi(n),n.flags|=128,null):(r&n.child.childLanes)!==0?fg(t,n,r):(Wi(n),t=Ei(t,n,r),t!==null?t.sibling:null);Wi(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(cl(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return mg(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Ht(Ee,Ee.current),l)break;return null;case 22:case 23:return n.lanes=0,lg(t,n,r);case 24:ir(n,Te,t.memoizedState.cache)}return Ei(t,n,r)}function gg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ve=!0;else{if(!mh(t,r)&&(n.flags&128)===0)return Ve=!1,c0(t,n,r);Ve=(t.flags&131072)!==0}else Ve=!1,Lt&&(n.flags&1048576)!==0&&Wd(n,Ou,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Ch(l)?(t=na(l,t),n.tag=1,n=cg(null,n,l,t,r)):(n.tag=0,n=sh(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===Z){n.tag=11,n=rg(null,n,l,t,r);break t}else if(c===yt){n.tag=14,n=ag(null,n,l,t,r);break t}}throw n=R(l)||l,Error(a(306,n,""))}}return n;case 0:return sh(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=na(l,n.pendingProps),cg(t,n,l,c,r);case 3:t:{if(zi(n,n.stateNode.containerInfo),t===null)throw Error(a(387));var f=n.pendingProps;c=n.memoizedState,l=c.element,vh(t,n),dl(n,f,null,r);var y=n.memoizedState;if(f=y.cache,ir(n,Te,f),f!==c.cache&&yh(n,[Te],r,!0),fl(),f=y.element,c.isDehydrated)if(c={element:f,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=c,n.memoizedState=c,n.flags&256){n=hg(t,n,f,r);break t}else if(f!==l){l=Tn(Error(a(424)),n),Ws(l),n=hg(t,n,f,r);break t}else for(xe=Un(n.stateNode.containerInfo.firstChild),Ze=n,Lt=!0,Mn=null,Yn=!0,r=um(n,null,f,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Js(),f===l){n=Ei(t,n,r);break t}Ue(t,n,f,r)}n=n.child}return n;case 26:return ol(t,n),t===null?(r=_p(n.type,null,n.pendingProps,null))?n.memoizedState=r:Lt||(r=n.type,t=n.pendingProps,l=oo(dn.current).createElement(r),l[we]=n,l[ye]=t,ze(l,r,t),Zt(l),n.stateNode=l):n.memoizedState=_p(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Cs(n),t===null&&Lt&&(l=n.stateNode=gp(n.type,n.pendingProps,dn.current),Ze=n,Yn=!0,xe=Un(l.firstChild)),l=n.pendingProps.children,t!==null||Lt?Ue(t,n,l,r):n.child=$r(n,null,l,r),ol(t,n),n.child;case 5:return t===null&&Lt&&((c=l=xe)&&(l=k0(l,n.type,n.pendingProps,Yn),l!==null?(n.stateNode=l,Ze=n,xe=Un(l.firstChild),Yn=!1,c=!0):c=!1),c||Zr(n)),Cs(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,tf(c,f)?l=null:y!==null&&tf(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=Hc(t,n,i0,null,null,r),Cl._currentValue=c),ol(t,n),Ue(t,n,l,r),n.child;case 6:return t===null&&Lt&&((t=r=xe)&&(r=q0(r,n.pendingProps,Yn),r!==null?(n.stateNode=r,Ze=n,xe=null,t=!0):t=!1),t||Zr(n)),null;case 13:return fg(t,n,r);case 4:return zi(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=$r(n,null,l,r):Ue(t,n,l,r),n.child;case 11:return rg(t,n,n.type,n.pendingProps,r);case 7:return Ue(t,n,n.pendingProps,r),n.child;case 8:return Ue(t,n,n.pendingProps.children,r),n.child;case 12:return Ue(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,ir(n,n.type,l.value),Ue(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ra(n),c=qe(c),l=l(c),n.flags|=1,Ue(t,n,l,r),n.child;case 14:return ag(t,n,n.type,n.pendingProps,r);case 15:return sg(t,n,n.type,n.pendingProps,r);case 19:return mg(t,n,r);case 22:return lg(t,n,r);case 24:return ra(n),l=qe(Te),t===null?(c=kc(),c===null&&(c=Kt,f=Pc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},_h(n),ir(n,Te,c)):((t.lanes&r)!==0&&(vh(t,n),dl(n,null,null,r),fl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),ir(n,Te,l)):(l=f.cache,ir(n,Te,l),l!==c.cache&&yh(n,[Te],r,!0))),Ue(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}var gh=Ut(null),ia=null,Ti=null;function ir(t,n,r){Ht(gh,n._currentValue),n._currentValue=r}function Ai(t){t._currentValue=gh.current,te(gh)}function ph(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function yh(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),ph(f.return,r,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(a(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),ph(y,r,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function cl(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var E=c.type;sn(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===Ui.current){if(y=c.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Cl):t=[Cl])}c=c.return}t!==null&&yh(n,t,r,l),n.flags|=262144}function Ku(t){for(t=t.firstContext;t!==null;){if(!sn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ra(t){ia=t,Ti=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qe(t){return pg(ia,t)}function Yu(t,n){return ia===null&&ra(t),pg(t,n)}function pg(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ti===null){if(t===null)throw Error(a(308));Ti=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ti=Ti.next=n;return r}var rr=!1;function _h(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ar(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function sr(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Jt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Cu(t),$d(t,null,r),n}return Du(t,l,n,r),Cu(t)}function hl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194176)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Hi(t,r)}}function Eh(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Th=!1;function fl(){if(Th){var t=Qa;if(t!==null)throw t}}function dl(t,n,r,l){Th=!1;var c=t.updateQueue;rr=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var b=E,I=b.next;b.next=null,y===null?f=I:y.next=I,y=b;var H=t.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==y&&(E===null?H.firstBaseUpdate=I:E.next=I,H.lastBaseUpdate=b))}if(f!==null){var F=c.baseState;y=0,H=I=b=null,E=f;do{var B=E.lane&-536870913,q=B!==E.lane;if(q?(It&B)===B:(l&B)===B){B!==0&&B===Ga&&(Th=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var rt=t,gt=E;B=n;var re=r;switch(gt.tag){case 1:if(rt=gt.payload,typeof rt=="function"){F=rt.call(re,F,B);break t}F=rt;break t;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=gt.payload,B=typeof rt=="function"?rt.call(re,F,B):rt,B==null)break t;F=D({},F,B);break t;case 2:rr=!0}}B=E.callback,B!==null&&(t.flags|=64,q&&(t.flags|=8192),q=c.callbacks,q===null?c.callbacks=[B]:q.push(B))}else q={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(I=H=q,b=F):H=H.next=q,y|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;q=E,E=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);H===null&&(b=F),c.baseState=b,c.firstBaseUpdate=I,c.lastBaseUpdate=H,f===null&&(c.shared.lanes=0),hr|=y,t.lanes=y,t.memoizedState=F}}function yg(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function _g(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)yg(r[t],n)}function ml(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,y=r.inst;l=f(),y.destroy=l}r=r.next}while(r!==c)}}catch(E){Ft(n,n.return,E)}}function lr(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var b=r;try{E()}catch(I){Ft(c,b,I)}}}l=l.next}while(l!==f)}}catch(I){Ft(n,n.return,I)}}function vg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{_g(n,r)}catch(l){Ft(t,t.return,l)}}}function Eg(t,n,r){r.props=na(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Ft(t,n,l)}}function aa(t,n){try{var r=t.ref;if(r!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var c=l;break;default:c=l}typeof r=="function"?t.refCleanup=r(c):r.current=c}}catch(f){Ft(t,n,f)}}function ln(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Ft(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Ft(t,n,c)}else r.current=null}function Tg(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Ft(t,t.return,c)}}function Ag(t,n,r){try{var l=t.stateNode;U0(l,t.type,r,n),l[ye]=n}catch(c){Ft(t,t.return,c)}}function Sg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function Ah(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Sg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Sh(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.nodeType===8?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(r.nodeType===8?(n=r.parentNode,n.insertBefore(t,r)):(n=r,n.appendChild(t)),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=uo));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Sh(t,n,r),t=t.sibling;t!==null;)Sh(t,n,r),t=t.sibling}function Xu(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Xu(t,n,r),t=t.sibling;t!==null;)Xu(t,n,r),t=t.sibling}var Si=!1,ne=!1,bh=!1,bg=typeof WeakSet=="function"?WeakSet:Set,Oe=null,Rg=!1;function h0(t,n){if(t=t.containerInfo,Jh=po,t=Hd(t),wc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var y=0,E=-1,b=-1,I=0,H=0,F=t,B=null;e:for(;;){for(var q;F!==r||c!==0&&F.nodeType!==3||(E=y+c),F!==f||l!==0&&F.nodeType!==3||(b=y+l),F.nodeType===3&&(y+=F.nodeValue.length),(q=F.firstChild)!==null;)B=F,F=q;for(;;){if(F===t)break e;if(B===r&&++I===c&&(E=y),B===f&&++H===l&&(b=y),(q=F.nextSibling)!==null)break;F=B,B=F.parentNode}F=q}r=E===-1||b===-1?null:{start:E,end:b}}else r=null}r=r||{start:0,end:0}}else r=null;for(Wh={focusedElem:t,selectionRange:r},po=!1,Oe=n;Oe!==null;)if(n=Oe,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Oe=t;else for(;Oe!==null;){switch(n=Oe,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var rt=na(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(rt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(gt){Ft(r,r.return,gt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)rf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":rf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Oe=t;break}Oe=n.return}return rt=Rg,Rg=!1,rt}function wg(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Ri(t,r),l&4&&ml(5,r);break;case 1:if(Ri(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(E){Ft(r,r.return,E)}else{var c=na(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(E){Ft(r,r.return,E)}}l&64&&vg(r),l&512&&aa(r,r.return);break;case 3:if(Ri(t,r),l&64&&(l=r.updateQueue,l!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{_g(l,t)}catch(E){Ft(r,r.return,E)}}break;case 26:Ri(t,r),l&512&&aa(r,r.return);break;case 27:case 5:Ri(t,r),n===null&&l&4&&Tg(r),l&512&&aa(r,r.return);break;case 12:Ri(t,r);break;case 13:Ri(t,r),l&4&&Vg(t,r);break;case 22:if(c=r.memoizedState!==null||Si,!c){n=n!==null&&n.memoizedState!==null||ne;var f=Si,y=ne;Si=c,(ne=n)&&!y?ur(t,r,(r.subtreeFlags&8772)!==0):Ri(t,r),Si=f,ne=y}l&512&&(r.memoizedProps.mode==="manual"?aa(r,r.return):ln(r,r.return));break;default:Ri(t,r)}}function Dg(t){var n=t.alternate;n!==null&&(t.alternate=null,Dg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ur(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var de=null,un=!1;function bi(t,n,r){for(r=r.child;r!==null;)Cg(t,n,r),r=r.sibling}function Cg(t,n,r){if(ke&&typeof ke.onCommitFiberUnmount=="function")try{ke.onCommitFiberUnmount(Li,r)}catch{}switch(r.tag){case 26:ne||ln(r,n),bi(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ne||ln(r,n);var l=de,c=un;for(de=r.stateNode,bi(t,n,r),r=r.stateNode,n=r.attributes;n.length;)r.removeAttributeNode(n[0]);Ur(r),de=l,un=c;break;case 5:ne||ln(r,n);case 6:c=de;var f=un;if(de=null,bi(t,n,r),de=c,un=f,de!==null)if(un)try{t=de,l=r.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(y){Ft(r,n,y)}else try{de.removeChild(r.stateNode)}catch(y){Ft(r,n,y)}break;case 18:de!==null&&(un?(n=de,r=r.stateNode,n.nodeType===8?nf(n.parentNode,r):n.nodeType===1&&nf(n,r),Nl(n)):nf(de,r.stateNode));break;case 4:l=de,c=un,de=r.stateNode.containerInfo,un=!0,bi(t,n,r),de=l,un=c;break;case 0:case 11:case 14:case 15:ne||lr(2,r,n),ne||lr(4,r,n),bi(t,n,r);break;case 1:ne||(ln(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Eg(r,n,l)),bi(t,n,r);break;case 21:bi(t,n,r);break;case 22:ne||ln(r,n),ne=(l=ne)||r.memoizedState!==null,bi(t,n,r),ne=l;break;default:bi(t,n,r)}}function Vg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Nl(t)}catch(r){Ft(n,n.return,r)}}function f0(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new bg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new bg),n;default:throw Error(a(435,t.tag))}}function Rh(t,n){var r=f0(t);n.forEach(function(l){var c=R0.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function Rn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:case 5:de=E.stateNode,un=!1;break t;case 3:de=E.stateNode.containerInfo,un=!0;break t;case 4:de=E.stateNode.containerInfo,un=!0;break t}E=E.return}if(de===null)throw Error(a(160));Cg(f,y,c),de=null,un=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Og(n,t),n=n.sibling}var xn=null;function Og(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Rn(n,t),wn(t),l&4&&(lr(3,t,t.return),ml(3,t),lr(5,t,t.return));break;case 1:Rn(n,t),wn(t),l&512&&(ne||r===null||ln(r,r.return)),l&64&&Si&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=xn;if(Rn(n,t),wn(t),l&512&&(ne||r===null||ln(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Gi]||f[we]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),ze(f,l,r),f[we]=t,Zt(f),l=f;break t;case"link":var y=Tp("link","href",c).get(l+(r.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(r.href==null?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),ze(f,l,r),c.head.appendChild(f);break;case"meta":if(y=Tp("meta","content",c).get(l+(r.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(E,1);break e}}f=c.createElement(l),ze(f,l,r),c.head.appendChild(f);break;default:throw Error(a(468,l))}f[we]=t,Zt(f),l=f}t.stateNode=l}else Ap(c,t.type,t.stateNode);else t.stateNode=Ep(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?Ap(c,t.type,t.stateNode):Ep(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ag(t,t.memoizedProps,r.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){c=t.stateNode,f=t.memoizedProps;try{for(var b=c.firstChild;b;){var I=b.nextSibling,H=b.nodeName;b[Gi]||H==="HEAD"||H==="BODY"||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&b.rel.toLowerCase()==="stylesheet"||c.removeChild(b),b=I}for(var F=t.type,B=c.attributes;B.length;)c.removeAttributeNode(B[0]);ze(c,F,f),c[we]=t,c[ye]=f}catch(rt){Ft(t,t.return,rt)}}case 5:if(Rn(n,t),wn(t),l&512&&(ne||r===null||ln(r,r.return)),t.flags&32){c=t.stateNode;try{pn(c,"")}catch(rt){Ft(t,t.return,rt)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Ag(t,c,r!==null?r.memoizedProps:c)),l&1024&&(bh=!0);break;case 6:if(Rn(n,t),wn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(rt){Ft(t,t.return,rt)}}break;case 3:if(fo=null,c=xn,xn=co(n.containerInfo),Rn(n,t),xn=c,wn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Nl(n.containerInfo)}catch(rt){Ft(t,t.return,rt)}bh&&(bh=!1,Ig(t));break;case 4:l=xn,xn=co(t.stateNode.containerInfo),Rn(n,t),wn(t),xn=l;break;case 12:Rn(n,t),wn(t);break;case 13:Rn(n,t),wn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(xh=Je()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Rh(t,l)));break;case 22:if(l&512&&(ne||r===null||ln(r,r.return)),b=t.memoizedState!==null,I=r!==null&&r.memoizedState!==null,H=Si,F=ne,Si=H||b,ne=F||I,Rn(n,t),ne=F,Si=H,wn(t),n=t.stateNode,n._current=t,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,l&8192&&(n._visibility=b?n._visibility&-2:n._visibility|1,b&&(n=Si||ne,r===null||I||n||Xa(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))t:for(r=null,n=t;;){if(n.tag===5||n.tag===26||n.tag===27){if(r===null){I=r=n;try{if(c=I.stateNode,b)f=c.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{y=I.stateNode,E=I.memoizedProps.style;var q=E!=null&&E.hasOwnProperty("display")?E.display:null;y.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(rt){Ft(I,I.return,rt)}}}else if(n.tag===6){if(r===null){I=n;try{I.stateNode.nodeValue=b?"":I.memoizedProps}catch(rt){Ft(I,I.return,rt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Rh(t,r))));break;case 19:Rn(n,t),wn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Rh(t,l)));break;case 21:break;default:Rn(n,t),wn(t)}}function wn(t){var n=t.flags;if(n&2){try{if(t.tag!==27){t:{for(var r=t.return;r!==null;){if(Sg(r)){var l=r;break t}r=r.return}throw Error(a(160))}switch(l.tag){case 27:var c=l.stateNode,f=Ah(t);Xu(t,f,c);break;case 5:var y=l.stateNode;l.flags&32&&(pn(y,""),l.flags&=-33);var E=Ah(t);Xu(t,E,y);break;case 3:case 4:var b=l.stateNode.containerInfo,I=Ah(t);Sh(t,I,b);break;default:throw Error(a(161))}}}catch(H){Ft(t,t.return,H)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Ig(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Ig(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Ri(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)wg(t,n.alternate,n),n=n.sibling}function Xa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:lr(4,n,n.return),Xa(n);break;case 1:ln(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Eg(n,n.return,r),Xa(n);break;case 26:case 27:case 5:ln(n,n.return),Xa(n);break;case 22:ln(n,n.return),n.memoizedState===null&&Xa(n);break;default:Xa(n)}t=t.sibling}}function ur(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:ur(c,f,r),ml(4,f);break;case 1:if(ur(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(I){Ft(l,l.return,I)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)yg(b[c],E)}catch(I){Ft(l,l.return,I)}}r&&y&64&&vg(f),aa(f,f.return);break;case 26:case 27:case 5:ur(c,f,r),r&&l===null&&y&4&&Tg(f),aa(f,f.return);break;case 12:ur(c,f,r);break;case 13:ur(c,f,r),r&&y&4&&Vg(c,f);break;case 22:f.memoizedState===null&&ur(c,f,r),aa(f,f.return);break;default:ur(c,f,r)}n=n.sibling}}function wh(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&rl(r))}function Dh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&rl(t))}function or(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ng(t,n,r,l),n=n.sibling}function Ng(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:or(t,n,r,l),c&2048&&ml(9,n);break;case 3:or(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&rl(t)));break;case 12:if(c&2048){or(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Ft(n,n.return,b)}}else or(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,n.memoizedState!==null?f._visibility&4?or(t,n,r,l):gl(t,n):f._visibility&4?or(t,n,r,l):(f._visibility|=4,Za(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&wh(n.alternate,n);break;case 24:or(t,n,r,l),c&2048&&Dh(n.alternate,n);break;default:or(t,n,r,l)}}function Za(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=r,b=l,I=y.flags;switch(y.tag){case 0:case 11:case 15:Za(f,y,E,b,c),ml(8,y);break;case 23:break;case 22:var H=y.stateNode;y.memoizedState!==null?H._visibility&4?Za(f,y,E,b,c):gl(f,y):(H._visibility|=4,Za(f,y,E,b,c)),c&&I&2048&&wh(y.alternate,y);break;case 24:Za(f,y,E,b,c),c&&I&2048&&Dh(y.alternate,y);break;default:Za(f,y,E,b,c)}n=n.sibling}}function gl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:gl(r,l),c&2048&&wh(l.alternate,l);break;case 24:gl(r,l),c&2048&&Dh(l.alternate,l);break;default:gl(r,l)}n=n.sibling}}var pl=8192;function $a(t){if(t.subtreeFlags&pl)for(t=t.child;t!==null;)Mg(t),t=t.sibling}function Mg(t){switch(t.tag){case 26:$a(t),t.flags&pl&&t.memoizedState!==null&&tE(xn,t.memoizedState,t.memoizedProps);break;case 5:$a(t);break;case 3:case 4:var n=xn;xn=co(t.stateNode.containerInfo),$a(t),xn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=pl,pl=16777216,$a(t),pl=n):$a(t));break;default:$a(t)}}function xg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function yl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Oe=l,zg(l,t)}xg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ug(t),t=t.sibling}function Ug(t){switch(t.tag){case 0:case 11:case 15:yl(t),t.flags&2048&&lr(9,t,t.return);break;case 3:yl(t);break;case 12:yl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&4&&(t.return===null||t.return.tag!==13)?(n._visibility&=-5,Zu(t)):yl(t);break;default:yl(t)}}function Zu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Oe=l,zg(l,t)}xg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:lr(8,n,n.return),Zu(n);break;case 22:r=n.stateNode,r._visibility&4&&(r._visibility&=-5,Zu(n));break;default:Zu(n)}t=t.sibling}}function zg(t,n){for(;Oe!==null;){var r=Oe;switch(r.tag){case 0:case 11:case 15:lr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:rl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Oe=l;else t:for(r=t;Oe!==null;){l=Oe;var c=l.sibling,f=l.return;if(Dg(l),l===r){Oe=null;break t}if(c!==null){c.return=f,Oe=c;break t}Oe=f}}}function d0(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(t,n,r,l){return new d0(t,n,r,l)}function Ch(t){return t=t.prototype,!(!t||!t.isReactComponent)}function cr(t,n){var r=t.alternate;return r===null?(r=Dn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&31457280,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Lg(t,n){t.flags&=31457282;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function $u(t,n,r,l,c,f){var y=0;if(l=t,typeof t=="function")Ch(t)&&(y=1);else if(typeof t=="string")y=J0(t,r,Fe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case _:return sa(r.children,c,f,n);case v:y=8,c|=24;break;case S:return t=Dn(12,r,n,c|2),t.elementType=S,t.lanes=f,t;case W:return t=Dn(13,r,n,c),t.elementType=W,t.lanes=f,t;case X:return t=Dn(19,r,n,c),t.elementType=X,t.lanes=f,t;case Tt:return Pg(r,c,f,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case V:case j:y=10;break t;case P:y=9;break t;case Z:y=11;break t;case yt:y=14;break t;case dt:y=16,l=null;break t}y=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=Dn(y,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function sa(t,n,r,l){return t=Dn(7,t,l,n),t.lanes=r,t}function Pg(t,n,r,l){t=Dn(22,t,l,n),t.elementType=Tt,t.lanes=r;var c={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var f=c._current;if(f===null)throw Error(a(456));if((c._pendingVisibility&2)===0){var y=Ji(f,2);y!==null&&(c._pendingVisibility|=2,$e(y,f,2))}},attach:function(){var f=c._current;if(f===null)throw Error(a(456));if((c._pendingVisibility&2)!==0){var y=Ji(f,2);y!==null&&(c._pendingVisibility&=-3,$e(y,f,2))}}};return t.stateNode=c,t}function Vh(t,n,r){return t=Dn(6,t,null,n),t.lanes=r,t}function Oh(t,n,r){return n=Dn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function wi(t){t.flags|=4}function Bg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Sp(n)){if(n=bn.current,n!==null&&((It&4194176)===It?Xn!==null:(It&62914560)!==It&&(It&536870912)===0||n!==Xn))throw el=Uc,nm;t.flags|=8192}}function Ju(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ki():536870912,t.lanes|=n,Wa|=n)}function _l(t,n){if(!Lt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function $t(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&31457280,l|=c.flags&31457280,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function m0(t,n,r){var l=n.pendingProps;switch(Mc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(n),null;case 1:return $t(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ai(Te),ai(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&($s(n)?wi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Mn!==null&&(Ph(Mn),Mn=null))),$t(n),null;case 26:return r=n.memoizedState,t===null?(wi(n),r!==null?($t(n),Bg(n,r)):($t(n),n.flags&=-16777217)):r?r!==t.memoizedState?(wi(n),$t(n),Bg(n,r)):($t(n),n.flags&=-16777217):(t.memoizedProps!==l&&wi(n),$t(n),n.flags&=-16777217),null;case 27:_a(n),r=dn.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&wi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return $t(n),null}t=Fe.current,$s(n)?tm(n):(t=gp(c,l,r),n.stateNode=t,wi(n))}return $t(n),null;case 5:if(_a(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&wi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return $t(n),null}if(t=Fe.current,$s(n))tm(n);else{switch(c=oo(dn.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[we]=n,t[ye]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(ze(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&wi(n)}}return $t(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&wi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=dn.current,$s(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=Ze,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[we]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||op(t.nodeValue,r)),t||Zr(n)}else t=oo(t).createTextNode(l),t[we]=n,n.stateNode=t}return $t(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=$s(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[we]=n}else Js(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;$t(n),c=!1}else Mn!==null&&(Ph(Mn),Mn=null),c=!0;if(!c)return n.flags&256?(_i(n),n):(_i(n),null)}if(_i(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),Ju(n,n.updateQueue),$t(n),null;case 4:return ai(),t===null&&Xh(n.stateNode.containerInfo),$t(n),null;case 10:return Ai(n.type),$t(n),null;case 19:if(te(Ee),c=n.memoizedState,c===null)return $t(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)_l(c,!1);else{if(ie!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Uu(t),f!==null){for(n.flags|=128,_l(c,!1),t=f.updateQueue,n.updateQueue=t,Ju(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Lg(r,t),r=r.sibling;return Ht(Ee,Ee.current&1|2),n.child}t=t.sibling}c.tail!==null&&Je()>Wu&&(n.flags|=128,l=!0,_l(c,!1),n.lanes=4194304)}else{if(!l)if(t=Uu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,Ju(n,t),_l(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Lt)return $t(n),null}else 2*Je()-c.renderingStartTime>Wu&&r!==536870912&&(n.flags|=128,l=!0,_l(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=Je(),n.sibling=null,t=Ee.current,Ht(Ee,l?t&1|2:t&1),n):($t(n),null);case 22:case 23:return _i(n),Lc(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&($t(n),n.subtreeFlags&6&&(n.flags|=8192)):$t(n),r=n.updateQueue,r!==null&&Ju(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&te(Jr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ai(Te),$t(n),null;case 25:return null}throw Error(a(156,n.tag))}function g0(t,n){switch(Mc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ai(Te),ai(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return _a(n),null;case 13:if(_i(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Js()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return te(Ee),null;case 4:return ai(),null;case 10:return Ai(n.type),null;case 22:case 23:return _i(n),Lc(),t!==null&&te(Jr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ai(Te),null;case 25:return null;default:return null}}function kg(t,n){switch(Mc(n),n.tag){case 3:Ai(Te),ai();break;case 26:case 27:case 5:_a(n);break;case 4:ai();break;case 13:_i(n);break;case 19:te(Ee);break;case 10:Ai(n.type);break;case 22:case 23:_i(n),Lc(),t!==null&&te(Jr);break;case 24:Ai(Te)}}var p0={getCacheForType:function(t){var n=qe(Te),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},y0=typeof WeakMap=="function"?WeakMap:Map,Jt=0,Kt=null,Rt=null,It=0,Yt=0,on=null,Di=!1,Ja=!1,Ih=!1,Ci=0,ie=0,hr=0,la=0,Nh=0,Cn=0,Wa=0,vl=null,$n=null,Mh=!1,xh=0,Wu=1/0,to=null,fr=null,eo=!1,ua=null,El=0,Uh=0,zh=null,Tl=0,Lh=null;function cn(){if((Jt&2)!==0&&It!==0)return It&-It;if(A.T!==null){var t=Ga;return t!==0?t:Qh()}return lu()}function qg(){Cn===0&&(Cn=(It&536870912)===0||Lt?Ms():536870912);var t=bn.current;return t!==null&&(t.flags|=32),Cn}function $e(t,n,r){(t===Kt&&Yt===2||t.cancelPendingCommit!==null)&&(ts(t,0),Vi(t,It,Cn,!1)),ae(t,r),((Jt&2)===0||t!==Kt)&&(t===Kt&&((Jt&2)===0&&(la|=r),ie===4&&Vi(t,It,Cn,!1)),Jn(t))}function Hg(t,n,r){if((Jt&6)!==0)throw Error(a(327));var l=!r&&(n&60)===0&&(n&t.expiredLanes)===0||Bi(t,n),c=l?E0(t,n):qh(t,n,!0),f=l;do{if(c===0){Ja&&!l&&Vi(t,n,0,!1);break}else if(c===6)Vi(t,n,0,!Di);else{if(r=t.current.alternate,f&&!_0(r)){c=qh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=vl;var b=E.current.memoizedState.isDehydrated;if(b&&(ts(E,y).flags|=256),y=qh(E,y,!1),y!==2){if(Ih&&!b){E.errorRecoveryDisabledLanes|=f,la|=f,c=4;break t}f=$n,$n=c,f!==null&&Ph(f)}c=y}if(f=!1,c!==2)continue}}if(c===1){ts(t,0),Vi(t,n,0,!0);break}t:{switch(l=t,c){case 0:case 1:throw Error(a(345));case 4:if((n&4194176)===n){Vi(l,n,Cn,!Di);break t}break;case 2:$n=null;break;case 3:case 5:break;default:throw Error(a(329))}if(l.finishedWork=r,l.finishedLanes=n,(n&62914560)===n&&(f=xh+300-Je(),10<f)){if(Vi(l,n,Cn,!Di),mn(l,0)!==0)break t;l.timeoutHandle=fp(jg.bind(null,l,r,$n,to,Mh,n,Cn,la,Wa,Di,2,-0,0),f);break t}jg(l,r,$n,to,Mh,n,Cn,la,Wa,Di,0,-0,0)}}break}while(!0);Jn(t)}function Ph(t){$n===null?$n=t:$n.push.apply($n,t)}function jg(t,n,r,l,c,f,y,E,b,I,H,F,B){var q=n.subtreeFlags;if((q&8192||(q&16785408)===16785408)&&(Dl={stylesheets:null,count:0,unsuspend:W0},Mg(n),n=eE(),n!==null)){t.cancelPendingCommit=n(Zg.bind(null,t,r,l,c,y,E,b,1,F,B)),Vi(t,f,y,!I);return}Zg(t,r,l,c,y,E,b,H,F,B)}function _0(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!sn(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Vi(t,n,r,l){n&=~Nh,n&=~la,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-Ke(c),y=1<<f;l[f]=-1,c&=~y}r!==0&&qi(t,r,n)}function no(){return(Jt&6)===0?(Al(0),!1):!0}function Bh(){if(Rt!==null){if(Yt===0)var t=Rt.return;else t=Rt,Ti=ia=null,Qc(t),Ha=null,nl=0,t=Rt;for(;t!==null;)kg(t.alternate,t),t=t.return;Rt=null}}function ts(t,n){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,L0(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Bh(),Kt=t,Rt=r=cr(t.current,null),It=n,Yt=0,on=null,Di=!1,Ja=Bi(t,n),Ih=!1,Wa=Cn=Nh=la=hr=ie=0,$n=vl=null,Mh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Ke(l),f=1<<c;n|=t[c],l&=~f}return Ci=n,wu(),r}function Gg(t,n){St=null,A.H=Zn,n===tl?(n=am(),Yt=3):n===nm?(n=am(),Yt=4):Yt=n===ig?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,on=n,Rt===null&&(ie=1,Fu(t,Tn(n,t.current)))}function Qg(){var t=A.H;return A.H=Zn,t===null?Zn:t}function Fg(){var t=A.A;return A.A=p0,t}function kh(){ie=4,Di||(It&4194176)!==It&&bn.current!==null||(Ja=!0),(hr&134217727)===0&&(la&134217727)===0||Kt===null||Vi(Kt,It,Cn,!1)}function qh(t,n,r){var l=Jt;Jt|=2;var c=Qg(),f=Fg();(Kt!==t||It!==n)&&(to=null,ts(t,n)),n=!1;var y=ie;t:do try{if(Yt!==0&&Rt!==null){var E=Rt,b=on;switch(Yt){case 8:Bh(),y=6;break t;case 3:case 2:case 6:bn.current===null&&(n=!0);var I=Yt;if(Yt=0,on=null,es(t,E,b,I),r&&Ja){y=0;break t}break;default:I=Yt,Yt=0,on=null,es(t,E,b,I)}}v0(),y=ie;break}catch(H){Gg(t,H)}while(!0);return n&&t.shellSuspendCounter++,Ti=ia=null,Jt=l,A.H=c,A.A=f,Rt===null&&(Kt=null,It=0,wu()),y}function v0(){for(;Rt!==null;)Kg(Rt)}function E0(t,n){var r=Jt;Jt|=2;var l=Qg(),c=Fg();Kt!==t||It!==n?(to=null,Wu=Je()+500,ts(t,n)):Ja=Bi(t,n);t:do try{if(Yt!==0&&Rt!==null){n=Rt;var f=on;e:switch(Yt){case 1:Yt=0,on=null,es(t,n,f,1);break;case 2:if(im(f)){Yt=0,on=null,Yg(n);break}n=function(){Yt===2&&Kt===t&&(Yt=7),Jn(t)},f.then(n,n);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:im(f)?(Yt=0,on=null,Yg(n)):(Yt=0,on=null,es(t,n,f,7));break;case 5:var y=null;switch(Rt.tag){case 26:y=Rt.memoizedState;case 5:case 27:var E=Rt;if(!y||Sp(y)){Yt=0,on=null;var b=E.sibling;if(b!==null)Rt=b;else{var I=E.return;I!==null?(Rt=I,io(I)):Rt=null}break e}}Yt=0,on=null,es(t,n,f,5);break;case 6:Yt=0,on=null,es(t,n,f,6);break;case 8:Bh(),ie=6;break t;default:throw Error(a(462))}}T0();break}catch(H){Gg(t,H)}while(!0);return Ti=ia=null,A.H=l,A.A=c,Jt=r,Rt!==null?0:(Kt=null,It=0,wu(),ie)}function T0(){for(;Rt!==null&&!gc();)Kg(Rt)}function Kg(t){var n=gg(t.alternate,t,Ci);t.memoizedProps=t.pendingProps,n===null?io(t):Rt=n}function Yg(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=og(r,n,n.pendingProps,n.type,void 0,It);break;case 11:n=og(r,n,n.pendingProps,n.type.render,n.ref,It);break;case 5:Qc(n);default:kg(r,n),n=Rt=Lg(n,Ci),n=gg(r,n,Ci)}t.memoizedProps=t.pendingProps,n===null?io(t):Rt=n}function es(t,n,r,l){Ti=ia=null,Qc(n),Ha=null,nl=0;var c=n.return;try{if(o0(t,c,n,r,It)){ie=1,Fu(t,Tn(r,t.current)),Rt=null;return}}catch(f){if(c!==null)throw Rt=c,f;ie=1,Fu(t,Tn(r,t.current)),Rt=null;return}n.flags&32768?(Lt||l===1?t=!0:Ja||(It&536870912)!==0?t=!1:(Di=t=!0,(l===2||l===3||l===6)&&(l=bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Xg(n,t)):io(n)}function io(t){var n=t;do{if((n.flags&32768)!==0){Xg(n,Di);return}t=n.return;var r=m0(n.alternate,n,Ci);if(r!==null){Rt=r;return}if(n=n.sibling,n!==null){Rt=n;return}Rt=n=t}while(n!==null);ie===0&&(ie=5)}function Xg(t,n){do{var r=g0(t.alternate,t);if(r!==null){r.flags&=32767,Rt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Rt=t;return}Rt=t=r}while(t!==null);ie=6,Rt=null}function Zg(t,n,r,l,c,f,y,E,b,I){var H=A.T,F=et.p;try{et.p=2,A.T=null,A0(t,n,r,l,F,c,f,y,E,b,I)}finally{A.T=H,et.p=F}}function A0(t,n,r,l,c,f,y,E){do ns();while(ua!==null);if((Jt&6)!==0)throw Error(a(327));var b=t.finishedWork;if(l=t.finishedLanes,b===null)return null;if(t.finishedWork=null,t.finishedLanes=0,b===t.current)throw Error(a(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var I=b.lanes|b.childLanes;if(I|=Oc,au(t,l,I,f,y,E),t===Kt&&(Rt=Kt=null,It=0),(b.subtreeFlags&10256)===0&&(b.flags&10256)===0||eo||(eo=!0,Uh=I,zh=r,w0(si,function(){return ns(),null})),r=(b.flags&15990)!==0,(b.subtreeFlags&15990)!==0||r?(r=A.T,A.T=null,f=et.p,et.p=2,y=Jt,Jt|=4,h0(t,b),Og(b,t),Fv(Wh,t.containerInfo),po=!!Jh,Wh=Jh=null,t.current=b,wg(t,b.alternate,b),Vs(),Jt=y,et.p=f,A.T=r):t.current=b,eo?(eo=!1,ua=t,El=l):$g(t,I),I=t.pendingLanes,I===0&&(fr=null),Is(b.stateNode),Jn(t),n!==null)for(c=t.onRecoverableError,b=0;b<n.length;b++)I=n[b],c(I.value,{componentStack:I.stack});return(El&3)!==0&&ns(),I=t.pendingLanes,(l&4194218)!==0&&(I&42)!==0?t===Lh?Tl++:(Tl=0,Lh=t):Tl=0,Al(0),null}function $g(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,rl(n)))}function ns(){if(ua!==null){var t=ua,n=Uh;Uh=0;var r=su(El),l=A.T,c=et.p;try{if(et.p=32>r?32:r,A.T=null,ua===null)var f=!1;else{r=zh,zh=null;var y=ua,E=El;if(ua=null,El=0,(Jt&6)!==0)throw Error(a(331));var b=Jt;if(Jt|=4,Ug(y.current),Ng(y,y.current,E,r),Jt=b,Al(0,!1),ke&&typeof ke.onPostCommitFiberRoot=="function")try{ke.onPostCommitFiberRoot(Li,y)}catch{}f=!0}return f}finally{et.p=c,A.T=l,$g(t,n)}}return!1}function Jg(t,n,r){n=Tn(r,n),n=ah(t.stateNode,n,2),t=sr(t,n,2),t!==null&&(ae(t,2),Jn(t))}function Ft(t,n,r){if(t.tag===3)Jg(t,t,r);else for(;n!==null;){if(n.tag===3){Jg(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(fr===null||!fr.has(l))){t=Tn(r,t),r=eg(2),l=sr(n,r,2),l!==null&&(ng(r,l,n,t),ae(l,2),Jn(l));break}}n=n.return}}function Hh(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new y0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(Ih=!0,c.add(r),t=S0.bind(null,t,n,r),n.then(t,t))}function S0(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Kt===t&&(It&r)===r&&(ie===4||ie===3&&(It&62914560)===It&&300>Je()-xh?(Jt&2)===0&&ts(t,0):Nh|=r,Wa===It&&(Wa=0)),Jn(t)}function Wg(t,n){n===0&&(n=ki()),t=Ji(t,n),t!==null&&(ae(t,n),Jn(t))}function b0(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Wg(t,r)}function R0(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Wg(t,r)}function w0(t,n){return Nr(t,n)}var ro=null,is=null,jh=!1,ao=!1,Gh=!1,oa=0;function Jn(t){t!==is&&t.next===null&&(is===null?ro=is=t:is=is.next=t),ao=!0,jh||(jh=!0,C0(D0))}function Al(t,n){if(!Gh&&ao){Gh=!0;do for(var r=!1,l=ro;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Ke(42|t)+1)-1,f&=c&~(y&~E),f=f&201326677?f&201326677|1:f?f|2:0}f!==0&&(r=!0,np(l,f))}else f=It,f=mn(l,l===Kt?f:0),(f&3)===0||Bi(l,f)||(r=!0,np(l,f));l=l.next}while(r);Gh=!1}}function D0(){ao=jh=!1;var t=0;oa!==0&&(z0()&&(t=oa),oa=0);for(var n=Je(),r=null,l=ro;l!==null;){var c=l.next,f=tp(l,n);f===0?(l.next=null,r===null?ro=c:r.next=c,c===null&&(is=r)):(r=l,(t!==0||(f&3)!==0)&&(ao=!0)),l=c}Al(t)}function tp(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-Ke(f),E=1<<y,b=c[y];b===-1?((E&r)===0||(E&l)!==0)&&(c[y]=Ta(E,n)):b<=n&&(t.expiredLanes|=E),f&=~E}if(n=Kt,r=It,r=mn(t,t===n?r:0),l=t.callbackNode,r===0||t===n&&Yt===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ea(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Bi(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Ea(l),su(r)){case 2:case 8:r=Re;break;case 32:r=si;break;case 268435456:r=Os;break;default:r=si}return l=ep.bind(null,t),r=Nr(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Ea(l),t.callbackPriority=2,t.callbackNode=null,2}function ep(t,n){var r=t.callbackNode;if(ns()&&t.callbackNode!==r)return null;var l=It;return l=mn(t,t===Kt?l:0),l===0?null:(Hg(t,l,n),tp(t,Je()),t.callbackNode!=null&&t.callbackNode===r?ep.bind(null,t):null)}function np(t,n){if(ns())return null;Hg(t,n,!0)}function C0(t){P0(function(){(Jt&6)!==0?Nr(pe,t):t()})}function Qh(){return oa===0&&(oa=Ms()),oa}function ip(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:qn(""+t)}function rp(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function V0(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=ip((c[ye]||null).action),y=l.submitter;y&&(n=(n=y[ye]||null)?ip(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Ca("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(oa!==0){var b=y?rp(c,y):new FormData(c);th(r,{pending:!0,data:b,method:c.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=y?rp(c,y):new FormData(c),th(r,{pending:!0,data:b,method:c.method,action:f},f,b))},currentTarget:c}]})}}for(var Fh=0;Fh<Zd.length;Fh++){var Kh=Zd[Fh],O0=Kh.toLowerCase(),I0=Kh[0].toUpperCase()+Kh.slice(1);Nn(O0,"on"+I0)}Nn(Qd,"onAnimationEnd"),Nn(Fd,"onAnimationIteration"),Nn(Kd,"onAnimationStart"),Nn("dblclick","onDoubleClick"),Nn("focusin","onFocus"),Nn("focusout","onBlur"),Nn(Yv,"onTransitionRun"),Nn(Xv,"onTransitionStart"),Nn(Zv,"onTransitionCancel"),Nn(Yd,"onTransitionEnd"),We("onMouseEnter",["mouseout","mouseover"]),We("onMouseLeave",["mouseout","mouseover"]),We("onPointerEnter",["pointerout","pointerover"]),We("onPointerLeave",["pointerout","pointerover"]),rn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rn("onBeforeInput",["compositionend","keypress","textInput","paste"]),rn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),N0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sl));function ap(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],b=E.instance,I=E.currentTarget;if(E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=I;try{f(c)}catch(H){Qu(H)}c.currentTarget=null,f=b}else for(y=0;y<l.length;y++){if(E=l[y],b=E.instance,I=E.currentTarget,E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=I;try{f(c)}catch(H){Qu(H)}c.currentTarget=null,f=b}}}}function Dt(t,n){var r=n[xr];r===void 0&&(r=n[xr]=new Set);var l=t+"__bubble";r.has(l)||(sp(n,t,2,!1),r.add(l))}function Yh(t,n,r){var l=0;n&&(l|=4),sp(r,t,l,n)}var so="_reactListening"+Math.random().toString(36).slice(2);function Xh(t){if(!t[so]){t[so]=!0,Us.forEach(function(r){r!=="selectionchange"&&(N0.has(r)||Yh(r,!1,t),Yh(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[so]||(n[so]=!0,Yh("selectionchange",!1,n))}}function sp(t,n,r,l){switch(Vp(n)){case 2:var c=rE;break;case 8:c=aE;break;default:c=of}r=c.bind(null,n,r,t),c=void 0,!_n||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function Zh(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c||E.nodeType===8&&E.parentNode===c)break;if(y===4)for(y=l.return;y!==null;){var b=y.tag;if((b===3||b===4)&&(b=y.stateNode.containerInfo,b===c||b.nodeType===8&&b.parentNode===c))return;y=y.return}for(;E!==null;){if(y=In(E),y===null)return;if(b=y.tag,b===5||b===6||b===26||b===27){l=f=y;continue t}E=E.parentNode}}l=l.return}hu(function(){var I=f,H=Da(r),F=[];t:{var B=Xd.get(t);if(B!==void 0){var q=Ca,rt=t;switch(t){case"keypress":if(jn(r)===0)break t;case"keydown":case"keyup":q=xa;break;case"focusin":rt="focus",q=Ia;break;case"focusout":rt="blur",q=Ia;break;case"beforeblur":case"afterblur":q=Ia;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Ac;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=vu;break;case Qd:case Fd:case Kd:q=Na;break;case Yd:q=Tu;break;case"scroll":case"scrollend":q=fu;break;case"wheel":q=Ua;break;case"copy":case"cut":case"paste":q=Ma;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Ks;break;case"toggle":case"beforetoggle":q=Su}var gt=(n&4)!==0,re=!gt&&(t==="scroll"||t==="scrollend"),x=gt?B!==null?B+"Capture":null:B;gt=[];for(var O=I,L;O!==null;){var G=O;if(L=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||L===null||x===null||(G=Br(O,x),G!=null&&gt.push(bl(O,G,L))),re)break;O=O.return}0<gt.length&&(B=new q(B,rt,null,r,H),F.push({event:B,listeners:gt}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",B&&r!==yn&&(rt=r.relatedTarget||r.fromElement)&&(In(rt)||rt[li]))break t;if((q||B)&&(B=H.window===H?H:(B=H.ownerDocument)?B.defaultView||B.parentWindow:window,q?(rt=r.relatedTarget||r.toElement,q=I,rt=rt?In(rt):null,rt!==null&&(re=lt(rt),gt=rt.tag,rt!==re||gt!==5&&gt!==27&&gt!==6)&&(rt=null)):(q=null,rt=I),q!==rt)){if(gt=vn,G="onMouseLeave",x="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(gt=Ks,G="onPointerLeave",x="onPointerEnter",O="pointer"),re=q==null?B:Qi(q),L=rt==null?B:Qi(rt),B=new gt(G,O+"leave",q,r,H),B.target=re,B.relatedTarget=L,G=null,In(H)===I&&(gt=new gt(x,O+"enter",rt,r,H),gt.target=L,gt.relatedTarget=re,G=gt),re=G,q&&rt)e:{for(gt=q,x=rt,O=0,L=gt;L;L=rs(L))O++;for(L=0,G=x;G;G=rs(G))L++;for(;0<O-L;)gt=rs(gt),O--;for(;0<L-O;)x=rs(x),L--;for(;O--;){if(gt===x||x!==null&&gt===x.alternate)break e;gt=rs(gt),x=rs(x)}gt=null}else gt=null;q!==null&&lp(F,B,q,gt,!1),rt!==null&&re!==null&&lp(F,re,rt,gt,!0)}}t:{if(B=I?Qi(I):window,q=B.nodeName&&B.nodeName.toLowerCase(),q==="select"||q==="input"&&B.type==="file")var it=xd;else if(ve(B))if(Ud)it=Gv;else{it=Hv;var bt=qv}else q=B.nodeName,!q||q.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?I&&ks(I.elementType)&&(it=xd):it=jv;if(it&&(it=it(t,I))){gi(F,it,r,H);break t}bt&&bt(t,B,I),t==="focusout"&&I&&B.type==="number"&&I.memoizedProps.value!=null&&wa(B,"number",B.value)}switch(bt=I?Qi(I):window,t){case"focusin":(ve(bt)||bt.contentEditable==="true")&&(za=bt,Dc=I,Zs=null);break;case"focusout":Zs=Dc=za=null;break;case"mousedown":Cc=!0;break;case"contextmenu":case"mouseup":case"dragend":Cc=!1,jd(F,r,H);break;case"selectionchange":if(Kv)break;case"keydown":case"keyup":jd(F,r,H)}var st;if(Fn)t:{switch(t){case"compositionstart":var ct="onCompositionStart";break t;case"compositionend":ct="onCompositionEnd";break t;case"compositionupdate":ct="onCompositionUpdate";break t}ct=void 0}else Vt?k(t,r)&&(ct="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(ct="onCompositionStart");ct&&(p&&r.locale!=="ko"&&(Vt||ct!=="onCompositionStart"?ct==="onCompositionEnd"&&Vt&&(st=Hs()):(Hn=H,$i="value"in Hn?Hn.value:Hn.textContent,Vt=!0)),bt=lo(I,ct),0<bt.length&&(ct=new Qs(ct,t,null,r,H),F.push({event:ct,listeners:bt}),st?ct.data=st:(st=$(r),st!==null&&(ct.data=st)))),(st=m?_e(t,r):Ot(t,r))&&(ct=lo(I,"onBeforeInput"),0<ct.length&&(bt=new Qs("onBeforeInput","beforeinput",null,r,H),F.push({event:bt,listeners:ct}),bt.data=st)),V0(F,t,I,r,H)}ap(F,n)})}function bl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function lo(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Br(t,r),c!=null&&l.unshift(bl(t,c,f)),c=Br(t,n),c!=null&&l.push(bl(t,c,f))),t=t.return}return l}function rs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function lp(t,n,r,l,c){for(var f=n._reactName,y=[];r!==null&&r!==l;){var E=r,b=E.alternate,I=E.stateNode;if(E=E.tag,b!==null&&b===l)break;E!==5&&E!==26&&E!==27||I===null||(b=I,c?(I=Br(r,f),I!=null&&y.unshift(bl(r,I,b))):c||(I=Br(r,f),I!=null&&y.push(bl(r,I,b)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var M0=/\r\n?/g,x0=/\u0000|\uFFFD/g;function up(t){return(typeof t=="string"?t:""+t).replace(M0,`
`).replace(x0,"")}function op(t,n){return n=up(n),up(t)===n}function uo(){}function Gt(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||pn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&pn(t,""+l);break;case"className":Yi(t,"class",l);break;case"tabIndex":Yi(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Yi(t,r,l);break;case"style":cu(t,l,f);break;case"data":if(n!=="object"){Yi(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=qn(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Gt(t,n,"name",c.name,c,null),Gt(t,n,"formEncType",c.formEncType,c,null),Gt(t,n,"formMethod",c.formMethod,c,null),Gt(t,n,"formTarget",c.formTarget,c,null)):(Gt(t,n,"encType",c.encType,c,null),Gt(t,n,"method",c.method,c,null),Gt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=qn(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=uo);break;case"onScroll":l!=null&&Dt("scroll",t);break;case"onScrollEnd":l!=null&&Dt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=qn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Dt("beforetoggle",t),Dt("toggle",t),Ki(t,"popover",l);break;case"xlinkActuate":gn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":gn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":gn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":gn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":gn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":gn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":gn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":gn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":gn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ki(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Ec.get(r)||r,Ki(t,r,l))}}function $h(t,n,r,l,c,f){switch(r){case"style":cu(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?pn(t,l):(typeof l=="number"||typeof l=="bigint")&&pn(t,""+l);break;case"onScroll":l!=null&&Dt("scroll",t);break;case"onScrollEnd":l!=null&&Dt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=uo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ba.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[ye]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Ki(t,r,l)}}}function ze(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",t),Dt("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Gt(t,n,f,y,r,null)}}c&&Gt(t,n,"srcSet",r.srcSet,r,null),l&&Gt(t,n,"src",r.src,r,null);return;case"input":Dt("invalid",t);var E=f=y=c=null,b=null,I=null;for(l in r)if(r.hasOwnProperty(l)){var H=r[l];if(H!=null)switch(l){case"name":c=H;break;case"type":y=H;break;case"checked":b=H;break;case"defaultChecked":I=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:Gt(t,n,l,H,r,null)}}Lr(t,f,E,b,I,y,c,!1),zr(t);return;case"select":Dt("invalid",t),l=y=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Gt(t,n,c,E,r,null)}n=f,r=y,t.multiple=!!l,n!=null?zt(t,!!l,n,!1):r!=null&&zt(t,!!l,r,!0);return;case"textarea":Dt("invalid",t),f=c=l=null;for(y in r)if(r.hasOwnProperty(y)&&(E=r[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Gt(t,n,y,E,r,null)}Zi(t,l,c,f),zr(t);return;case"option":for(b in r)if(r.hasOwnProperty(b)&&(l=r[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Gt(t,n,b,l,r,null)}return;case"dialog":Dt("cancel",t),Dt("close",t);break;case"iframe":case"object":Dt("load",t);break;case"video":case"audio":for(l=0;l<Sl.length;l++)Dt(Sl[l],t);break;case"image":Dt("error",t),Dt("load",t);break;case"details":Dt("toggle",t);break;case"embed":case"source":case"link":Dt("error",t),Dt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(I in r)if(r.hasOwnProperty(I)&&(l=r[I],l!=null))switch(I){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Gt(t,n,I,l,r,null)}return;default:if(ks(n)){for(H in r)r.hasOwnProperty(H)&&(l=r[H],l!==void 0&&$h(t,n,H,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Gt(t,n,E,l,r,null))}function U0(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,b=null,I=null,H=null;for(q in r){var F=r[q];if(r.hasOwnProperty(q)&&F!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":b=F;default:l.hasOwnProperty(q)||Gt(t,n,q,null,l,F)}}for(var B in l){var q=l[B];if(F=r[B],l.hasOwnProperty(B)&&(q!=null||F!=null))switch(B){case"type":f=q;break;case"name":c=q;break;case"checked":I=q;break;case"defaultChecked":H=q;break;case"value":y=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==F&&Gt(t,n,B,q,l,F)}}Xi(t,y,E,b,I,H,f,c);return;case"select":q=y=E=B=null;for(f in r)if(b=r[f],r.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":q=b;default:l.hasOwnProperty(f)||Gt(t,n,f,null,l,b)}for(c in l)if(f=l[c],b=r[c],l.hasOwnProperty(c)&&(f!=null||b!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==b&&Gt(t,n,c,f,l,b)}n=E,r=y,l=q,B!=null?zt(t,!!r,B,!1):!!l!=!!r&&(n!=null?zt(t,!!r,n,!0):zt(t,!!r,r?[]:"",!1));return;case"textarea":q=B=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Gt(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=r[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":B=c;break;case"defaultValue":q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Gt(t,n,y,c,l,f)}Pr(t,B,q);return;case"option":for(var rt in r)if(B=r[rt],r.hasOwnProperty(rt)&&B!=null&&!l.hasOwnProperty(rt))switch(rt){case"selected":t.selected=!1;break;default:Gt(t,n,rt,null,l,B)}for(b in l)if(B=l[b],q=r[b],l.hasOwnProperty(b)&&B!==q&&(B!=null||q!=null))switch(b){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Gt(t,n,b,B,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in r)B=r[gt],r.hasOwnProperty(gt)&&B!=null&&!l.hasOwnProperty(gt)&&Gt(t,n,gt,null,l,B);for(I in l)if(B=l[I],q=r[I],l.hasOwnProperty(I)&&B!==q&&(B!=null||q!=null))switch(I){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:Gt(t,n,I,B,l,q)}return;default:if(ks(n)){for(var re in r)B=r[re],r.hasOwnProperty(re)&&B!==void 0&&!l.hasOwnProperty(re)&&$h(t,n,re,void 0,l,B);for(H in l)B=l[H],q=r[H],!l.hasOwnProperty(H)||B===q||B===void 0&&q===void 0||$h(t,n,H,B,l,q);return}}for(var x in r)B=r[x],r.hasOwnProperty(x)&&B!=null&&!l.hasOwnProperty(x)&&Gt(t,n,x,null,l,B);for(F in l)B=l[F],q=r[F],!l.hasOwnProperty(F)||B===q||B==null&&q==null||Gt(t,n,F,B,l,q)}var Jh=null,Wh=null;function oo(t){return t.nodeType===9?t:t.ownerDocument}function cp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function tf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ef=null;function z0(){var t=window.event;return t&&t.type==="popstate"?t===ef?!1:(ef=t,!0):(ef=null,!1)}var fp=typeof setTimeout=="function"?setTimeout:void 0,L0=typeof clearTimeout=="function"?clearTimeout:void 0,dp=typeof Promise=="function"?Promise:void 0,P0=typeof queueMicrotask=="function"?queueMicrotask:typeof dp<"u"?function(t){return dp.resolve(null).then(t).catch(B0)}:fp;function B0(t){setTimeout(function(){throw t})}function nf(t,n){var r=n,l=0;do{var c=r.nextSibling;if(t.removeChild(r),c&&c.nodeType===8)if(r=c.data,r==="/$"){if(l===0){t.removeChild(c),Nl(n);return}l--}else r!=="$"&&r!=="$?"&&r!=="$!"||l++;r=c}while(r);Nl(n)}function rf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":rf(r),Ur(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function k0(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Gi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Un(t.nextSibling),t===null)break}return null}function q0(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Un(t.nextSibling),t===null))return null;return t}function Un(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}function mp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function gp(t,n,r){switch(n=oo(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}var Vn=new Map,pp=new Set;function co(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Oi=et.d;et.d={f:H0,r:j0,D:G0,C:Q0,L:F0,m:K0,X:X0,S:Y0,M:Z0};function H0(){var t=Oi.f(),n=no();return t||n}function j0(t){var n=ui(t);n!==null&&n.tag===5&&n.type==="form"?jm(n):Oi.r(t)}var as=typeof document>"u"?null:document;function yp(t,n,r){var l=as;if(l&&typeof n=="string"&&n){var c=ee(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),pp.has(c)||(pp.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),ze(n,"link",t),Zt(n),l.head.appendChild(n)))}}function G0(t){Oi.D(t),yp("dns-prefetch",t,null)}function Q0(t,n){Oi.C(t,n),yp("preconnect",t,n)}function F0(t,n,r){Oi.L(t,n,r);var l=as;if(l&&t&&n){var c='link[rel="preload"][as="'+ee(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+ee(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+ee(r.imageSizes)+'"]')):c+='[href="'+ee(t)+'"]';var f=c;switch(n){case"style":f=ss(t);break;case"script":f=ls(t)}Vn.has(f)||(t=D({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Vn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Rl(f))||n==="script"&&l.querySelector(wl(f))||(n=l.createElement("link"),ze(n,"link",t),Zt(n),l.head.appendChild(n)))}}function K0(t,n){Oi.m(t,n);var r=as;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+ee(l)+'"][href="'+ee(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ls(t)}if(!Vn.has(f)&&(t=D({rel:"modulepreload",href:t},n),Vn.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(wl(f)))return}l=r.createElement("link"),ze(l,"link",t),Zt(l),r.head.appendChild(l)}}}function Y0(t,n,r){Oi.S(t,n,r);var l=as;if(l&&t){var c=Fi(l).hoistableStyles,f=ss(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(Rl(f)))E.loading=5;else{t=D({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Vn.get(f))&&af(t,r);var b=y=l.createElement("link");Zt(b),ze(b,"link",t),b._p=new Promise(function(I,H){b.onload=I,b.onerror=H}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,ho(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function X0(t,n){Oi.X(t,n);var r=as;if(r&&t){var l=Fi(r).hoistableScripts,c=ls(t),f=l.get(c);f||(f=r.querySelector(wl(c)),f||(t=D({src:t,async:!0},n),(n=Vn.get(c))&&sf(t,n),f=r.createElement("script"),Zt(f),ze(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Z0(t,n){Oi.M(t,n);var r=as;if(r&&t){var l=Fi(r).hoistableScripts,c=ls(t),f=l.get(c);f||(f=r.querySelector(wl(c)),f||(t=D({src:t,async:!0,type:"module"},n),(n=Vn.get(c))&&sf(t,n),f=r.createElement("script"),Zt(f),ze(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function _p(t,n,r,l){var c=(c=dn.current)?co(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=ss(r.href),r=Fi(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=ss(r.href);var f=Fi(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(Rl(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Vn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Vn.set(t,r),f||$0(c,t,r,y.state))),n&&l===null)throw Error(a(528,""));return y}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ls(r),r=Fi(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function ss(t){return'href="'+ee(t)+'"'}function Rl(t){return'link[rel="stylesheet"]['+t+"]"}function vp(t){return D({},t,{"data-precedence":t.precedence,precedence:null})}function $0(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ze(n,"link",r),Zt(n),t.head.appendChild(n))}function ls(t){return'[src="'+ee(t)+'"]'}function wl(t){return"script[async]"+t}function Ep(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+ee(r.href)+'"]');if(l)return n.instance=l,Zt(l),l;var c=D({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Zt(l),ze(l,"style",c),ho(l,r.precedence,t),n.instance=l;case"stylesheet":c=ss(r.href);var f=t.querySelector(Rl(c));if(f)return n.state.loading|=4,n.instance=f,Zt(f),f;l=vp(r),(c=Vn.get(c))&&af(l,c),f=(t.ownerDocument||t).createElement("link"),Zt(f);var y=f;return y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),ze(f,"link",l),n.state.loading|=4,ho(f,r.precedence,t),n.instance=f;case"script":return f=ls(r.src),(c=t.querySelector(wl(f)))?(n.instance=c,Zt(c),c):(l=r,(c=Vn.get(f))&&(l=D({},r),sf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),Zt(c),ze(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,ho(l,r.precedence,t));return n.instance}function ho(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function af(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function sf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var fo=null;function Tp(t,n,r){if(fo===null){var l=new Map,c=fo=new Map;c.set(r,l)}else c=fo,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[Gi]||f[we]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function Ap(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function J0(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Sp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Dl=null;function W0(){}function tE(t,n,r){if(Dl===null)throw Error(a(475));var l=Dl;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=ss(r.href),f=t.querySelector(Rl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=mo.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,Zt(f);return}f=t.ownerDocument||t,r=vp(r),(c=Vn.get(c))&&af(r,c),f=f.createElement("link"),Zt(f);var y=f;y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),ze(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=mo.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function eE(){if(Dl===null)throw Error(a(475));var t=Dl;return t.stylesheets&&t.count===0&&lf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&lf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function mo(){if(this.count--,this.count===0){if(this.stylesheets)lf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var go=null;function lf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,go=new Map,n.forEach(nE,t),go=null,mo.call(t))}function nE(t,n){if(!(n.state.loading&4)){var r=go.get(t);if(r)var l=r.get(null);else{r=new Map,go.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=r.get(y)||l,f===l&&r.set(null,c),r.set(y,c),this.count++,l=mo.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Cl={$$typeof:j,Provider:null,Consumer:null,_currentValue:At,_currentValue2:At,_threadCount:0};function iE(t,n,r,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Aa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Aa(0),this.hiddenUpdates=Aa(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function bp(t,n,r,l,c,f,y,E,b,I,H,F){return t=new iE(t,n,r,y,E,b,I,F),n=1,f===!0&&(n|=24),f=Dn(3,null,null,n),t.current=f,f.stateNode=t,n=Pc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},_h(f),t}function Rp(t){return t?(t=Ba,t):Ba}function wp(t,n,r,l,c,f){c=Rp(c),l.context===null?l.context=c:l.pendingContext=c,l=ar(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=sr(t,l,n),r!==null&&($e(r,t,n),hl(r,t,n))}function Dp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function uf(t,n){Dp(t,n),(t=t.alternate)&&Dp(t,n)}function Cp(t){if(t.tag===13){var n=Ji(t,67108864);n!==null&&$e(n,t,67108864),uf(t,67108864)}}var po=!0;function rE(t,n,r,l){var c=A.T;A.T=null;var f=et.p;try{et.p=2,of(t,n,r,l)}finally{et.p=f,A.T=c}}function aE(t,n,r,l){var c=A.T;A.T=null;var f=et.p;try{et.p=8,of(t,n,r,l)}finally{et.p=f,A.T=c}}function of(t,n,r,l){if(po){var c=cf(l);if(c===null)Zh(t,n,l,yo,r),Op(t,l);else if(lE(c,t,n,r,l))l.stopPropagation();else if(Op(t,l),n&4&&-1<sE.indexOf(t)){for(;c!==null;){var f=ui(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=On(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var b=1<<31-Ke(y);E.entanglements[1]|=b,y&=~b}Jn(f),(Jt&6)===0&&(Wu=Je()+500,Al(0))}}break;case 13:E=Ji(f,2),E!==null&&$e(E,f,2),no(),uf(f,2)}if(f=cf(l),f===null&&Zh(t,n,l,yo,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else Zh(t,n,l,null,r)}}function cf(t){return t=Da(t),hf(t)}var yo=null;function hf(t){if(yo=null,t=In(t),t!==null){var n=lt(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=Bt(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return yo=t,null}function Vp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(eu()){case pe:return 2;case Re:return 8;case si:case nu:return 32;case Os:return 268435456;default:return 32}default:return 32}}var ff=!1,dr=null,mr=null,gr=null,Vl=new Map,Ol=new Map,pr=[],sE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Op(t,n){switch(t){case"focusin":case"focusout":dr=null;break;case"dragenter":case"dragleave":mr=null;break;case"mouseover":case"mouseout":gr=null;break;case"pointerover":case"pointerout":Vl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ol.delete(n.pointerId)}}function Il(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=ui(n),n!==null&&Cp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function lE(t,n,r,l,c){switch(n){case"focusin":return dr=Il(dr,t,n,r,l,c),!0;case"dragenter":return mr=Il(mr,t,n,r,l,c),!0;case"mouseover":return gr=Il(gr,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return Vl.set(f,Il(Vl.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Ol.set(f,Il(Ol.get(f)||null,t,n,r,l,c)),!0}return!1}function Ip(t){var n=In(t.target);if(n!==null){var r=lt(n);if(r!==null){if(n=r.tag,n===13){if(n=Bt(r),n!==null){t.blockedOn=n,ji(t.priority,function(){if(r.tag===13){var l=cn(),c=Ji(r,l);c!==null&&$e(c,r,l),uf(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function _o(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=cf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);yn=l,r.target.dispatchEvent(l),yn=null}else return n=ui(r),n!==null&&Cp(n),t.blockedOn=r,!1;n.shift()}return!0}function Np(t,n,r){_o(t)&&r.delete(n)}function uE(){ff=!1,dr!==null&&_o(dr)&&(dr=null),mr!==null&&_o(mr)&&(mr=null),gr!==null&&_o(gr)&&(gr=null),Vl.forEach(Np),Ol.forEach(Np)}function vo(t,n){t.blockedOn===n&&(t.blockedOn=null,ff||(ff=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,uE)))}var Eo=null;function Mp(t){Eo!==t&&(Eo=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Eo===t&&(Eo=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(hf(l||r)===null)continue;break}var f=ui(r);f!==null&&(t.splice(n,3),n-=3,th(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Nl(t){function n(b){return vo(b,t)}dr!==null&&vo(dr,t),mr!==null&&vo(mr,t),gr!==null&&vo(gr,t),Vl.forEach(n),Ol.forEach(n);for(var r=0;r<pr.length;r++){var l=pr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<pr.length&&(r=pr[0],r.blockedOn===null);)Ip(r),r.blockedOn===null&&pr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],y=c[ye]||null;if(typeof f=="function")y||Mp(r);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[ye]||null)E=y.formAction;else if(hf(c)!==null)continue}else E=y.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),Mp(r)}}}function df(t){this._internalRoot=t}To.prototype.render=df.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=cn();wp(r,l,t,n,null,null)},To.prototype.unmount=df.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;t.tag===0&&ns(),wp(t.current,2,null,t,null,null),no(),n[li]=null}};function To(t){this._internalRoot=t}To.prototype.unstable_scheduleHydration=function(t){if(t){var n=lu();t={blockedOn:null,target:t,priority:n};for(var r=0;r<pr.length&&n!==0&&n<pr[r].priority;r++);pr.splice(r,0,t),r===0&&Ip(t)}};var xp=e.version;if(xp!=="19.0.0")throw Error(a(527,xp,"19.0.0"));et.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=Y(n),t=t!==null?at(t):null,t=t===null?null:t.stateNode,t};var oE={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:A,findFiberByHostInstance:In,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ao=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ao.isDisabled&&Ao.supportsFiber)try{Li=Ao.inject(oE),ke=Ao}catch{}}return xl.createRoot=function(t,n){if(!u(t))throw Error(a(299));var r=!1,l="",c=$m,f=Jm,y=Wm,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=bp(t,1,!1,null,null,r,l,c,f,y,E,null),t[li]=n.current,Xh(t.nodeType===8?t.parentNode:t),new df(n)},xl.hydrateRoot=function(t,n,r){if(!u(t))throw Error(a(299));var l=!1,c="",f=$m,y=Jm,E=Wm,b=null,I=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks),r.formState!==void 0&&(I=r.formState)),n=bp(t,1,!0,n,r??null,l,c,f,y,E,b,I),n.context=Rp(null),r=n.current,l=cn(),c=ar(l),c.callback=null,sr(r,c,l),n.current.lanes=l,ae(n,l),Jn(n),t[li]=n.current,Xh(t),new To(n)},xl.version="19.0.0",xl}var Gp;function EE(){if(Gp)return pf.exports;Gp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),pf.exports=vE(),pf.exports}var TE=EE(),n_={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Qp=fa.createContext&&fa.createContext(n_),AE=["attr","size","title"];function SE(s,e){if(s==null)return{};var i=bE(s,e),a,u;if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(s);for(u=0;u<h.length;u++)a=h[u],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(s,a)&&(i[a]=s[a])}return i}function bE(s,e){if(s==null)return{};var i={};for(var a in s)if(Object.prototype.hasOwnProperty.call(s,a)){if(e.indexOf(a)>=0)continue;i[a]=s[a]}return i}function Uo(){return Uo=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(s[a]=i[a])}return s},Uo.apply(this,arguments)}function Fp(s,e){var i=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);e&&(a=a.filter(function(u){return Object.getOwnPropertyDescriptor(s,u).enumerable})),i.push.apply(i,a)}return i}function zo(s){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Fp(Object(i),!0).forEach(function(a){RE(s,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(i)):Fp(Object(i)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(i,a))})}return s}function RE(s,e,i){return e=wE(e),e in s?Object.defineProperty(s,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[e]=i,s}function wE(s){var e=DE(s,"string");return typeof e=="symbol"?e:e+""}function DE(s,e){if(typeof s!="object"||!s)return s;var i=s[Symbol.toPrimitive];if(i!==void 0){var a=i.call(s,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(s)}function i_(s){return s&&s.map((e,i)=>fa.createElement(e.tag,zo({key:i},e.attr),i_(e.child)))}function Jf(s){return e=>fa.createElement(CE,Uo({attr:zo({},s.attr)},e),i_(s.child))}function CE(s){var e=i=>{var{attr:a,size:u,title:h}=s,d=SE(s,AE),g=u||i.size||"1em",_;return i.className&&(_=i.className),s.className&&(_=(_?_+" ":"")+s.className),fa.createElement("svg",Uo({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},i.attr,a,d,{className:_,style:zo(zo({color:s.color||i.color},i.style),s.style),height:g,width:g,xmlns:"http://www.w3.org/2000/svg"}),h&&fa.createElement("title",null,h),s.children)};return Qp!==void 0?fa.createElement(Qp.Consumer,null,i=>e(i)):e(n_)}function Kp(s){return Jf({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"},child:[]}]})(s)}function VE(s){return Jf({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(s)}function OE(s){return Jf({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(s)}const IE="/to-do-app/assets/image-BRtQ8LwN.png",NE="/to-do-app/assets/backgroundImage-YN-JB-Is.png";var Yp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let u=s.charCodeAt(a);u<128?e[i++]=u:u<2048?(e[i++]=u>>6|192,e[i++]=u&63|128):(u&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(u=65536+((u&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=u>>18|240,e[i++]=u>>12&63|128,e[i++]=u>>6&63|128,e[i++]=u&63|128):(e[i++]=u>>12|224,e[i++]=u>>6&63|128,e[i++]=u&63|128)}return e},ME=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const u=s[i++];if(u<128)e[a++]=String.fromCharCode(u);else if(u>191&&u<224){const h=s[i++];e[a++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=s[i++],d=s[i++],g=s[i++],_=((u&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(_>>10)),e[a++]=String.fromCharCode(56320+(_&1023))}else{const h=s[i++],d=s[i++];e[a++]=String.fromCharCode((u&15)<<12|(h&63)<<6|d&63)}}return e.join("")},a_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let u=0;u<s.length;u+=3){const h=s[u],d=u+1<s.length,g=d?s[u+1]:0,_=u+2<s.length,v=_?s[u+2]:0,S=h>>2,V=(h&3)<<4|g>>4;let P=(g&15)<<2|v>>6,j=v&63;_||(j=64,d||(P=64)),a.push(i[S],i[V],i[P],i[j])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(r_(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):ME(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let u=0;u<s.length;){const h=i[s.charAt(u++)],g=u<s.length?i[s.charAt(u)]:0;++u;const v=u<s.length?i[s.charAt(u)]:64;++u;const V=u<s.length?i[s.charAt(u)]:64;if(++u,h==null||g==null||v==null||V==null)throw new xE;const P=h<<2|g>>4;if(a.push(P),v!==64){const j=g<<4&240|v>>2;if(a.push(j),V!==64){const Z=v<<6&192|V;a.push(Z)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class xE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const UE=function(s){const e=r_(s);return a_.encodeByteArray(e,!0)},Lo=function(s){return UE(s).replace(/\./g,"")},zE=function(s){try{return a_.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE=()=>LE().__FIREBASE_DEFAULTS__,BE=()=>{if(typeof process>"u"||typeof Yp>"u")return;const s=Yp.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},kE=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&zE(s[1]);return e&&JSON.parse(e)},Wf=()=>{try{return PE()||BE()||kE()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},qE=s=>{var e,i;return(i=(e=Wf())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[s]},HE=s=>{const e=qE(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},s_=()=>{var s;return(s=Wf())===null||s===void 0?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",u=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},s);return[Lo(JSON.stringify(i)),Lo(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FE(){var s;const e=(s=Wf())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function KE(){return!FE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function YE(){try{return typeof indexedDB=="object"}catch{return!1}}function XE(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(a);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{var h;e(((h=u.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE="FirebaseError";class Ss extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=ZE,Object.setPrototypeOf(this,Ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,l_.prototype.create)}}class l_{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},u=`${this.service}/${e}`,h=this.errors[e],d=h?$E(h,a):"Error",g=`${this.serviceName}: ${d} (${u}).`;return new Ss(u,g,a)}}function $E(s,e){return s.replace(JE,(i,a)=>{const u=e[a];return u!=null?String(u):`<${a}?>`})}const JE=/\{\$([^}]+)}/g;function Cf(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const u of i){if(!a.includes(u))return!1;const h=s[u],d=e[u];if(Xp(h)&&Xp(d)){if(!Cf(h,d))return!1}else if(h!==d)return!1}for(const u of a)if(!i.includes(u))return!1;return!0}function Xp(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(s){return s&&s._delegate?s._delegate:s}class jl{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new jE;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&a.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),u=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(h){if(u)return null;throw h}else{if(u)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(eT(e))try{this.getOrInitializeService({instanceIdentifier:ca})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:u});a.resolve(h)}catch{}}}}clearInstance(e=ca){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ca){return this.instances.has(e)}getOptions(e=ca){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);a===g&&d.resolve(u)}return u}onInit(e,i){var a;const u=this.normalizeInstanceIdentifier(i),h=(a=this.onInitCallbacks.get(u))!==null&&a!==void 0?a:new Set;h.add(e),this.onInitCallbacks.set(u,h);const d=this.instances.get(u);return d&&e(d,u),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const u of a)try{u(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:tT(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ca){return this.component?this.component.multipleInstances?e:ca:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tT(s){return s===ca?void 0:s}function eT(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new WE(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Mt||(Mt={}));const iT={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},rT=Mt.INFO,aT={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},sT=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),u=aT[e];if(u)console[u](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class u_{constructor(e){this.name=e,this._logLevel=rT,this._logHandler=sT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Mt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?iT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...e),this._logHandler(this,Mt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...e),this._logHandler(this,Mt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...e),this._logHandler(this,Mt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...e),this._logHandler(this,Mt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...e),this._logHandler(this,Mt.ERROR,...e)}}const lT=(s,e)=>e.some(i=>s instanceof i);let Zp,$p;function uT(){return Zp||(Zp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oT(){return $p||($p=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const o_=new WeakMap,Vf=new WeakMap,c_=new WeakMap,Ef=new WeakMap,td=new WeakMap;function cT(s){const e=new Promise((i,a)=>{const u=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(vr(s.result)),u()},d=()=>{a(s.error),u()};s.addEventListener("success",h),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&o_.set(i,s)}).catch(()=>{}),td.set(e,s),e}function hT(s){if(Vf.has(s))return;const e=new Promise((i,a)=>{const u=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),u()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),u()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});Vf.set(s,e)}let Of={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Vf.get(s);if(e==="objectStoreNames")return s.objectStoreNames||c_.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return vr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function fT(s){Of=s(Of)}function dT(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Tf(this),e,...i);return c_.set(a,e.sort?e.sort():[e]),vr(a)}:oT().includes(s)?function(...e){return s.apply(Tf(this),e),vr(o_.get(this))}:function(...e){return vr(s.apply(Tf(this),e))}}function mT(s){return typeof s=="function"?dT(s):(s instanceof IDBTransaction&&hT(s),lT(s,uT())?new Proxy(s,Of):s)}function vr(s){if(s instanceof IDBRequest)return cT(s);if(Ef.has(s))return Ef.get(s);const e=mT(s);return e!==s&&(Ef.set(s,e),td.set(e,s)),e}const Tf=s=>td.get(s);function gT(s,e,{blocked:i,upgrade:a,blocking:u,terminated:h}={}){const d=indexedDB.open(s,e),g=vr(d);return a&&d.addEventListener("upgradeneeded",_=>{a(vr(d.result),_.oldVersion,_.newVersion,vr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{h&&_.addEventListener("close",()=>h()),u&&_.addEventListener("versionchange",v=>u(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const pT=["get","getKey","getAll","getAllKeys","count"],yT=["put","add","delete","clear"],Af=new Map;function Jp(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Af.get(e))return Af.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,u=yT.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(u||pT.includes(i)))return;const h=async function(d,...g){const _=this.transaction(d,u?"readwrite":"readonly");let v=_.store;return a&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),u&&_.done]))[0]};return Af.set(e,h),h}fT(s=>({...s,get:(e,i,a)=>Jp(e,i)||s.get(e,i,a),has:(e,i)=>!!Jp(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(vT(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function vT(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const If="@firebase/app",Wp="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni=new u_("@firebase/app"),ET="@firebase/app-compat",TT="@firebase/analytics-compat",AT="@firebase/analytics",ST="@firebase/app-check-compat",bT="@firebase/app-check",RT="@firebase/auth",wT="@firebase/auth-compat",DT="@firebase/database",CT="@firebase/data-connect",VT="@firebase/database-compat",OT="@firebase/functions",IT="@firebase/functions-compat",NT="@firebase/installations",MT="@firebase/installations-compat",xT="@firebase/messaging",UT="@firebase/messaging-compat",zT="@firebase/performance",LT="@firebase/performance-compat",PT="@firebase/remote-config",BT="@firebase/remote-config-compat",kT="@firebase/storage",qT="@firebase/storage-compat",HT="@firebase/firestore",jT="@firebase/vertexai",GT="@firebase/firestore-compat",QT="firebase",FT="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nf="[DEFAULT]",KT={[If]:"fire-core",[ET]:"fire-core-compat",[AT]:"fire-analytics",[TT]:"fire-analytics-compat",[bT]:"fire-app-check",[ST]:"fire-app-check-compat",[RT]:"fire-auth",[wT]:"fire-auth-compat",[DT]:"fire-rtdb",[CT]:"fire-data-connect",[VT]:"fire-rtdb-compat",[OT]:"fire-fn",[IT]:"fire-fn-compat",[NT]:"fire-iid",[MT]:"fire-iid-compat",[xT]:"fire-fcm",[UT]:"fire-fcm-compat",[zT]:"fire-perf",[LT]:"fire-perf-compat",[PT]:"fire-rc",[BT]:"fire-rc-compat",[kT]:"fire-gcs",[qT]:"fire-gcs-compat",[HT]:"fire-fst",[GT]:"fire-fst-compat",[jT]:"fire-vertex","fire-js":"fire-js",[QT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po=new Map,YT=new Map,Mf=new Map;function ty(s,e){try{s.container.addComponent(e)}catch(i){Ni.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Bo(s){const e=s.name;if(Mf.has(e))return Ni.debug(`There were multiple attempts to register component ${e}.`),!1;Mf.set(e,s);for(const i of Po.values())ty(i,s);for(const i of YT.values())ty(i,s);return!0}function XT(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function ZT(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Er=new l_("app","Firebase",$T);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e,i,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new jl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Er.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT=FT;function h_(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a=Object.assign({name:Nf,automaticDataCollectionEnabled:!1},e),u=a.name;if(typeof u!="string"||!u)throw Er.create("bad-app-name",{appName:String(u)});if(i||(i=s_()),!i)throw Er.create("no-options");const h=Po.get(u);if(h){if(Cf(i,h.options)&&Cf(a,h.config))return h;throw Er.create("duplicate-app",{appName:u})}const d=new nT(u);for(const _ of Mf.values())d.addComponent(_);const g=new JT(i,a,d);return Po.set(u,g),g}function tA(s=Nf){const e=Po.get(s);if(!e&&s===Nf&&s_())return h_();if(!e)throw Er.create("no-app",{appName:s});return e}function ds(s,e,i){var a;let u=(a=KT[s])!==null&&a!==void 0?a:s;i&&(u+=`-${i}`);const h=u.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const g=[`Unable to register library "${u}" with version "${e}":`];h&&g.push(`library name "${u}" contains illegal characters (whitespace or "/")`),h&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ni.warn(g.join(" "));return}Bo(new jl(`${u}-version`,()=>({library:u,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA="firebase-heartbeat-database",nA=1,Gl="firebase-heartbeat-store";let Sf=null;function f_(){return Sf||(Sf=gT(eA,nA,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Gl)}catch(i){console.warn(i)}}}}).catch(s=>{throw Er.create("idb-open",{originalErrorMessage:s.message})})),Sf}async function iA(s){try{const i=(await f_()).transaction(Gl),a=await i.objectStore(Gl).get(d_(s));return await i.done,a}catch(e){if(e instanceof Ss)Ni.warn(e.message);else{const i=Er.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ni.warn(i.message)}}}async function ey(s,e){try{const a=(await f_()).transaction(Gl,"readwrite");await a.objectStore(Gl).put(e,d_(s)),await a.done}catch(i){if(i instanceof Ss)Ni.warn(i.message);else{const a=Er.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Ni.warn(a.message)}}}function d_(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA=1024,aA=30;class sA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new uA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,i;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=ny();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:u}),this._heartbeatsCache.heartbeats.length>aA){const d=oA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Ni.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=ny(),{heartbeatsToSend:a,unsentEntries:u}=lA(this._heartbeatsCache.heartbeats),h=Lo(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Ni.warn(i),""}}}function ny(){return new Date().toISOString().substring(0,10)}function lA(s,e=rA){const i=[];let a=s.slice();for(const u of s){const h=i.find(d=>d.agent===u.agent);if(h){if(h.dates.push(u.date),iy(i)>e){h.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),iy(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class uA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return YE()?XE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await iA(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return ey(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return ey(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...e.heartbeats]})}else return}}function iy(s){return Lo(JSON.stringify({version:2,heartbeats:s})).length}function oA(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cA(s){Bo(new jl("platform-logger",e=>new _T(e),"PRIVATE")),Bo(new jl("heartbeat",e=>new sA(e),"PRIVATE")),ds(If,Wp,s),ds(If,Wp,"esm2017"),ds("fire-js","")}cA("");var hA="firebase",fA="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ds(hA,fA,"app");var ry=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Tr,m_;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,R){function A(){}A.prototype=R.prototype,M.D=R.prototype,M.prototype=new A,M.prototype.constructor=M,M.C=function(D,N,z){for(var w=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)w[ge-2]=arguments[ge];return R.prototype[N].apply(D,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(M,R,A){A||(A=0);var D=Array(16);if(typeof R=="string")for(var N=0;16>N;++N)D[N]=R.charCodeAt(A++)|R.charCodeAt(A++)<<8|R.charCodeAt(A++)<<16|R.charCodeAt(A++)<<24;else for(N=0;16>N;++N)D[N]=R[A++]|R[A++]<<8|R[A++]<<16|R[A++]<<24;R=M.g[0],A=M.g[1],N=M.g[2];var z=M.g[3],w=R+(z^A&(N^z))+D[0]+3614090360&4294967295;R=A+(w<<7&4294967295|w>>>25),w=z+(N^R&(A^N))+D[1]+3905402710&4294967295,z=R+(w<<12&4294967295|w>>>20),w=N+(A^z&(R^A))+D[2]+606105819&4294967295,N=z+(w<<17&4294967295|w>>>15),w=A+(R^N&(z^R))+D[3]+3250441966&4294967295,A=N+(w<<22&4294967295|w>>>10),w=R+(z^A&(N^z))+D[4]+4118548399&4294967295,R=A+(w<<7&4294967295|w>>>25),w=z+(N^R&(A^N))+D[5]+1200080426&4294967295,z=R+(w<<12&4294967295|w>>>20),w=N+(A^z&(R^A))+D[6]+2821735955&4294967295,N=z+(w<<17&4294967295|w>>>15),w=A+(R^N&(z^R))+D[7]+4249261313&4294967295,A=N+(w<<22&4294967295|w>>>10),w=R+(z^A&(N^z))+D[8]+1770035416&4294967295,R=A+(w<<7&4294967295|w>>>25),w=z+(N^R&(A^N))+D[9]+2336552879&4294967295,z=R+(w<<12&4294967295|w>>>20),w=N+(A^z&(R^A))+D[10]+4294925233&4294967295,N=z+(w<<17&4294967295|w>>>15),w=A+(R^N&(z^R))+D[11]+2304563134&4294967295,A=N+(w<<22&4294967295|w>>>10),w=R+(z^A&(N^z))+D[12]+1804603682&4294967295,R=A+(w<<7&4294967295|w>>>25),w=z+(N^R&(A^N))+D[13]+4254626195&4294967295,z=R+(w<<12&4294967295|w>>>20),w=N+(A^z&(R^A))+D[14]+2792965006&4294967295,N=z+(w<<17&4294967295|w>>>15),w=A+(R^N&(z^R))+D[15]+1236535329&4294967295,A=N+(w<<22&4294967295|w>>>10),w=R+(N^z&(A^N))+D[1]+4129170786&4294967295,R=A+(w<<5&4294967295|w>>>27),w=z+(A^N&(R^A))+D[6]+3225465664&4294967295,z=R+(w<<9&4294967295|w>>>23),w=N+(R^A&(z^R))+D[11]+643717713&4294967295,N=z+(w<<14&4294967295|w>>>18),w=A+(z^R&(N^z))+D[0]+3921069994&4294967295,A=N+(w<<20&4294967295|w>>>12),w=R+(N^z&(A^N))+D[5]+3593408605&4294967295,R=A+(w<<5&4294967295|w>>>27),w=z+(A^N&(R^A))+D[10]+38016083&4294967295,z=R+(w<<9&4294967295|w>>>23),w=N+(R^A&(z^R))+D[15]+3634488961&4294967295,N=z+(w<<14&4294967295|w>>>18),w=A+(z^R&(N^z))+D[4]+3889429448&4294967295,A=N+(w<<20&4294967295|w>>>12),w=R+(N^z&(A^N))+D[9]+568446438&4294967295,R=A+(w<<5&4294967295|w>>>27),w=z+(A^N&(R^A))+D[14]+3275163606&4294967295,z=R+(w<<9&4294967295|w>>>23),w=N+(R^A&(z^R))+D[3]+4107603335&4294967295,N=z+(w<<14&4294967295|w>>>18),w=A+(z^R&(N^z))+D[8]+1163531501&4294967295,A=N+(w<<20&4294967295|w>>>12),w=R+(N^z&(A^N))+D[13]+2850285829&4294967295,R=A+(w<<5&4294967295|w>>>27),w=z+(A^N&(R^A))+D[2]+4243563512&4294967295,z=R+(w<<9&4294967295|w>>>23),w=N+(R^A&(z^R))+D[7]+1735328473&4294967295,N=z+(w<<14&4294967295|w>>>18),w=A+(z^R&(N^z))+D[12]+2368359562&4294967295,A=N+(w<<20&4294967295|w>>>12),w=R+(A^N^z)+D[5]+4294588738&4294967295,R=A+(w<<4&4294967295|w>>>28),w=z+(R^A^N)+D[8]+2272392833&4294967295,z=R+(w<<11&4294967295|w>>>21),w=N+(z^R^A)+D[11]+1839030562&4294967295,N=z+(w<<16&4294967295|w>>>16),w=A+(N^z^R)+D[14]+4259657740&4294967295,A=N+(w<<23&4294967295|w>>>9),w=R+(A^N^z)+D[1]+2763975236&4294967295,R=A+(w<<4&4294967295|w>>>28),w=z+(R^A^N)+D[4]+1272893353&4294967295,z=R+(w<<11&4294967295|w>>>21),w=N+(z^R^A)+D[7]+4139469664&4294967295,N=z+(w<<16&4294967295|w>>>16),w=A+(N^z^R)+D[10]+3200236656&4294967295,A=N+(w<<23&4294967295|w>>>9),w=R+(A^N^z)+D[13]+681279174&4294967295,R=A+(w<<4&4294967295|w>>>28),w=z+(R^A^N)+D[0]+3936430074&4294967295,z=R+(w<<11&4294967295|w>>>21),w=N+(z^R^A)+D[3]+3572445317&4294967295,N=z+(w<<16&4294967295|w>>>16),w=A+(N^z^R)+D[6]+76029189&4294967295,A=N+(w<<23&4294967295|w>>>9),w=R+(A^N^z)+D[9]+3654602809&4294967295,R=A+(w<<4&4294967295|w>>>28),w=z+(R^A^N)+D[12]+3873151461&4294967295,z=R+(w<<11&4294967295|w>>>21),w=N+(z^R^A)+D[15]+530742520&4294967295,N=z+(w<<16&4294967295|w>>>16),w=A+(N^z^R)+D[2]+3299628645&4294967295,A=N+(w<<23&4294967295|w>>>9),w=R+(N^(A|~z))+D[0]+4096336452&4294967295,R=A+(w<<6&4294967295|w>>>26),w=z+(A^(R|~N))+D[7]+1126891415&4294967295,z=R+(w<<10&4294967295|w>>>22),w=N+(R^(z|~A))+D[14]+2878612391&4294967295,N=z+(w<<15&4294967295|w>>>17),w=A+(z^(N|~R))+D[5]+4237533241&4294967295,A=N+(w<<21&4294967295|w>>>11),w=R+(N^(A|~z))+D[12]+1700485571&4294967295,R=A+(w<<6&4294967295|w>>>26),w=z+(A^(R|~N))+D[3]+2399980690&4294967295,z=R+(w<<10&4294967295|w>>>22),w=N+(R^(z|~A))+D[10]+4293915773&4294967295,N=z+(w<<15&4294967295|w>>>17),w=A+(z^(N|~R))+D[1]+2240044497&4294967295,A=N+(w<<21&4294967295|w>>>11),w=R+(N^(A|~z))+D[8]+1873313359&4294967295,R=A+(w<<6&4294967295|w>>>26),w=z+(A^(R|~N))+D[15]+4264355552&4294967295,z=R+(w<<10&4294967295|w>>>22),w=N+(R^(z|~A))+D[6]+2734768916&4294967295,N=z+(w<<15&4294967295|w>>>17),w=A+(z^(N|~R))+D[13]+1309151649&4294967295,A=N+(w<<21&4294967295|w>>>11),w=R+(N^(A|~z))+D[4]+4149444226&4294967295,R=A+(w<<6&4294967295|w>>>26),w=z+(A^(R|~N))+D[11]+3174756917&4294967295,z=R+(w<<10&4294967295|w>>>22),w=N+(R^(z|~A))+D[2]+718787259&4294967295,N=z+(w<<15&4294967295|w>>>17),w=A+(z^(N|~R))+D[9]+3951481745&4294967295,M.g[0]=M.g[0]+R&4294967295,M.g[1]=M.g[1]+(N+(w<<21&4294967295|w>>>11))&4294967295,M.g[2]=M.g[2]+N&4294967295,M.g[3]=M.g[3]+z&4294967295}a.prototype.u=function(M,R){R===void 0&&(R=M.length);for(var A=R-this.blockSize,D=this.B,N=this.h,z=0;z<R;){if(N==0)for(;z<=A;)u(this,M,z),z+=this.blockSize;if(typeof M=="string"){for(;z<R;)if(D[N++]=M.charCodeAt(z++),N==this.blockSize){u(this,D),N=0;break}}else for(;z<R;)if(D[N++]=M[z++],N==this.blockSize){u(this,D),N=0;break}}this.h=N,this.o+=R},a.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var R=1;R<M.length-8;++R)M[R]=0;var A=8*this.o;for(R=M.length-8;R<M.length;++R)M[R]=A&255,A/=256;for(this.u(M),M=Array(16),R=A=0;4>R;++R)for(var D=0;32>D;D+=8)M[A++]=this.g[R]>>>D&255;return M};function h(M,R){var A=g;return Object.prototype.hasOwnProperty.call(A,M)?A[M]:A[M]=R(M)}function d(M,R){this.h=R;for(var A=[],D=!0,N=M.length-1;0<=N;N--){var z=M[N]|0;D&&z==R||(A[N]=z,D=!1)}this.g=A}var g={};function _(M){return-128<=M&&128>M?h(M,function(R){return new d([R|0],0>R?-1:0)}):new d([M|0],0>M?-1:0)}function v(M){if(isNaN(M)||!isFinite(M))return V;if(0>M)return X(v(-M));for(var R=[],A=1,D=0;M>=A;D++)R[D]=M/A|0,A*=4294967296;return new d(R,0)}function S(M,R){if(M.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(M.charAt(0)=="-")return X(S(M.substring(1),R));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=v(Math.pow(R,8)),D=V,N=0;N<M.length;N+=8){var z=Math.min(8,M.length-N),w=parseInt(M.substring(N,N+z),R);8>z?(z=v(Math.pow(R,z)),D=D.j(z).add(v(w))):(D=D.j(A),D=D.add(v(w)))}return D}var V=_(0),P=_(1),j=_(16777216);s=d.prototype,s.m=function(){if(W(this))return-X(this).m();for(var M=0,R=1,A=0;A<this.g.length;A++){var D=this.i(A);M+=(0<=D?D:4294967296+D)*R,R*=4294967296}return M},s.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(Z(this))return"0";if(W(this))return"-"+X(this).toString(M);for(var R=v(Math.pow(M,6)),A=this,D="";;){var N=Qt(A,R).g;A=yt(A,N.j(R));var z=((0<A.g.length?A.g[0]:A.h)>>>0).toString(M);if(A=N,Z(A))return z+D;for(;6>z.length;)z="0"+z;D=z+D}},s.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function Z(M){if(M.h!=0)return!1;for(var R=0;R<M.g.length;R++)if(M.g[R]!=0)return!1;return!0}function W(M){return M.h==-1}s.l=function(M){return M=yt(this,M),W(M)?-1:Z(M)?0:1};function X(M){for(var R=M.g.length,A=[],D=0;D<R;D++)A[D]=~M.g[D];return new d(A,~M.h).add(P)}s.abs=function(){return W(this)?X(this):this},s.add=function(M){for(var R=Math.max(this.g.length,M.g.length),A=[],D=0,N=0;N<=R;N++){var z=D+(this.i(N)&65535)+(M.i(N)&65535),w=(z>>>16)+(this.i(N)>>>16)+(M.i(N)>>>16);D=w>>>16,z&=65535,w&=65535,A[N]=w<<16|z}return new d(A,A[A.length-1]&-2147483648?-1:0)};function yt(M,R){return M.add(X(R))}s.j=function(M){if(Z(this)||Z(M))return V;if(W(this))return W(M)?X(this).j(X(M)):X(X(this).j(M));if(W(M))return X(this.j(X(M)));if(0>this.l(j)&&0>M.l(j))return v(this.m()*M.m());for(var R=this.g.length+M.g.length,A=[],D=0;D<2*R;D++)A[D]=0;for(D=0;D<this.g.length;D++)for(var N=0;N<M.g.length;N++){var z=this.i(D)>>>16,w=this.i(D)&65535,ge=M.i(N)>>>16,oe=M.i(N)&65535;A[2*D+2*N]+=w*oe,dt(A,2*D+2*N),A[2*D+2*N+1]+=z*oe,dt(A,2*D+2*N+1),A[2*D+2*N+1]+=w*ge,dt(A,2*D+2*N+1),A[2*D+2*N+2]+=z*ge,dt(A,2*D+2*N+2)}for(D=0;D<R;D++)A[D]=A[2*D+1]<<16|A[2*D];for(D=R;D<2*R;D++)A[D]=0;return new d(A,0)};function dt(M,R){for(;(M[R]&65535)!=M[R];)M[R+1]+=M[R]>>>16,M[R]&=65535,R++}function Tt(M,R){this.g=M,this.h=R}function Qt(M,R){if(Z(R))throw Error("division by zero");if(Z(M))return new Tt(V,V);if(W(M))return R=Qt(X(M),R),new Tt(X(R.g),X(R.h));if(W(R))return R=Qt(M,X(R)),new Tt(X(R.g),R.h);if(30<M.g.length){if(W(M)||W(R))throw Error("slowDivide_ only works with positive integers.");for(var A=P,D=R;0>=D.l(M);)A=_t(A),D=_t(D);var N=xt(A,1),z=xt(D,1);for(D=xt(D,2),A=xt(A,2);!Z(D);){var w=z.add(D);0>=w.l(M)&&(N=N.add(A),z=w),D=xt(D,1),A=xt(A,1)}return R=yt(M,N.j(R)),new Tt(N,R)}for(N=V;0<=M.l(R);){for(A=Math.max(1,Math.floor(M.m()/R.m())),D=Math.ceil(Math.log(A)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),z=v(A),w=z.j(R);W(w)||0<w.l(M);)A-=D,z=v(A),w=z.j(R);Z(z)&&(z=P),N=N.add(z),M=yt(M,w)}return new Tt(N,M)}s.A=function(M){return Qt(this,M).h},s.and=function(M){for(var R=Math.max(this.g.length,M.g.length),A=[],D=0;D<R;D++)A[D]=this.i(D)&M.i(D);return new d(A,this.h&M.h)},s.or=function(M){for(var R=Math.max(this.g.length,M.g.length),A=[],D=0;D<R;D++)A[D]=this.i(D)|M.i(D);return new d(A,this.h|M.h)},s.xor=function(M){for(var R=Math.max(this.g.length,M.g.length),A=[],D=0;D<R;D++)A[D]=this.i(D)^M.i(D);return new d(A,this.h^M.h)};function _t(M){for(var R=M.g.length+1,A=[],D=0;D<R;D++)A[D]=M.i(D)<<1|M.i(D-1)>>>31;return new d(A,M.h)}function xt(M,R){var A=R>>5;R%=32;for(var D=M.g.length-A,N=[],z=0;z<D;z++)N[z]=0<R?M.i(z+A)>>>R|M.i(z+A+1)<<32-R:M.i(z+A);return new d(N,M.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,m_=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=S,Tr=d}).apply(typeof ry<"u"?ry:typeof self<"u"?self:typeof window<"u"?window:{});var So=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var g_,Ul,p_,Vo,xf,y_,__,v_;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,m,p){return o==Array.prototype||o==Object.prototype||(o[m]=p.value),o};function i(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof So=="object"&&So];for(var m=0;m<o.length;++m){var p=o[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var a=i(this);function u(o,m){if(m)t:{var p=a;o=o.split(".");for(var T=0;T<o.length-1;T++){var U=o[T];if(!(U in p))break t;p=p[U]}o=o[o.length-1],T=p[o],m=m(T),m!=T&&m!=null&&e(p,o,{configurable:!0,writable:!0,value:m})}}function h(o,m){o instanceof String&&(o+="");var p=0,T=!1,U={next:function(){if(!T&&p<o.length){var k=p++;return{value:m(k,o[k]),done:!1}}return T=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}u("Array.prototype.values",function(o){return o||function(){return h(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function _(o){var m=typeof o;return m=m!="object"?m:o?Array.isArray(o)?"array":m:"null",m=="array"||m=="object"&&typeof o.length=="number"}function v(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function S(o,m,p){return o.call.apply(o.bind,arguments)}function V(o,m,p){if(!o)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,T),o.apply(m,U)}}return function(){return o.apply(m,arguments)}}function P(o,m,p){return P=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?S:V,P.apply(null,arguments)}function j(o,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),o.apply(this,T)}}function Z(o,m){function p(){}p.prototype=m.prototype,o.aa=m.prototype,o.prototype=new p,o.prototype.constructor=o,o.Qb=function(T,U,k){for(var $=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)$[Vt-2]=arguments[Vt];return m.prototype[U].apply(T,$)}}function W(o){const m=o.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=o[T];return p}return[]}function X(o,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(_(T)){const U=o.length||0,k=T.length||0;o.length=U+k;for(let $=0;$<k;$++)o[U+$]=T[$]}else o.push(T)}}class yt{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function dt(o){return/^[\s\xa0]*$/.test(o)}function Tt(){var o=g.navigator;return o&&(o=o.userAgent)?o:""}function Qt(o){return Qt[" "](o),o}Qt[" "]=function(){};var _t=Tt().indexOf("Gecko")!=-1&&!(Tt().toLowerCase().indexOf("webkit")!=-1&&Tt().indexOf("Edge")==-1)&&!(Tt().indexOf("Trident")!=-1||Tt().indexOf("MSIE")!=-1)&&Tt().indexOf("Edge")==-1;function xt(o,m,p){for(const T in o)m.call(p,o[T],T,o)}function M(o,m){for(const p in o)m.call(void 0,o[p],p,o)}function R(o){const m={};for(const p in o)m[p]=o[p];return m}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(o,m){let p,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(p in T)o[p]=T[p];for(let k=0;k<A.length;k++)p=A[k],Object.prototype.hasOwnProperty.call(T,p)&&(o[p]=T[p])}}function N(o){var m=1;o=o.split(":");const p=[];for(;0<m&&o.length;)p.push(o.shift()),m--;return o.length&&p.push(o.join(":")),p}function z(o){g.setTimeout(()=>{throw o},0)}function w(){var o=Bt;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class ge{constructor(){this.h=this.g=null}add(m,p){const T=oe.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var oe=new yt(()=>new J,o=>o.reset());class J{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let ht,lt=!1,Bt=new ge,C=()=>{const o=g.Promise.resolve(void 0);ht=()=>{o.then(Y)}};var Y=()=>{for(var o;o=w();){try{o.h.call(o.g)}catch(p){z(p)}var m=oe;m.j(o),100>m.h&&(m.h++,o.next=m.g,m.g=o)}lt=!1};function at(){this.s=this.s,this.C=this.C}at.prototype.s=!1,at.prototype.ma=function(){this.s||(this.s=!0,this.N())},at.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function tt(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}tt.prototype.h=function(){this.defaultPrevented=!0};var et=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return o}();function At(o,m){if(tt.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var p=this.type=o.type,T=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget){if(_t){t:{try{Qt(m.nodeName);var U=!0;break t}catch{}U=!1}U||(m=null)}}else p=="mouseover"?m=o.fromElement:p=="mouseout"&&(m=o.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:vt[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&At.aa.h.call(this)}}Z(At,tt);var vt={2:"touch",3:"pen",4:"mouse"};At.prototype.h=function(){At.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var ce="closure_listenable_"+(1e6*Math.random()|0),Ut=0;function te(o,m,p,T,U){this.listener=o,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=U,this.key=++Ut,this.da=this.fa=!1}function Ht(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function Fe(o){this.src=o,this.g={},this.h=0}Fe.prototype.add=function(o,m,p,T,U){var k=o.toString();o=this.g[k],o||(o=this.g[k]=[],this.h++);var $=dn(o,m,T,U);return-1<$?(m=o[$],p||(m.fa=!1)):(m=new te(m,this.src,k,!!T,U),m.fa=p,o.push(m)),m};function ri(o,m){var p=m.type;if(p in o.g){var T=o.g[p],U=Array.prototype.indexOf.call(T,m,void 0),k;(k=0<=U)&&Array.prototype.splice.call(T,U,1),k&&(Ht(m),o.g[p].length==0&&(delete o.g[p],o.h--))}}function dn(o,m,p,T){for(var U=0;U<o.length;++U){var k=o[U];if(!k.da&&k.listener==m&&k.capture==!!p&&k.ha==T)return U}return-1}var Ui="closure_lm_"+(1e6*Math.random()|0),zi={};function ai(o,m,p,T,U){if(Array.isArray(m)){for(var k=0;k<m.length;k++)ai(o,m[k],p,T,U);return null}return p=eu(p),o&&o[ce]?o.K(m,p,v(T)?!!T.capture:!1,U):Cs(o,m,p,!1,T,U)}function Cs(o,m,p,T,U,k){if(!m)throw Error("Invalid event type");var $=v(U)?!!U.capture:!!U,Vt=Vs(o);if(Vt||(o[Ui]=Vt=new Fe(o)),p=Vt.add(m,p,T,$,k),p.proxy)return p;if(T=_a(),p.proxy=T,T.src=o,T.listener=p,o.addEventListener)et||(U=$),U===void 0&&(U=!1),o.addEventListener(m.toString(),T,U);else if(o.attachEvent)o.attachEvent(Ea(m.toString()),T);else if(o.addListener&&o.removeListener)o.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function _a(){function o(p){return m.call(o.src,o.listener,p)}const m=gc;return o}function va(o,m,p,T,U){if(Array.isArray(m))for(var k=0;k<m.length;k++)va(o,m[k],p,T,U);else T=v(T)?!!T.capture:!!T,p=eu(p),o&&o[ce]?(o=o.i,m=String(m).toString(),m in o.g&&(k=o.g[m],p=dn(k,p,T,U),-1<p&&(Ht(k[p]),Array.prototype.splice.call(k,p,1),k.length==0&&(delete o.g[m],o.h--)))):o&&(o=Vs(o))&&(m=o.g[m.toString()],o=-1,m&&(o=dn(m,p,T,U)),(p=-1<o?m[o]:null)&&Nr(p))}function Nr(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[ce])ri(m.i,o);else{var p=o.type,T=o.proxy;m.removeEventListener?m.removeEventListener(p,T,o.capture):m.detachEvent?m.detachEvent(Ea(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=Vs(m))?(ri(p,o),p.h==0&&(p.src=null,m[Ui]=null)):Ht(o)}}}function Ea(o){return o in zi?zi[o]:zi[o]="on"+o}function gc(o,m){if(o.da)o=!0;else{m=new At(m,this);var p=o.listener,T=o.ha||o.src;o.fa&&Nr(o),o=p.call(T,m)}return o}function Vs(o){return o=o[Ui],o instanceof Fe?o:null}var Je="__closure_events_fn_"+(1e9*Math.random()>>>0);function eu(o){return typeof o=="function"?o:(o[Je]||(o[Je]=function(m){return o.handleEvent(m)}),o[Je])}function pe(){at.call(this),this.i=new Fe(this),this.M=this,this.F=null}Z(pe,at),pe.prototype[ce]=!0,pe.prototype.removeEventListener=function(o,m,p,T){va(this,o,m,p,T)};function Re(o,m){var p,T=o.F;if(T)for(p=[];T;T=T.F)p.push(T);if(o=o.M,T=m.type||m,typeof m=="string")m=new tt(m,o);else if(m instanceof tt)m.target=m.target||o;else{var U=m;m=new tt(T,o),D(m,U)}if(U=!0,p)for(var k=p.length-1;0<=k;k--){var $=m.g=p[k];U=si($,T,!0,m)&&U}if($=m.g=o,U=si($,T,!0,m)&&U,U=si($,T,!1,m)&&U,p)for(k=0;k<p.length;k++)$=m.g=p[k],U=si($,T,!1,m)&&U}pe.prototype.N=function(){if(pe.aa.N.call(this),this.i){var o=this.i,m;for(m in o.g){for(var p=o.g[m],T=0;T<p.length;T++)Ht(p[T]);delete o.g[m],o.h--}}this.F=null},pe.prototype.K=function(o,m,p,T){return this.i.add(String(o),m,!1,p,T)},pe.prototype.L=function(o,m,p,T){return this.i.add(String(o),m,!0,p,T)};function si(o,m,p,T){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,k=0;k<m.length;++k){var $=m[k];if($&&!$.da&&$.capture==p){var Vt=$.listener,_e=$.ha||$.src;$.fa&&ri(o.i,$),U=Vt.call(_e,T)!==!1&&U}}return U&&!T.defaultPrevented}function nu(o,m,p){if(typeof o=="function")p&&(o=P(o,p));else if(o&&typeof o.handleEvent=="function")o=P(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(o,m||0)}function Os(o){o.g=nu(()=>{o.g=null,o.i&&(o.i=!1,Os(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class pc extends at{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Os(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mr(o){at.call(this),this.h=o,this.g={}}Z(Mr,at);var Li=[];function ke(o){xt(o.g,function(m,p){this.g.hasOwnProperty(p)&&Nr(m)},o),o.g={}}Mr.prototype.N=function(){Mr.aa.N.call(this),ke(this)},Mr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Is=g.JSON.stringify,Ln=g.JSON.parse,Ke=class{stringify(o){return g.JSON.stringify(o,void 0)}parse(o){return g.JSON.parse(o,void 0)}};function Ns(){}Ns.prototype.h=null;function iu(o){return o.h||(o.h=o.i())}function ru(){}var Pn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Pi(){tt.call(this,"d")}Z(Pi,tt);function On(){tt.call(this,"c")}Z(On,tt);var mn={},Bi=null;function Ta(){return Bi=Bi||new pe}mn.La="serverreachability";function Ms(o){tt.call(this,mn.La,o)}Z(Ms,tt);function ki(o){const m=Ta();Re(m,new Ms(m))}mn.STAT_EVENT="statevent";function Aa(o,m){tt.call(this,mn.STAT_EVENT,o),this.stat=m}Z(Aa,tt);function ae(o){const m=Ta();Re(m,new Aa(m,o))}mn.Ma="timingevent";function au(o,m){tt.call(this,mn.Ma,o),this.size=m}Z(au,tt);function qi(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){o()},m)}function Hi(){this.g=!0}Hi.prototype.xa=function(){this.g=!1};function su(o,m,p,T,U,k){o.info(function(){if(o.g)if(k)for(var $="",Vt=k.split("&"),_e=0;_e<Vt.length;_e++){var Ot=Vt[_e].split("=");if(1<Ot.length){var Ce=Ot[0];Ot=Ot[1];var ve=Ce.split("_");$=2<=ve.length&&ve[1]=="type"?$+(Ce+"="+Ot+"&"):$+(Ce+"=redacted&")}}else $=null;else $=k;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+p+`
`+$})}function lu(o,m,p,T,U,k,$){o.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+p+`
`+k+" "+$})}function ji(o,m,p,T){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+we(o,p)+(T?" "+T:"")})}function Bn(o,m){o.info(function(){return"TIMEOUT: "+m})}Hi.prototype.info=function(){};function we(o,m){if(!o.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(o=0;o<p.length;o++)if(Array.isArray(p[o])){var T=p[o];if(!(2>T.length)){var U=T[1];if(Array.isArray(U)&&!(1>U.length)){var k=U[0];if(k!="noop"&&k!="stop"&&k!="close")for(var $=1;$<U.length;$++)U[$]=""}}}}return Is(p)}catch{return m}}var ye={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},li={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xr;function Sa(){}Z(Sa,Ns),Sa.prototype.g=function(){return new XMLHttpRequest},Sa.prototype.i=function(){return{}},xr=new Sa;function kn(o,m,p,T){this.j=o,this.i=m,this.l=p,this.R=T||1,this.U=new Mr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new xs}function xs(){this.i=null,this.g="",this.h=!1}var Gi={},Ur={};function In(o,m,p){o.L=1,o.v=Pr(ee(m)),o.m=p,o.P=!0,ui(o,null)}function ui(o,m){o.F=Date.now(),Zt(o),o.A=ee(o.v);var p=o.A,T=o.R;Array.isArray(T)||(T=[String(T)]),hi(p.i,"t",T),o.C=0,p=o.j.J,o.h=new xs,o.g=Tu(o.j,p?m:null,!o.m),0<o.O&&(o.M=new pc(P(o.Y,o,o.g),o.O)),m=o.U,p=o.g,T=o.ca;var U="readystatechange";Array.isArray(U)||(U&&(Li[0]=U.toString()),U=Li);for(var k=0;k<U.length;k++){var $=ai(p,U[k],T||m.handleEvent,!1,m.h||m);if(!$)break;m.g[$.key]=$}m=o.H?R(o.H):{},o.m?(o.u||(o.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,m)):(o.u="GET",o.g.ea(o.A,o.u,null,m)),ki(),su(o.i,o.u,o.A,o.l,o.R,o.m)}kn.prototype.ca=function(o){o=o.target;const m=this.M;m&&vn(o)==3?m.j():this.Y(o)},kn.prototype.Y=function(o){try{if(o==this.g)t:{const ve=vn(this.g);var m=this.g.Ba();const gi=this.g.Z();if(!(3>ve)&&(ve!=3||this.g&&(this.h.h||this.g.oa()||du(this.g)))){this.J||ve!=4||m==7||(m==8||0>=gi?ki(3):ki(2)),ba(this);var p=this.g.Z();this.X=p;e:if(Qi(this)){var T=du(this.g);o="";var U=T.length,k=vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){We(this),rn(this);var $="";break e}this.h.i=new g.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,o+=this.h.i.decode(T[m],{stream:!(k&&m==U-1)});T.length=0,this.h.g+=o,this.C=0,$=this.h.g}else $=this.g.oa();if(this.o=p==200,lu(this.i,this.u,this.A,this.l,this.R,ve,p),this.o){if(this.T&&!this.K){e:{if(this.g){var Vt,_e=this.g;if((Vt=_e.g?_e.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!dt(Vt)){var Ot=Vt;break e}}Ot=null}if(p=Ot)ji(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,an(this,p);else{this.o=!1,this.s=3,ae(12),We(this),rn(this);break t}}if(this.P){p=!0;let Me;for(;!this.J&&this.C<$.length;)if(Me=Fi(this,$),Me==Ur){ve==4&&(this.s=4,ae(14),p=!1),ji(this.i,this.l,null,"[Incomplete Response]");break}else if(Me==Gi){this.s=4,ae(15),ji(this.i,this.l,$,"[Invalid Chunk]"),p=!1;break}else ji(this.i,this.l,Me,null),an(this,Me);if(Qi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ve!=4||$.length!=0||this.h.h||(this.s=1,ae(16),p=!1),this.o=this.o&&p,!p)ji(this.i,this.l,$,"[Invalid Chunked Response]"),We(this),rn(this);else if(0<$.length&&!this.W){this.W=!0;var Ce=this.j;Ce.g==this&&Ce.ba&&!Ce.M&&(Ce.j.info("Great, no buffering proxy detected. Bytes received: "+$.length),Qr(Ce),Ce.M=!0,ae(11))}}else ji(this.i,this.l,$,null),an(this,$);ve==4&&We(this),this.o&&!this.J&&(ve==4?_u(this.j,this):(this.o=!1,Zt(this)))}else Ac(this.g),p==400&&0<$.indexOf("Unknown SID")?(this.s=3,ae(12)):(this.s=0,ae(13)),We(this),rn(this)}}}catch{}finally{}};function Qi(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function Fi(o,m){var p=o.C,T=m.indexOf(`
`,p);return T==-1?Ur:(p=Number(m.substring(p,T)),isNaN(p)?Gi:(T+=1,T+p>m.length?Ur:(m=m.slice(T,T+p),o.C=T+p,m)))}kn.prototype.cancel=function(){this.J=!0,We(this)};function Zt(o){o.S=Date.now()+o.I,Us(o,o.I)}function Us(o,m){if(o.B!=null)throw Error("WatchDog timer not null");o.B=qi(P(o.ba,o),m)}function ba(o){o.B&&(g.clearTimeout(o.B),o.B=null)}kn.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(Bn(this.i,this.A),this.L!=2&&(ki(),ae(17)),We(this),this.s=2,rn(this)):Us(this,this.S-o)};function rn(o){o.j.G==0||o.J||_u(o.j,o)}function We(o){ba(o);var m=o.M;m&&typeof m.ma=="function"&&m.ma(),o.M=null,ke(o.U),o.g&&(m=o.g,o.g=null,m.abort(),m.ma())}function an(o,m){try{var p=o.j;if(p.G!=0&&(p.g==o||Ki(p.h,o))){if(!o.K&&Ki(p.h,o)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<o.F)xa(p),Na(p);else break t;Fs(p),ae(18)}}else p.za=U[1],0<p.za-p.T&&37500>U[2]&&p.F&&p.v==0&&!p.C&&(p.C=qi(P(p.Za,p),6e3));if(1>=uu(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else mi(p,11)}else if((o.K||p.g==o)&&xa(p),!dt(m))for(U=p.Da.g.parse(m),m=0;m<U.length;m++){let Ot=U[m];if(p.T=Ot[0],Ot=Ot[1],p.G==2)if(Ot[0]=="c"){p.K=Ot[1],p.ia=Ot[2];const Ce=Ot[3];Ce!=null&&(p.la=Ce,p.j.info("VER="+p.la));const ve=Ot[4];ve!=null&&(p.Aa=ve,p.j.info("SVER="+p.Aa));const gi=Ot[5];gi!=null&&typeof gi=="number"&&0<gi&&(T=1.5*gi,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const Me=o.g;if(Me){const Kn=Me.g?Me.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Kn){var k=T.h;k.g||Kn.indexOf("spdy")==-1&&Kn.indexOf("quic")==-1&&Kn.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(Yi(k,k.h),k.h=null))}if(T.D){const Ys=Me.g?Me.g.getResponseHeader("X-HTTP-Session-Id"):null;Ys&&(T.ya=Ys,zt(T.I,T.D,Ys))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-o.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var $=o;if(T.qa=Eu(T,T.J?T.ia:null,T.W),$.K){gn(T.h,$);var Vt=$,_e=T.L;_e&&(Vt.I=_e),Vt.B&&(ba(Vt),Zt(Vt)),T.g=$}else pu(T);0<p.i.length&&Ma(p)}else Ot[0]!="stop"&&Ot[0]!="close"||mi(p,7);else p.G==3&&(Ot[0]=="stop"||Ot[0]=="close"?Ot[0]=="stop"?mi(p,7):Gs(p):Ot[0]!="noop"&&p.l&&p.l.ta(Ot),p.v=0)}}ki(4)}catch{}}var yc=class{constructor(o,m){this.g=o,this.map=m}};function zs(o){this.l=o||10,g.PerformanceNavigationTiming?(o=g.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ls(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function uu(o){return o.h?1:o.g?o.g.size:0}function Ki(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function Yi(o,m){o.g?o.g.add(m):o.h=m}function gn(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}zs.prototype.cancel=function(){if(this.i=Ye(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Ye(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const p of o.g.values())m=m.concat(p.D);return m}return W(o.i)}function ou(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(_(o)){for(var m=[],p=o.length,T=0;T<p;T++)m.push(o[T]);return m}m=[],p=0;for(T in o)m[p++]=o[T];return m}function _c(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(_(o)||typeof o=="string"){var m=[];o=o.length;for(var p=0;p<o;p++)m.push(p);return m}m=[],p=0;for(const T in o)m[p++]=T;return m}}}function zr(o,m){if(o.forEach&&typeof o.forEach=="function")o.forEach(m,void 0);else if(_(o)||typeof o=="string")Array.prototype.forEach.call(o,m,void 0);else for(var p=_c(o),T=ou(o),U=T.length,k=0;k<U;k++)m.call(void 0,T[k],p&&p[k],o)}var Ps=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ra(o,m){if(o){o=o.split("&");for(var p=0;p<o.length;p++){var T=o[p].indexOf("="),U=null;if(0<=T){var k=o[p].substring(0,T);U=o[p].substring(T+1)}else k=o[p];m(k,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function oi(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof oi){this.h=o.h,Xi(this,o.j),this.o=o.o,this.g=o.g,Lr(this,o.s),this.l=o.l;var m=o.i,p=new qn;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),wa(this,p),this.m=o.m}else o&&(m=String(o).match(Ps))?(this.h=!1,Xi(this,m[1]||"",!0),this.o=Zi(m[2]||""),this.g=Zi(m[3]||"",!0),Lr(this,m[4]),this.l=Zi(m[5]||"",!0),wa(this,m[6]||"",!0),this.m=Zi(m[7]||"")):(this.h=!1,this.i=new qn(null,this.h))}oi.prototype.toString=function(){var o=[],m=this.j;m&&o.push(pn(m,Bs,!0),":");var p=this.g;return(p||m=="file")&&(o.push("//"),(m=this.o)&&o.push(pn(m,Bs,!0),"@"),o.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&o.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&o.push("/"),o.push(pn(p,p.charAt(0)=="/"?ks:cu,!0))),(p=this.i.toString())&&o.push("?",p),(p=this.m)&&o.push("#",pn(p,Tc)),o.join("")};function ee(o){return new oi(o)}function Xi(o,m,p){o.j=p?Zi(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function Lr(o,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);o.s=m}else o.s=null}function wa(o,m,p){m instanceof qn?(o.i=m,qs(o.i,o.h)):(p||(m=pn(m,Ec)),o.i=new qn(m,o.h))}function zt(o,m,p){o.i.set(m,p)}function Pr(o){return zt(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function Zi(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function pn(o,m,p){return typeof o=="string"?(o=encodeURI(o).replace(m,vc),p&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function vc(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Bs=/[#\/\?@]/g,cu=/[#\?:]/g,ks=/[#\?]/g,Ec=/[#\?@]/g,Tc=/#/g;function qn(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function yn(o){o.g||(o.g=new Map,o.h=0,o.i&&Ra(o.i,function(m,p){o.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}s=qn.prototype,s.add=function(o,m){yn(this),this.i=null,o=fi(this,o);var p=this.g.get(o);return p||this.g.set(o,p=[]),p.push(m),this.h+=1,this};function Da(o,m){yn(o),m=fi(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function ci(o,m){return yn(o),m=fi(o,m),o.g.has(m)}s.forEach=function(o,m){yn(this),this.g.forEach(function(p,T){p.forEach(function(U){o.call(m,U,T,this)},this)},this)},s.na=function(){yn(this);const o=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const U=o[T];for(let k=0;k<U.length;k++)p.push(m[T])}return p},s.V=function(o){yn(this);let m=[];if(typeof o=="string")ci(this,o)&&(m=m.concat(this.g.get(fi(this,o))));else{o=Array.from(this.g.values());for(let p=0;p<o.length;p++)m=m.concat(o[p])}return m},s.set=function(o,m){return yn(this),this.i=null,o=fi(this,o),ci(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},s.get=function(o,m){return o?(o=this.V(o),0<o.length?String(o[0]):m):m};function hi(o,m,p){Da(o,m),0<p.length&&(o.i=null,o.g.set(fi(o,m),W(p)),o.h+=p.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const k=encodeURIComponent(String(T)),$=this.V(T);for(T=0;T<$.length;T++){var U=k;$[T]!==""&&(U+="="+encodeURIComponent(String($[T]))),o.push(U)}}return this.i=o.join("&")};function fi(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function qs(o,m){m&&!o.j&&(yn(o),o.i=null,o.g.forEach(function(p,T){var U=T.toLowerCase();T!=U&&(Da(this,T),hi(this,U,p))},o)),o.j=m}function hu(o,m){const p=new Hi;if(g.Image){const T=new Image;T.onload=j(_n,p,"TestLoadImage: loaded",!0,m,T),T.onerror=j(_n,p,"TestLoadImage: error",!1,m,T),T.onabort=j(_n,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=j(_n,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=o}else m(!1)}function Br(o,m){const p=new Hi,T=new AbortController,U=setTimeout(()=>{T.abort(),_n(p,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:T.signal}).then(k=>{clearTimeout(U),k.ok?_n(p,"TestPingServer: ok",!0,m):_n(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),_n(p,"TestPingServer: error",!1,m)})}function _n(o,m,p,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(p)}catch{}}function kr(){this.g=new Ke}function Hn(o,m,p){const T=p||"";try{zr(o,function(U,k){let $=U;v(U)&&($=Is(U)),m.push(T+k+"="+encodeURIComponent($))})}catch(U){throw m.push(T+"type="+encodeURIComponent("_badmap")),U}}function $i(o){this.l=o.Ub||null,this.j=o.eb||!1}Z($i,Ns),$i.prototype.g=function(){return new di(this.l,this.j)},$i.prototype.i=function(o){return function(){return o}}({});function di(o,m){pe.call(this),this.D=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Z(di,pe),s=di.prototype,s.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=m,this.readyState=1,Gn(this)},s.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(m.body=o),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,jn(this)),this.readyState=0},s.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Hs(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function Hs(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}s.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?jn(this):Gn(this),this.readyState==3&&Hs(this)}},s.Ra=function(o){this.g&&(this.response=this.responseText=o,jn(this))},s.Qa=function(o){this.g&&(this.response=o,jn(this))},s.ga=function(){this.g&&jn(this)};function jn(o){o.readyState=4,o.l=null,o.j=null,o.v=null,Gn(o)}s.setRequestHeader=function(o,m){this.u.append(o,m)},s.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,o.push(p[0]+": "+p[1]),p=m.next();return o.join(`\r
`)};function Gn(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(di.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function js(o){let m="";return xt(o,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function De(o,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=js(p),typeof o=="string"?p!=null&&encodeURIComponent(String(p)):zt(o,m,p))}function kt(o){pe.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Z(kt,pe);var Ca=/^https?$/i,qr=["POST","PUT"];s=kt.prototype,s.Ha=function(o){this.J=o},s.ea=function(o,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xr.g(),this.v=this.o?iu(this.o):iu(xr),this.g.onreadystatechange=P(this.Ea,this);try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(k){fu(this,k);return}if(o=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)p.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const k of T.keys())p.set(k,T.get(k));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(k=>k.toLowerCase()=="content-type"),U=g.FormData&&o instanceof g.FormData,!(0<=Array.prototype.indexOf.call(qr,m,void 0))||T||U||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[k,$]of p)this.g.setRequestHeader(k,$);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Hr(this),this.u=!0,this.g.send(o),this.u=!1}catch(k){fu(this,k)}};function fu(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.m=5,Va(o),Qn(o)}function Va(o){o.A||(o.A=!0,Re(o,"complete"),Re(o,"error"))}s.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,Re(this,"complete"),Re(this,"abort"),Qn(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qn(this,!0)),kt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Oa(this):this.bb())},s.bb=function(){Oa(this)};function Oa(o){if(o.h&&typeof d<"u"&&(!o.v[1]||vn(o)!=4||o.Z()!=2)){if(o.u&&vn(o)==4)nu(o.Ea,0,o);else if(Re(o,"readystatechange"),vn(o)==4){o.h=!1;try{const $=o.Z();t:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=$===0){var U=String(o.D).match(Ps)[1]||null;!U&&g.self&&g.self.location&&(U=g.self.location.protocol.slice(0,-1)),T=!Ca.test(U?U.toLowerCase():"")}p=T}if(p)Re(o,"complete"),Re(o,"success");else{o.m=6;try{var k=2<vn(o)?o.g.statusText:""}catch{k=""}o.l=k+" ["+o.Z()+"]",Va(o)}}finally{Qn(o)}}}}function Qn(o,m){if(o.g){Hr(o);const p=o.g,T=o.v[0]?()=>{}:null;o.g=null,o.v=null,m||Re(o,"ready");try{p.onreadystatechange=T}catch{}}}function Hr(o){o.I&&(g.clearTimeout(o.I),o.I=null)}s.isActive=function(){return!!this.g};function vn(o){return o.g?o.g.readyState:0}s.Z=function(){try{return 2<vn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),Ln(m)}};function du(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Ac(o){const m={};o=(o.g&&2<=vn(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<o.length;T++){if(dt(o[T]))continue;var p=N(o[T]);const U=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const k=m[U]||[];m[U]=k,k.push(p)}M(m,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function jr(o,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[o]||m}function Ia(o){this.Aa=0,this.i=[],this.j=new Hi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=jr("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=jr("baseRetryDelayMs",5e3,o),this.cb=jr("retryDelaySeedMs",1e4,o),this.Wa=jr("forwardChannelMaxRetries",2,o),this.wa=jr("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new zs(o&&o.concurrentRequestLimit),this.Da=new kr,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Ia.prototype,s.la=8,s.G=1,s.connect=function(o,m,p,T){ae(0),this.W=o,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=Eu(this,null,this.W),Ma(this)};function Gs(o){if(mu(o),o.G==3){var m=o.U++,p=ee(o.I);if(zt(p,"SID",o.K),zt(p,"RID",m),zt(p,"TYPE","terminate"),Gr(o,p),m=new kn(o,o.j,m),m.L=2,m.v=Pr(ee(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=Tu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Zt(m)}vu(o)}function Na(o){o.g&&(Qr(o),o.g.cancel(),o.g=null)}function mu(o){Na(o),o.u&&(g.clearTimeout(o.u),o.u=null),xa(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&g.clearTimeout(o.s),o.s=null)}function Ma(o){if(!Ls(o.h)&&!o.s){o.s=!0;var m=o.Ga;ht||C(),lt||(ht(),lt=!0),Bt.add(m,o),o.B=0}}function Sc(o,m){return uu(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=m.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=qi(P(o.Ga,o,m),Ks(o,o.B)),o.B++,!0)}s.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const U=new kn(this,this.j,o);let k=this.o;if(this.S&&(k?(k=R(k),D(k,this.S)):k=this.S),this.m!==null||this.O||(U.H=k,k=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=gu(this,U,m),p=ee(this.I),zt(p,"RID",o),zt(p,"CVER",22),this.D&&zt(p,"X-HTTP-Session-Id",this.D),Gr(this,p),k&&(this.O?m="headers="+encodeURIComponent(String(js(k)))+"&"+m:this.m&&De(p,this.m,k)),Yi(this.h,U),this.Ua&&zt(p,"TYPE","init"),this.P?(zt(p,"$req",m),zt(p,"SID","null"),U.T=!0,In(U,p,null)):In(U,p,m),this.G=2}}else this.G==3&&(o?Qs(this,o):this.i.length==0||Ls(this.h)||Qs(this))};function Qs(o,m){var p;m?p=m.l:p=o.U++;const T=ee(o.I);zt(T,"SID",o.K),zt(T,"RID",p),zt(T,"AID",o.T),Gr(o,T),o.m&&o.o&&De(T,o.m,o.o),p=new kn(o,o.j,p,o.B+1),o.m===null&&(p.H=o.o),m&&(o.i=m.D.concat(o.i)),m=gu(o,p,1e3),p.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),Yi(o.h,p),In(p,T,m)}function Gr(o,m){o.H&&xt(o.H,function(p,T){zt(m,T,p)}),o.l&&zr({},function(p,T){zt(m,T,p)})}function gu(o,m,p){p=Math.min(o.i.length,p);var T=o.l?P(o.l.Na,o.l,o):null;t:{var U=o.i;let k=-1;for(;;){const $=["count="+p];k==-1?0<p?(k=U[0].g,$.push("ofs="+k)):k=0:$.push("ofs="+k);let Vt=!0;for(let _e=0;_e<p;_e++){let Ot=U[_e].g;const Ce=U[_e].map;if(Ot-=k,0>Ot)k=Math.max(0,U[_e].g-100),Vt=!1;else try{Hn(Ce,$,"req"+Ot+"_")}catch{T&&T(Ce)}}if(Vt){T=$.join("&");break t}}}return o=o.i.splice(0,p),m.D=o,T}function pu(o){if(!o.g&&!o.u){o.Y=1;var m=o.Fa;ht||C(),lt||(ht(),lt=!0),Bt.add(m,o),o.v=0}}function Fs(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=qi(P(o.Fa,o),Ks(o,o.v)),o.v++,!0)}s.Fa=function(){if(this.u=null,yu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=qi(P(this.ab,this),o)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ae(10),Na(this),yu(this))};function Qr(o){o.A!=null&&(g.clearTimeout(o.A),o.A=null)}function yu(o){o.g=new kn(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var m=ee(o.qa);zt(m,"RID","rpc"),zt(m,"SID",o.K),zt(m,"AID",o.T),zt(m,"CI",o.F?"0":"1"),!o.F&&o.ja&&zt(m,"TO",o.ja),zt(m,"TYPE","xmlhttp"),Gr(o,m),o.m&&o.o&&De(m,o.m,o.o),o.L&&(o.g.I=o.L);var p=o.g;o=o.ia,p.L=1,p.v=Pr(ee(m)),p.m=null,p.P=!0,ui(p,o)}s.Za=function(){this.C!=null&&(this.C=null,Na(this),Fs(this),ae(19))};function xa(o){o.C!=null&&(g.clearTimeout(o.C),o.C=null)}function _u(o,m){var p=null;if(o.g==m){xa(o),Qr(o),o.g=null;var T=2}else if(Ki(o.h,m))p=m.D,gn(o.h,m),T=1;else return;if(o.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var U=o.B;T=Ta(),Re(T,new au(T,p)),Ma(o)}else pu(o);else if(U=m.s,U==3||U==0&&0<m.X||!(T==1&&Sc(o,m)||T==2&&Fs(o)))switch(p&&0<p.length&&(m=o.h,m.i=m.i.concat(p)),U){case 1:mi(o,5);break;case 4:mi(o,10);break;case 3:mi(o,6);break;default:mi(o,2)}}}function Ks(o,m){let p=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(p*=2),p*m}function mi(o,m){if(o.j.info("Error code "+m),m==2){var p=P(o.fb,o),T=o.Xa;const U=!T;T=new oi(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Xi(T,"https"),Pr(T),U?hu(T.toString(),p):Br(T.toString(),p)}else ae(2);o.G=0,o.l&&o.l.sa(m),vu(o),mu(o)}s.fb=function(o){o?(this.j.info("Successfully pinged google.com"),ae(2)):(this.j.info("Failed to ping google.com"),ae(1))};function vu(o){if(o.G=0,o.ka=[],o.l){const m=Ye(o.h);(m.length!=0||o.i.length!=0)&&(X(o.ka,m),X(o.ka,o.i),o.h.i.length=0,W(o.i),o.i.length=0),o.l.ra()}}function Eu(o,m,p){var T=p instanceof oi?ee(p):new oi(p);if(T.g!="")m&&(T.g=m+"."+T.g),Lr(T,T.s);else{var U=g.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var k=new oi(null);T&&Xi(k,T),m&&(k.g=m),U&&Lr(k,U),p&&(k.l=p),T=k}return p=o.D,m=o.ya,p&&m&&zt(T,p,m),zt(T,"VER",o.la),Gr(o,T),T}function Tu(o,m,p){if(m&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Ca&&!o.pa?new kt(new $i({eb:p})):new kt(o.pa),m.Ha(o.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Au(){}s=Au.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Ua(){}Ua.prototype.g=function(o,m){return new Xe(o,m)};function Xe(o,m){pe.call(this),this.g=new Ia(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(o?o["X-WebChannel-Client-Profile"]=m.va:o={"X-WebChannel-Client-Profile":m.va}),this.g.S=o,(o=m&&m.Sb)&&!dt(o)&&(this.g.m=o),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!dt(m)&&(this.g.D=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new Fn(this)}Z(Xe,pe),Xe.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xe.prototype.close=function(){Gs(this.g)},Xe.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var p={};p.__data__=o,o=p}else this.u&&(p={},p.__data__=Is(o),o=p);m.i.push(new yc(m.Ya++,o)),m.G==3&&Ma(m)},Xe.prototype.N=function(){this.g.l=null,delete this.j,Gs(this.g),delete this.g,Xe.aa.N.call(this)};function Su(o){Pi.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const p in m){o=p;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}Z(Su,Pi);function bu(){On.call(this),this.status=1}Z(bu,On);function Fn(o){this.g=o}Z(Fn,Au),Fn.prototype.ua=function(){Re(this.g,"a")},Fn.prototype.ta=function(o){Re(this.g,new Su(o))},Fn.prototype.sa=function(o){Re(this.g,new bu)},Fn.prototype.ra=function(){Re(this.g,"b")},Ua.prototype.createWebChannel=Ua.prototype.g,Xe.prototype.send=Xe.prototype.o,Xe.prototype.open=Xe.prototype.m,Xe.prototype.close=Xe.prototype.close,v_=function(){return new Ua},__=function(){return Ta()},y_=mn,xf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ye.NO_ERROR=0,ye.TIMEOUT=8,ye.HTTP_ERROR=6,Vo=ye,li.COMPLETE="complete",p_=li,ru.EventType=Pn,Pn.OPEN="a",Pn.CLOSE="b",Pn.ERROR="c",Pn.MESSAGE="d",pe.prototype.listen=pe.prototype.K,Ul=ru,kt.prototype.listenOnce=kt.prototype.L,kt.prototype.getLastError=kt.prototype.Ka,kt.prototype.getLastErrorCode=kt.prototype.Ba,kt.prototype.getStatus=kt.prototype.Z,kt.prototype.getResponseJson=kt.prototype.Oa,kt.prototype.getResponseText=kt.prototype.oa,kt.prototype.send=kt.prototype.ea,kt.prototype.setWithCredentials=kt.prototype.Ha,g_=kt}).apply(typeof So<"u"?So:typeof self<"u"?self:typeof window<"u"?window:{});const ay="@firebase/firestore",sy="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ge.UNAUTHENTICATED=new Ge(null),Ge.GOOGLE_CREDENTIALS=new Ge("google-credentials-uid"),Ge.FIRST_PARTY=new Ge("first-party-uid"),Ge.MOCK_USER=new Ge("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bs="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma=new u_("@firebase/firestore");function us(){return ma.logLevel}function nt(s,...e){if(ma.logLevel<=Mt.DEBUG){const i=e.map(ed);ma.debug(`Firestore (${bs}): ${s}`,...i)}}function Mi(s,...e){if(ma.logLevel<=Mt.ERROR){const i=e.map(ed);ma.error(`Firestore (${bs}): ${s}`,...i)}}function gs(s,...e){if(ma.logLevel<=Mt.WARN){const i=e.map(ed);ma.warn(`Firestore (${bs}): ${s}`,...i)}}function ed(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(s="Unexpected state"){const e=`FIRESTORE (${bs}) INTERNAL ASSERTION FAILED: `+s;throw Mi(e),new Error(e)}function qt(s,e){s||ft()}function pt(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends Ss{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Ge.UNAUTHENTICATED))}shutdown(){}}class mA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class gA{constructor(e){this.t=e,this.currentUser=Ge.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){qt(this.o===void 0);let a=this.i;const u=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let h=new da;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new da,e.enqueueRetryable(()=>u(this.currentUser))};const d=()=>{const _=h;e.enqueueRetryable(async()=>{await _.promise,await u(this.currentUser)})},g=_=>{nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(_=>g(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new da)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==e?(nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(qt(typeof a.accessToken=="string"),new E_(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qt(e===null||typeof e=="string"),new Ge(e)}}class pA{constructor(e,i,a){this.l=e,this.h=i,this.P=a,this.type="FirstParty",this.user=Ge.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class yA{constructor(e,i,a){this.l=e,this.h=i,this.P=a}getToken(){return Promise.resolve(new pA(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(Ge.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ly{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _A{constructor(e,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,ZT(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,i){qt(this.o===void 0);const a=h=>{h.error!=null&&nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.R;return this.R=h.token,nt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>a(h))};const u=h=>{nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(h=>u(h)),setTimeout(()=>{if(!this.appCheck){const h=this.A.getImmediate({optional:!0});h?u(h):nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new ly(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(qt(typeof i.token=="string"),this.R=i.token,new ly(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const u=vA(40);for(let h=0;h<u.length;++h)a.length<20&&u[h]<i&&(a+=e.charAt(u[h]%62))}return a}}function Ct(s,e){return s<e?-1:s>e?1:0}function ps(s,e,i){return s.length===e.length&&s.every((a,u)=>i(a,e[u]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uy=-62135596800,oy=1e6;class Se{static now(){return Se.fromMillis(Date.now())}static fromDate(e){return Se.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*oy);return new Se(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ut(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ut(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<uy)throw new ut(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ut(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/oy}_compareTo(e){return this.seconds===e.seconds?Ct(this.nanoseconds,e.nanoseconds):Ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-uy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{static fromTimestamp(e){return new mt(e)}static min(){return new mt(new Se(0,0))}static max(){return new mt(new Se(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cy="__name__";class Wn{constructor(e,i,a){i===void 0?i=0:i>e.length&&ft(),a===void 0?a=e.length-i:a>e.length-i&&ft(),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Wn.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Wn?e.forEach(a=>{i.push(a)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let u=0;u<a;u++){const h=Wn.compareSegments(e.get(u),i.get(u));if(h!==0)return h}return Math.sign(e.length-i.length)}static compareSegments(e,i){const a=Wn.isNumericId(e),u=Wn.isNumericId(i);return a&&!u?-1:!a&&u?1:a&&u?Wn.extractNumericId(e).compare(Wn.extractNumericId(i)):e<i?-1:e>i?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Tr.fromString(e.substring(4,e.length-2))}}class Xt extends Wn{construct(e,i,a){return new Xt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new ut(K.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(u=>u.length>0))}return new Xt(i)}static emptyPath(){return new Xt([])}}const EA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pe extends Wn{construct(e,i,a){return new Pe(e,i,a)}static isValidIdentifier(e){return EA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===cy}static keyField(){return new Pe([cy])}static fromServerFormat(e){const i=[];let a="",u=0;const h=()=>{if(a.length===0)throw new ut(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;u<e.length;){const g=e[u];if(g==="\\"){if(u+1===e.length)throw new ut(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[u+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ut(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=_,u+=2}else g==="`"?(d=!d,u++):g!=="."||d?(a+=g,u++):(h(),u++)}if(h(),d)throw new ut(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pe(i)}static emptyPath(){return new Pe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.path=e}static fromPath(e){return new ot(Xt.fromString(e))}static fromName(e){return new ot(Xt.fromString(e).popFirst(5))}static empty(){return new ot(Xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Xt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ot(new Xt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql=-1;function TA(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,u=mt.fromTimestamp(a===1e9?new Se(i+1,0):new Se(i,a));return new br(u,ot.empty(),e)}function AA(s){return new br(s.readTime,s.key,Ql)}class br{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new br(mt.min(),ot.empty(),Ql)}static max(){return new br(mt.max(),ot.empty(),Ql)}}function SA(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ot.comparator(s.documentKey,e.documentKey),i!==0?i:Ct(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class RA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rs(s){if(s.code!==K.FAILED_PRECONDITION||s.message!==bA)throw s;nt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&ft(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Q((a,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(a,u)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,u)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof Q?i:Q.resolve(i)}catch(i){return Q.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):Q.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):Q.reject(i)}static resolve(e){return new Q((i,a)=>{i(e)})}static reject(e){return new Q((i,a)=>{a(e)})}static waitFor(e){return new Q((i,a)=>{let u=0,h=0,d=!1;e.forEach(g=>{++u,g.next(()=>{++h,d&&h===u&&i()},_=>a(_))}),d=!0,h===u&&i()})}static or(e){let i=Q.resolve(!1);for(const a of e)i=i.next(u=>u?Q.resolve(u):a());return i}static forEach(e,i){const a=[];return e.forEach((u,h)=>{a.push(i.call(this,u,h))}),this.waitFor(a)}static mapArray(e,i){return new Q((a,u)=>{const h=e.length,d=new Array(h);let g=0;for(let _=0;_<h;_++){const v=_;i(e[v]).next(S=>{d[v]=S,++g,g===h&&a(d)},S=>u(S))}})}static doWhile(e,i){return new Q((a,u)=>{const h=()=>{e()===!0?i().next(()=>{h()},u):a()};h()})}}function wA(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ws(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.oe(a),this._e=a=>i.writeSequenceNumber(a))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Jo.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nd=-1;function Wo(s){return s==null}function ko(s){return s===0&&1/s==-1/0}function DA(s){return typeof s=="number"&&Number.isInteger(s)&&!ko(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_="";function CA(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=hy(e)),e=VA(s.get(i),e);return hy(e)}function VA(s,e){let i=e;const a=s.length;for(let u=0;u<a;u++){const h=s.charAt(u);switch(h){case"\0":i+="";break;case A_:i+="";break;default:i+=h}}return i}function hy(s){return s+A_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fy(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Or(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function S_(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,i){this.comparator=e,this.root=i||Le.EMPTY}insert(e,i){return new Wt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Le.BLACK,null,null))}remove(e){return new Wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Le.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const u=this.comparator(e,a.key);if(u===0)return i+a.left.size;u<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,a)=>(e(i,a),!1))}toString(){const e=[];return this.inorderTraversal((i,a)=>(e.push(`${i}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bo(this.root,e,this.comparator,!1)}getReverseIterator(){return new bo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bo(this.root,e,this.comparator,!0)}}class bo{constructor(e,i,a,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?a(e.key,i):1,i&&u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Le{constructor(e,i,a,u,h){this.key=e,this.value=i,this.color=a??Le.RED,this.left=u??Le.EMPTY,this.right=h??Le.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,u,h){return new Le(e??this.key,i??this.value,a??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let u=this;const h=a(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,i,a),null):h===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,a)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Le.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,u=this;if(i(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(e,u.key)===0){if(u.right.isEmpty())return Le.EMPTY;a=u.right.min(),u=u.copy(a.key,a.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Le.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Le.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ft();const e=this.left.check();if(e!==this.right.check())throw ft();return e+(this.isRed()?0:1)}}Le.EMPTY=null,Le.RED=!0,Le.BLACK=!1;Le.EMPTY=new class{constructor(){this.size=0}get key(){throw ft()}get value(){throw ft()}get color(){throw ft()}get left(){throw ft()}get right(){throw ft()}copy(e,i,a,u,h){return this}insert(e,i,a){return new Le(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.comparator=e,this.data=new Wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,a)=>(e(i),!1))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const u=a.getNext();if(this.comparator(u.key,e[1])>=0)return;i(u.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new dy(this.data.getIterator())}getIteratorFrom(e){return new dy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(a=>{i=i.add(a)}),i}isEqual(e){if(!(e instanceof be)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=a.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new be(this.comparator);return i.data=e,i}}class dy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.fields=e,e.sort(Pe.comparator)}static empty(){return new hn([])}unionWith(e){let i=new be(Pe.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new hn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return ps(this.fields,e.fields,(i,a)=>i.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new b_("Invalid base64 string: "+h):h}}(e);return new Be(i)}static fromUint8Array(e){const i=function(u){let h="";for(let d=0;d<u.length;++d)h+=String.fromCharCode(u[d]);return h}(e);return new Be(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let u=0;u<i.length;u++)a[u]=i.charCodeAt(u);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Be.EMPTY_BYTE_STRING=new Be("");const OA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rr(s){if(qt(!!s),typeof s=="string"){let e=0;const i=OA.exec(s);if(qt(!!i),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),e=Number(u)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:ue(s.seconds),nanos:ue(s.nanos)}}function ue(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function wr(s){return typeof s=="string"?Be.fromBase64String(s):Be.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_="server_timestamp",w_="__type__",D_="__previous_value__",C_="__local_write_time__";function id(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[w_])===null||i===void 0?void 0:i.stringValue)===R_}function tc(s){const e=s.mapValue.fields[D_];return id(e)?tc(e):e}function Fl(s){const e=Rr(s.mapValue.fields[C_].timestampValue);return new Se(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e,i,a,u,h,d,g,_,v){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=u,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=v}}const qo="(default)";class Kl{constructor(e,i){this.projectId=e,this.database=i||qo}static empty(){return new Kl("","")}get isDefaultDatabase(){return this.database===qo}isEqual(e){return e instanceof Kl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_="__type__",NA="__max__",Ro={mapValue:{}},O_="__vector__",Ho="value";function Dr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?id(s)?4:xA(s)?9007199254740991:MA(s)?10:11:ft()}function ni(s,e){if(s===e)return!0;const i=Dr(s);if(i!==Dr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Fl(s).isEqual(Fl(e));case 3:return function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const d=Rr(u.timestampValue),g=Rr(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(u,h){return wr(u.bytesValue).isEqual(wr(h.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(u,h){return ue(u.geoPointValue.latitude)===ue(h.geoPointValue.latitude)&&ue(u.geoPointValue.longitude)===ue(h.geoPointValue.longitude)}(s,e);case 2:return function(u,h){if("integerValue"in u&&"integerValue"in h)return ue(u.integerValue)===ue(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const d=ue(u.doubleValue),g=ue(h.doubleValue);return d===g?ko(d)===ko(g):isNaN(d)&&isNaN(g)}return!1}(s,e);case 9:return ps(s.arrayValue.values||[],e.arrayValue.values||[],ni);case 10:case 11:return function(u,h){const d=u.mapValue.fields||{},g=h.mapValue.fields||{};if(fy(d)!==fy(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!ni(d[_],g[_])))return!1;return!0}(s,e);default:return ft()}}function Yl(s,e){return(s.values||[]).find(i=>ni(i,e))!==void 0}function ys(s,e){if(s===e)return 0;const i=Dr(s),a=Dr(e);if(i!==a)return Ct(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ct(s.booleanValue,e.booleanValue);case 2:return function(h,d){const g=ue(h.integerValue||h.doubleValue),_=ue(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1}(s,e);case 3:return my(s.timestampValue,e.timestampValue);case 4:return my(Fl(s),Fl(e));case 5:return Ct(s.stringValue,e.stringValue);case 6:return function(h,d){const g=wr(h),_=wr(d);return g.compareTo(_)}(s.bytesValue,e.bytesValue);case 7:return function(h,d){const g=h.split("/"),_=d.split("/");for(let v=0;v<g.length&&v<_.length;v++){const S=Ct(g[v],_[v]);if(S!==0)return S}return Ct(g.length,_.length)}(s.referenceValue,e.referenceValue);case 8:return function(h,d){const g=Ct(ue(h.latitude),ue(d.latitude));return g!==0?g:Ct(ue(h.longitude),ue(d.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return gy(s.arrayValue,e.arrayValue);case 10:return function(h,d){var g,_,v,S;const V=h.fields||{},P=d.fields||{},j=(g=V[Ho])===null||g===void 0?void 0:g.arrayValue,Z=(_=P[Ho])===null||_===void 0?void 0:_.arrayValue,W=Ct(((v=j==null?void 0:j.values)===null||v===void 0?void 0:v.length)||0,((S=Z==null?void 0:Z.values)===null||S===void 0?void 0:S.length)||0);return W!==0?W:gy(j,Z)}(s.mapValue,e.mapValue);case 11:return function(h,d){if(h===Ro.mapValue&&d===Ro.mapValue)return 0;if(h===Ro.mapValue)return 1;if(d===Ro.mapValue)return-1;const g=h.fields||{},_=Object.keys(g),v=d.fields||{},S=Object.keys(v);_.sort(),S.sort();for(let V=0;V<_.length&&V<S.length;++V){const P=Ct(_[V],S[V]);if(P!==0)return P;const j=ys(g[_[V]],v[S[V]]);if(j!==0)return j}return Ct(_.length,S.length)}(s.mapValue,e.mapValue);default:throw ft()}}function my(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Ct(s,e);const i=Rr(s),a=Rr(e),u=Ct(i.seconds,a.seconds);return u!==0?u:Ct(i.nanos,a.nanos)}function gy(s,e){const i=s.values||[],a=e.values||[];for(let u=0;u<i.length&&u<a.length;++u){const h=ys(i[u],a[u]);if(h)return h}return Ct(i.length,a.length)}function _s(s){return Uf(s)}function Uf(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(i){const a=Rr(i);return`time(${a.seconds},${a.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(i){return wr(i).toBase64()}(s.bytesValue):"referenceValue"in s?function(i){return ot.fromName(i).toString()}(s.referenceValue):"geoPointValue"in s?function(i){return`geo(${i.latitude},${i.longitude})`}(s.geoPointValue):"arrayValue"in s?function(i){let a="[",u=!0;for(const h of i.values||[])u?u=!1:a+=",",a+=Uf(h);return a+"]"}(s.arrayValue):"mapValue"in s?function(i){const a=Object.keys(i.fields||{}).sort();let u="{",h=!0;for(const d of a)h?h=!1:u+=",",u+=`${d}:${Uf(i.fields[d])}`;return u+"}"}(s.mapValue):ft()}function Oo(s){switch(Dr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=tc(s);return e?16+Oo(e):16;case 5:return 2*s.stringValue.length;case 6:return wr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((u,h)=>u+Oo(h),0)}(s.arrayValue);case 10:case 11:return function(a){let u=0;return Or(a.fields,(h,d)=>{u+=h.length+Oo(d)}),u}(s.mapValue);default:throw ft()}}function zf(s){return!!s&&"integerValue"in s}function rd(s){return!!s&&"arrayValue"in s}function py(s){return!!s&&"nullValue"in s}function yy(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Io(s){return!!s&&"mapValue"in s}function MA(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[V_])===null||i===void 0?void 0:i.stringValue)===O_}function Bl(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return Or(s.mapValue.fields,(i,a)=>e.mapValue.fields[i]=Bl(a)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Bl(s.arrayValue.values[i]);return e}return Object.assign({},s)}function xA(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===NA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.value=e}static empty(){return new nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Io(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bl(i)}setAll(e){let i=Pe.emptyPath(),a={},u=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,a,u),a={},u=[],i=g.popLast()}d?a[g.lastSegment()]=Bl(d):u.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,a,u)}delete(e){const i=this.field(e.popLast());Io(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ni(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let u=i.mapValue.fields[e.get(a)];Io(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=u),i=u}return i.mapValue.fields}applyChanges(e,i,a){Or(i,(u,h)=>e[u]=h);for(const u of a)delete e[u]}clone(){return new nn(Bl(this.value))}}function I_(s){const e=[];return Or(s.fields,(i,a)=>{const u=new Pe([i]);if(Io(a)){const h=I_(a.mapValue).fields;if(h.length===0)e.push(u);else for(const d of h)e.push(u.child(d))}else e.push(u)}),new hn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,i,a,u,h,d,g){this.key=e,this.documentType=i,this.version=a,this.readTime=u,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Qe(e,0,mt.min(),mt.min(),mt.min(),nn.empty(),0)}static newFoundDocument(e,i,a,u){return new Qe(e,1,i,mt.min(),a,u,0)}static newNoDocument(e,i){return new Qe(e,2,i,mt.min(),mt.min(),nn.empty(),0)}static newUnknownDocument(e,i){return new Qe(e,3,i,mt.min(),mt.min(),nn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(mt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=mt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,i){this.position=e,this.inclusive=i}}function _y(s,e,i){let a=0;for(let u=0;u<s.position.length;u++){const h=e[u],d=s.position[u];if(h.field.isKeyField()?a=ot.comparator(ot.fromName(d.referenceValue),i.key):a=ys(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function vy(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!ni(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e,i="asc"){this.field=e,this.dir=i}}function UA(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{}class Ae extends N_{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new LA(e,i,a):i==="array-contains"?new kA(e,a):i==="in"?new qA(e,a):i==="not-in"?new HA(e,a):i==="array-contains-any"?new jA(e,a):new Ae(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new PA(e,a):new BA(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(ys(i,this.value)):i!==null&&Dr(this.value)===Dr(i)&&this.matchesComparison(ys(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ft()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ii extends N_{constructor(e,i){super(),this.filters=e,this.op=i,this.ce=null}static create(e,i){return new ii(e,i)}matches(e){return M_(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function M_(s){return s.op==="and"}function x_(s){return zA(s)&&M_(s)}function zA(s){for(const e of s.filters)if(e instanceof ii)return!1;return!0}function Lf(s){if(s instanceof Ae)return s.field.canonicalString()+s.op.toString()+_s(s.value);if(x_(s))return s.filters.map(e=>Lf(e)).join(",");{const e=s.filters.map(i=>Lf(i)).join(",");return`${s.op}(${e})`}}function U_(s,e){return s instanceof Ae?function(a,u){return u instanceof Ae&&a.op===u.op&&a.field.isEqual(u.field)&&ni(a.value,u.value)}(s,e):s instanceof ii?function(a,u){return u instanceof ii&&a.op===u.op&&a.filters.length===u.filters.length?a.filters.reduce((h,d,g)=>h&&U_(d,u.filters[g]),!0):!1}(s,e):void ft()}function z_(s){return s instanceof Ae?function(i){return`${i.field.canonicalString()} ${i.op} ${_s(i.value)}`}(s):s instanceof ii?function(i){return i.op.toString()+" {"+i.getFilters().map(z_).join(" ,")+"}"}(s):"Filter"}class LA extends Ae{constructor(e,i,a){super(e,i,a),this.key=ot.fromName(a.referenceValue)}matches(e){const i=ot.comparator(e.key,this.key);return this.matchesComparison(i)}}class PA extends Ae{constructor(e,i){super(e,"in",i),this.keys=L_("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class BA extends Ae{constructor(e,i){super(e,"not-in",i),this.keys=L_("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function L_(s,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(a=>ot.fromName(a.referenceValue))}class kA extends Ae{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return rd(i)&&Yl(i.arrayValue,this.value)}}class qA extends Ae{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Yl(this.value.arrayValue,i)}}class HA extends Ae{constructor(e,i){super(e,"not-in",i)}matches(e){if(Yl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!Yl(this.value.arrayValue,i)}}class jA extends Ae{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!rd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>Yl(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e,i=null,a=[],u=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=u,this.limit=h,this.startAt=d,this.endAt=g,this.le=null}}function Ey(s,e=null,i=[],a=[],u=null,h=null,d=null){return new GA(s,e,i,a,u,h,d)}function ad(s){const e=pt(s);if(e.le===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(a=>Lf(a)).join(","),i+="|ob:",i+=e.orderBy.map(a=>function(h){return h.field.canonicalString()+h.dir}(a)).join(","),Wo(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(a=>_s(a)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(a=>_s(a)).join(",")),e.le=i}return e.le}function sd(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!UA(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!U_(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!vy(s.startAt,e.startAt)&&vy(s.endAt,e.endAt)}function Pf(s){return ot.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,i=null,a=[],u=[],h=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=u,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=_,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function QA(s,e,i,a,u,h,d,g){return new ec(s,e,i,a,u,h,d,g)}function ld(s){return new ec(s)}function Ty(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function FA(s){return s.collectionGroup!==null}function kl(s){const e=pt(s);if(e.he===null){e.he=[];const i=new Set;for(const h of e.explicitOrderBy)e.he.push(h),i.add(h.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new be(Pe.comparator);return d.filters.forEach(_=>{_.getFlattenedFilters().forEach(v=>{v.isInequality()&&(g=g.add(v.field))})}),g})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.he.push(new Go(h,a))}),i.has(Pe.keyField().canonicalString())||e.he.push(new Go(Pe.keyField(),a))}return e.he}function ti(s){const e=pt(s);return e.Pe||(e.Pe=KA(e,kl(s))),e.Pe}function KA(s,e){if(s.limitType==="F")return Ey(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(u=>{const h=u.dir==="desc"?"asc":"desc";return new Go(u.field,h)});const i=s.endAt?new jo(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new jo(s.startAt.position,s.startAt.inclusive):null;return Ey(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function Bf(s,e,i){return new ec(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function nc(s,e){return sd(ti(s),ti(e))&&s.limitType===e.limitType}function P_(s){return`${ad(ti(s))}|lt:${s.limitType}`}function os(s){return`Query(target=${function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(u=>z_(u)).join(", ")}]`),Wo(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(u=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(u)).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(u=>_s(u)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(u=>_s(u)).join(",")),`Target(${a})`}(ti(s))}; limitType=${s.limitType})`}function ic(s,e){return e.isFoundDocument()&&function(a,u){const h=u.key.path;return a.collectionGroup!==null?u.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):ot.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)}(s,e)&&function(a,u){for(const h of kl(a))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0}(s,e)&&function(a,u){for(const h of a.filters)if(!h.matches(u))return!1;return!0}(s,e)&&function(a,u){return!(a.startAt&&!function(d,g,_){const v=_y(d,g,_);return d.inclusive?v<=0:v<0}(a.startAt,kl(a),u)||a.endAt&&!function(d,g,_){const v=_y(d,g,_);return d.inclusive?v>=0:v>0}(a.endAt,kl(a),u))}(s,e)}function YA(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function B_(s){return(e,i)=>{let a=!1;for(const u of kl(s)){const h=XA(u,e,i);if(h!==0)return h;a=a||u.field.isKeyField()}return 0}}function XA(s,e,i){const a=s.field.isKeyField()?ot.comparator(e.key,i.key):function(h,d,g){const _=d.data.field(h),v=g.data.field(h);return _!==null&&v!==null?ys(_,v):ft()}(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return ft()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[u,h]of a)if(this.equalsFn(u,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),u=this.inner[a];if(u===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,i]);u.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return a.length===1?delete this.inner[i]:a.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Or(this.inner,(i,a)=>{for(const[u,h]of a)e(u,h)})}isEmpty(){return S_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA=new Wt(ot.comparator);function xi(){return ZA}const k_=new Wt(ot.comparator);function zl(...s){let e=k_;for(const i of s)e=e.insert(i.key,i);return e}function q_(s){let e=k_;return s.forEach((i,a)=>e=e.insert(i,a.overlayedDocument)),e}function ha(){return ql()}function H_(){return ql()}function ql(){return new pa(s=>s.toString(),(s,e)=>s.isEqual(e))}const $A=new Wt(ot.comparator),JA=new be(ot.comparator);function wt(...s){let e=JA;for(const i of s)e=e.add(i);return e}const WA=new be(Ct);function t1(){return WA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ud(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ko(e)?"-0":e}}function j_(s){return{integerValue:""+s}}function e1(s,e){return DA(e)?j_(e):ud(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(){this._=void 0}}function n1(s,e,i){return s instanceof Qo?function(u,h){const d={fields:{[w_]:{stringValue:R_},[C_]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&id(h)&&(h=tc(h)),h&&(d.fields[D_]=h),{mapValue:d}}(i,e):s instanceof Xl?Q_(s,e):s instanceof Zl?F_(s,e):function(u,h){const d=G_(u,h),g=Ay(d)+Ay(u.Ie);return zf(d)&&zf(u.Ie)?j_(g):ud(u.serializer,g)}(s,e)}function i1(s,e,i){return s instanceof Xl?Q_(s,e):s instanceof Zl?F_(s,e):i}function G_(s,e){return s instanceof Fo?function(a){return zf(a)||function(h){return!!h&&"doubleValue"in h}(a)}(e)?e:{integerValue:0}:null}class Qo extends rc{}class Xl extends rc{constructor(e){super(),this.elements=e}}function Q_(s,e){const i=K_(e);for(const a of s.elements)i.some(u=>ni(u,a))||i.push(a);return{arrayValue:{values:i}}}class Zl extends rc{constructor(e){super(),this.elements=e}}function F_(s,e){let i=K_(e);for(const a of s.elements)i=i.filter(u=>!ni(u,a));return{arrayValue:{values:i}}}class Fo extends rc{constructor(e,i){super(),this.serializer=e,this.Ie=i}}function Ay(s){return ue(s.integerValue||s.doubleValue)}function K_(s){return rd(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function r1(s,e){return s.field.isEqual(e.field)&&function(a,u){return a instanceof Xl&&u instanceof Xl||a instanceof Zl&&u instanceof Zl?ps(a.elements,u.elements,ni):a instanceof Fo&&u instanceof Fo?ni(a.Ie,u.Ie):a instanceof Qo&&u instanceof Qo}(s.transform,e.transform)}class a1{constructor(e,i){this.version=e,this.transformResults=i}}class zn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new zn}static exists(e){return new zn(void 0,e)}static updateTime(e){return new zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function No(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class ac{}function Y_(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new od(s.key,zn.none()):new $l(s.key,s.data,zn.none());{const i=s.data,a=nn.empty();let u=new be(Pe.comparator);for(let h of e.fields)if(!u.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),u=u.add(h)}return new Ir(s.key,a,new hn(u.toArray()),zn.none())}}function s1(s,e,i){s instanceof $l?function(u,h,d){const g=u.value.clone(),_=by(u.fieldTransforms,h,d.transformResults);g.setAll(_),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(s,e,i):s instanceof Ir?function(u,h,d){if(!No(u.precondition,h))return void h.convertToUnknownDocument(d.version);const g=by(u.fieldTransforms,h,d.transformResults),_=h.data;_.setAll(X_(u)),_.setAll(g),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(s,e,i):function(u,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function Hl(s,e,i,a){return s instanceof $l?function(h,d,g,_){if(!No(h.precondition,d))return g;const v=h.value.clone(),S=Ry(h.fieldTransforms,_,d);return v.setAll(S),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(s,e,i,a):s instanceof Ir?function(h,d,g,_){if(!No(h.precondition,d))return g;const v=Ry(h.fieldTransforms,_,d),S=d.data;return S.setAll(X_(h)),S.setAll(v),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(V=>V.field))}(s,e,i,a):function(h,d,g){return No(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(s,e,i)}function l1(s,e){let i=null;for(const a of s.fieldTransforms){const u=e.data.field(a.field),h=G_(a.transform,u||null);h!=null&&(i===null&&(i=nn.empty()),i.set(a.field,h))}return i||null}function Sy(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(a,u){return a===void 0&&u===void 0||!(!a||!u)&&ps(a,u,(h,d)=>r1(h,d))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class $l extends ac{constructor(e,i,a,u=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Ir extends ac{constructor(e,i,a,u,h=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function X_(s){const e=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}}),e}function by(s,e,i){const a=new Map;qt(s.length===i.length);for(let u=0;u<i.length;u++){const h=s[u],d=h.transform,g=e.data.field(h.field);a.set(h.field,i1(d,g,i[u]))}return a}function Ry(s,e,i){const a=new Map;for(const u of s){const h=u.transform,d=i.data.field(u.field);a.set(u.field,n1(h,d,e))}return a}class od extends ac{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class u1 extends ac{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e,i,a,u){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=u}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&s1(h,e,a[u])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Hl(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Hl(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=H_();return this.mutations.forEach(u=>{const h=e.get(u.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(u.key)?null:g;const _=Y_(d,g);_!==null&&a.set(u.key,_),d.isValidDocument()||d.convertToNoDocument(mt.min())}),a}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),wt())}isEqual(e){return this.batchId===e.batchId&&ps(this.mutations,e.mutations,(i,a)=>Sy(i,a))&&ps(this.baseMutations,e.baseMutations,(i,a)=>Sy(i,a))}}class cd{constructor(e,i,a,u){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=u}static from(e,i,a){qt(e.mutations.length===a.length);let u=function(){return $A}();const h=e.mutations;for(let d=0;d<h.length;d++)u=u.insert(h[d].key,a[d].version);return new cd(e,i,a,u)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var me,Nt;function f1(s){switch(s){case K.OK:return ft();case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return ft()}}function Z_(s){if(s===void 0)return Mi("GRPC error has no .code"),K.UNKNOWN;switch(s){case me.OK:return K.OK;case me.CANCELLED:return K.CANCELLED;case me.UNKNOWN:return K.UNKNOWN;case me.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case me.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case me.INTERNAL:return K.INTERNAL;case me.UNAVAILABLE:return K.UNAVAILABLE;case me.UNAUTHENTICATED:return K.UNAUTHENTICATED;case me.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case me.NOT_FOUND:return K.NOT_FOUND;case me.ALREADY_EXISTS:return K.ALREADY_EXISTS;case me.PERMISSION_DENIED:return K.PERMISSION_DENIED;case me.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case me.ABORTED:return K.ABORTED;case me.OUT_OF_RANGE:return K.OUT_OF_RANGE;case me.UNIMPLEMENTED:return K.UNIMPLEMENTED;case me.DATA_LOSS:return K.DATA_LOSS;default:return ft()}}(Nt=me||(me={}))[Nt.OK=0]="OK",Nt[Nt.CANCELLED=1]="CANCELLED",Nt[Nt.UNKNOWN=2]="UNKNOWN",Nt[Nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Nt[Nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Nt[Nt.NOT_FOUND=5]="NOT_FOUND",Nt[Nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Nt[Nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Nt[Nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Nt[Nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Nt[Nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Nt[Nt.ABORTED=10]="ABORTED",Nt[Nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Nt[Nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Nt[Nt.INTERNAL=13]="INTERNAL",Nt[Nt.UNAVAILABLE=14]="UNAVAILABLE",Nt[Nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1=new Tr([4294967295,4294967295],0);function wy(s){const e=d1().encode(s),i=new m_;return i.update(e),new Uint8Array(i.digest())}function Dy(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),u=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Tr([i,a],0),new Tr([u,h],0)]}class hd{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Ll(`Invalid padding: ${i}`);if(a<0)throw new Ll(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Ll(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Ll(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*e.length-i,this.de=Tr.fromNumber(this.Ee)}Ae(e,i,a){let u=e.add(i.multiply(Tr.fromNumber(a)));return u.compare(m1)===1&&(u=new Tr([u.getBits(0),u.getBits(1)],0)),u.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const i=wy(e),[a,u]=Dy(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(a,u,h);if(!this.Re(d))return!1}return!0}static create(e,i,a){const u=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new hd(h,u,i);return a.forEach(g=>d.insert(g)),d}insert(e){if(this.Ee===0)return;const i=wy(e),[a,u]=Dy(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(a,u,h);this.Ve(d)}}Ve(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Ll extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,i,a,u,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const u=new Map;return u.set(e,Jl.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new sc(mt.min(),u,new Wt(Ct),xi(),wt())}}class Jl{constructor(e,i,a,u,h){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new Jl(a,i,wt(),wt(),wt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,i,a,u){this.me=e,this.removedTargetIds=i,this.key=a,this.fe=u}}class $_{constructor(e,i){this.targetId=e,this.ge=i}}class J_{constructor(e,i,a=Be.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=u}}class Cy{constructor(){this.pe=0,this.ye=Vy(),this.we=Be.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=wt(),i=wt(),a=wt();return this.ye.forEach((u,h)=>{switch(h){case 0:e=e.add(u);break;case 2:i=i.add(u);break;case 1:a=a.add(u);break;default:ft()}}),new Jl(this.we,this.Se,e,i,a)}Me(){this.be=!1,this.ye=Vy()}xe(e,i){this.be=!0,this.ye=this.ye.insert(e,i)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,qt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class g1{constructor(e){this.ke=e,this.qe=new Map,this.Qe=xi(),this.$e=wo(),this.Ke=wo(),this.Ue=new Wt(Ct)}We(e){for(const i of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(i,e.fe):this.ze(i,e.key,e.fe);for(const i of e.removedTargetIds)this.ze(i,e.key,e.fe)}je(e){this.forEachTarget(e,i=>{const a=this.He(i);switch(e.state){case 0:this.Je(i)&&a.Ce(e.resumeToken);break;case 1:a.Be(),a.De||a.Me(),a.Ce(e.resumeToken);break;case 2:a.Be(),a.De||this.removeTarget(i);break;case 3:this.Je(i)&&(a.Le(),a.Ce(e.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),a.Ce(e.resumeToken));break;default:ft()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.qe.forEach((a,u)=>{this.Je(u)&&i(u)})}Ze(e){const i=e.targetId,a=e.ge.count,u=this.Xe(i);if(u){const h=u.target;if(Pf(h))if(a===0){const d=new ot(h.path);this.ze(i,d,Qe.newNoDocument(d,mt.min()))}else qt(a===1);else{const d=this.et(i);if(d!==a){const g=this.tt(e),_=g?this.nt(g,e,d):1;if(_!==0){this.Ye(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(i,v)}}}}}tt(e){const i=e.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:u=0},hashCount:h=0}=i;let d,g;try{d=wr(a).toUint8Array()}catch(_){if(_ instanceof b_)return gs("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new hd(d,u,h)}catch(_){return gs(_ instanceof Ll?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.Ee===0?null:g}nt(e,i,a){return i.ge.count===a-this.st(e,i.targetId)?0:2}st(e,i){const a=this.ke.getRemoteKeysForTarget(i);let u=0;return a.forEach(h=>{const d=this.ke.it(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.ze(i,h,null),u++)}),u}ot(e){const i=new Map;this.qe.forEach((h,d)=>{const g=this.Xe(d);if(g){if(h.current&&Pf(g.target)){const _=new ot(g.target.path);this._t(_).has(d)||this.ut(d,_)||this.ze(d,_,Qe.newNoDocument(_,e))}h.ve&&(i.set(d,h.Fe()),h.Me())}});let a=wt();this.Ke.forEach((h,d)=>{let g=!0;d.forEachWhile(_=>{const v=this.Xe(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(a=a.add(h))}),this.Qe.forEach((h,d)=>d.setReadTime(e));const u=new sc(e,i,this.Ue,this.Qe,a);return this.Qe=xi(),this.$e=wo(),this.Ke=wo(),this.Ue=new Wt(Ct),u}Ge(e,i){if(!this.Je(e))return;const a=this.ut(e,i.key)?2:0;this.He(e).xe(i.key,a),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(e)),this.Ke=this.Ke.insert(i.key,this.ct(i.key).add(e))}ze(e,i,a){if(!this.Je(e))return;const u=this.He(e);this.ut(e,i)?u.xe(i,1):u.Oe(i),this.Ke=this.Ke.insert(i,this.ct(i).delete(e)),this.Ke=this.Ke.insert(i,this.ct(i).add(e)),a&&(this.Qe=this.Qe.insert(i,a))}removeTarget(e){this.qe.delete(e)}et(e){const i=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let i=this.qe.get(e);return i||(i=new Cy,this.qe.set(e,i)),i}ct(e){let i=this.Ke.get(e);return i||(i=new be(Ct),this.Ke=this.Ke.insert(e,i)),i}_t(e){let i=this.$e.get(e);return i||(i=new be(Ct),this.$e=this.$e.insert(e,i)),i}Je(e){const i=this.Xe(e)!==null;return i||nt("WatchChangeAggregator","Detected inactive target",e),i}Xe(e){const i=this.qe.get(e);return i&&i.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Cy),this.ke.getRemoteKeysForTarget(e).forEach(i=>{this.ze(e,i,null)})}ut(e,i){return this.ke.getRemoteKeysForTarget(e).has(i)}}function wo(){return new Wt(ot.comparator)}function Vy(){return new Wt(ot.comparator)}const p1={asc:"ASCENDING",desc:"DESCENDING"},y1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_1={and:"AND",or:"OR"};class v1{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function kf(s,e){return s.useProto3Json||Wo(e)?e:{value:e}}function Ko(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function W_(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function E1(s,e){return Ko(s,e.toTimestamp())}function ei(s){return qt(!!s),mt.fromTimestamp(function(i){const a=Rr(i);return new Se(a.seconds,a.nanos)}(s))}function fd(s,e){return qf(s,e).canonicalString()}function qf(s,e){const i=function(u){return new Xt(["projects",u.projectId,"databases",u.database])}(s).child("documents");return e===void 0?i:i.child(e)}function tv(s){const e=Xt.fromString(s);return qt(av(e)),e}function Hf(s,e){return fd(s.databaseId,e.path)}function bf(s,e){const i=tv(e);if(i.get(1)!==s.databaseId.projectId)throw new ut(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ut(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ot(nv(i))}function ev(s,e){return fd(s.databaseId,e)}function T1(s){const e=tv(s);return e.length===4?Xt.emptyPath():nv(e)}function jf(s){return new Xt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function nv(s){return qt(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function Oy(s,e,i){return{name:Hf(s,e),fields:i.value.mapValue.fields}}function A1(s,e){let i;if("targetChange"in e){e.targetChange;const a=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:ft()}(e.targetChange.targetChangeType||"NO_CHANGE"),u=e.targetChange.targetIds||[],h=function(v,S){return v.useProto3Json?(qt(S===void 0||typeof S=="string"),Be.fromBase64String(S||"")):(qt(S===void 0||S instanceof Buffer||S instanceof Uint8Array),Be.fromUint8Array(S||new Uint8Array))}(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(v){const S=v.code===void 0?K.UNKNOWN:Z_(v.code);return new ut(S,v.message||"")}(d);i=new J_(a,u,h,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const u=bf(s,a.document.name),h=ei(a.document.updateTime),d=a.document.createTime?ei(a.document.createTime):mt.min(),g=new nn({mapValue:{fields:a.document.fields}}),_=Qe.newFoundDocument(u,h,d,g),v=a.targetIds||[],S=a.removedTargetIds||[];i=new Mo(v,S,_.key,_)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const u=bf(s,a.document),h=a.readTime?ei(a.readTime):mt.min(),d=Qe.newNoDocument(u,h),g=a.removedTargetIds||[];i=new Mo([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const u=bf(s,a.document),h=a.removedTargetIds||[];i=new Mo([],h,u,null)}else{if(!("filter"in e))return ft();{e.filter;const a=e.filter;a.targetId;const{count:u=0,unchangedNames:h}=a,d=new h1(u,h),g=a.targetId;i=new $_(g,d)}}return i}function S1(s,e){let i;if(e instanceof $l)i={update:Oy(s,e.key,e.value)};else if(e instanceof od)i={delete:Hf(s,e.key)};else if(e instanceof Ir)i={update:Oy(s,e.key,e.data),updateMask:N1(e.fieldMask)};else{if(!(e instanceof u1))return ft();i={verify:Hf(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(a=>function(h,d){const g=d.transform;if(g instanceof Qo)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Xl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Zl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Fo)return{fieldPath:d.field.canonicalString(),increment:g.Ie};throw ft()}(0,a))),e.precondition.isNone||(i.currentDocument=function(u,h){return h.updateTime!==void 0?{updateTime:E1(u,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:ft()}(s,e.precondition)),i}function b1(s,e){return s&&s.length>0?(qt(e!==void 0),s.map(i=>function(u,h){let d=u.updateTime?ei(u.updateTime):ei(h);return d.isEqual(mt.min())&&(d=ei(h)),new a1(d,u.transformResults||[])}(i,e))):[]}function R1(s,e){return{documents:[ev(s,e.path)]}}function w1(s,e){const i={structuredQuery:{}},a=e.path;let u;e.collectionGroup!==null?(u=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=ev(s,u);const h=function(v){if(v.length!==0)return rv(ii.create(v,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(v){if(v.length!==0)return v.map(S=>function(P){return{field:cs(P.field),direction:V1(P.dir)}}(S))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=kf(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{ht:i,parent:u}}function D1(s){let e=T1(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let u=null;if(a>0){qt(a===1);const S=i.from[0];S.allDescendants?u=S.collectionId:e=e.child(S.collectionId)}let h=[];i.where&&(h=function(V){const P=iv(V);return P instanceof ii&&x_(P)?P.getFilters():[P]}(i.where));let d=[];i.orderBy&&(d=function(V){return V.map(P=>function(Z){return new Go(hs(Z.field),function(X){switch(X){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Z.direction))}(P))}(i.orderBy));let g=null;i.limit&&(g=function(V){let P;return P=typeof V=="object"?V.value:V,Wo(P)?null:P}(i.limit));let _=null;i.startAt&&(_=function(V){const P=!!V.before,j=V.values||[];return new jo(j,P)}(i.startAt));let v=null;return i.endAt&&(v=function(V){const P=!V.before,j=V.values||[];return new jo(j,P)}(i.endAt)),QA(e,u,d,h,g,"F",_,v)}function C1(s,e){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ft()}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function iv(s){return s.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=hs(i.unaryFilter.field);return Ae.create(a,"==",{doubleValue:NaN});case"IS_NULL":const u=hs(i.unaryFilter.field);return Ae.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=hs(i.unaryFilter.field);return Ae.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=hs(i.unaryFilter.field);return Ae.create(d,"!=",{nullValue:"NULL_VALUE"});default:return ft()}}(s):s.fieldFilter!==void 0?function(i){return Ae.create(hs(i.fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ft()}}(i.fieldFilter.op),i.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(i){return ii.create(i.compositeFilter.filters.map(a=>iv(a)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return ft()}}(i.compositeFilter.op))}(s):ft()}function V1(s){return p1[s]}function O1(s){return y1[s]}function I1(s){return _1[s]}function cs(s){return{fieldPath:s.canonicalString()}}function hs(s){return Pe.fromServerFormat(s.fieldPath)}function rv(s){return s instanceof Ae?function(i){if(i.op==="=="){if(yy(i.value))return{unaryFilter:{field:cs(i.field),op:"IS_NAN"}};if(py(i.value))return{unaryFilter:{field:cs(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(yy(i.value))return{unaryFilter:{field:cs(i.field),op:"IS_NOT_NAN"}};if(py(i.value))return{unaryFilter:{field:cs(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cs(i.field),op:O1(i.op),value:i.value}}}(s):s instanceof ii?function(i){const a=i.getFilters().map(u=>rv(u));return a.length===1?a[0]:{compositeFilter:{op:I1(i.op),filters:a}}}(s):ft()}function N1(s){const e=[];return s.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function av(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e,i,a,u,h=mt.min(),d=mt.min(),g=Be.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new _r(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e){this.Tt=e}}function x1(s){const e=D1({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Bf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(){this.Tn=new z1}addToCollectionParentIndex(e,i){return this.Tn.add(i),Q.resolve()}getCollectionParents(e,i){return Q.resolve(this.Tn.getEntries(i))}addFieldIndex(e,i){return Q.resolve()}deleteFieldIndex(e,i){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,i){return Q.resolve()}getDocumentsMatchingTarget(e,i){return Q.resolve(null)}getIndexType(e,i){return Q.resolve(0)}getFieldIndexes(e,i){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,i){return Q.resolve(br.min())}getMinOffsetFromCollectionGroup(e,i){return Q.resolve(br.min())}updateCollectionGroup(e,i,a){return Q.resolve()}updateIndexEntries(e,i){return Q.resolve()}}class z1{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),u=this.index[i]||new be(Xt.comparator),h=!u.has(a);return this.index[i]=u.add(a),h}has(e){const i=e.lastSegment(),a=e.popLast(),u=this.index[i];return u&&u.has(a)}getEntries(e){return(this.index[e]||new be(Xt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sv=41943040;class en{static withCacheSize(e){return new en(e,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */en.DEFAULT_COLLECTION_PERCENTILE=10,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,en.DEFAULT=new en(sv,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),en.DISABLED=new en(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new vs(0)}static Un(){return new vs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny="LruGarbageCollector",L1=1048576;function My([s,e],[i,a]){const u=Ct(s,i);return u===0?Ct(e,a):u}class P1{constructor(e){this.Hn=e,this.buffer=new be(My),this.Jn=0}Yn(){return++this.Jn}Zn(e){const i=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();My(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class B1{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){nt(Ny,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ws(i)?nt(Ny,"Ignoring IndexedDB error during garbage collection: ",i):await Rs(i)}await this.er(3e5)})}}class k1{constructor(e,i){this.tr=e,this.params=i}calculateTargetCount(e,i){return this.tr.nr(e).next(a=>Math.floor(i/100*a))}nthSequenceNumber(e,i){if(i===0)return Q.resolve(Jo.ae);const a=new P1(i);return this.tr.forEachTarget(e,u=>a.Zn(u.sequenceNumber)).next(()=>this.tr.rr(e,u=>a.Zn(u))).next(()=>a.maxValue)}removeTargets(e,i,a){return this.tr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.tr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(nt("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(Iy)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Iy):this.ir(e,i))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,i){let a,u,h,d,g,_,v;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(V=>(V>this.params.maximumSequenceNumbersToCollect?(nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${V}`),u=this.params.maximumSequenceNumbersToCollect):u=V,d=Date.now(),this.nthSequenceNumber(e,u))).next(V=>(a=V,g=Date.now(),this.removeTargets(e,a,i))).next(V=>(h=V,_=Date.now(),this.removeOrphanedDocuments(e,a))).next(V=>(v=Date.now(),us()<=Mt.DEBUG&&nt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${u} in `+(g-d)+`ms
	Removed ${h} targets in `+(_-g)+`ms
	Removed ${V} documents in `+(v-_)+`ms
Total Duration: ${v-S}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:V})))}}function q1(s,e){return new k1(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(){this.changes=new pa(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Qe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Q.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e,i,a,u){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=u}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next(u=>(a=u,this.remoteDocumentCache.getEntry(e,i))).next(u=>(a!==null&&Hl(a.mutation,u,hn.empty(),Se.now()),u))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.getLocalViewOfDocuments(e,a,wt()).next(()=>a))}getLocalViewOfDocuments(e,i,a=wt()){const u=ha();return this.populateOverlays(e,u,i).next(()=>this.computeViews(e,i,u,a).next(h=>{let d=zl();return h.forEach((g,_)=>{d=d.insert(g,_.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const a=ha();return this.populateOverlays(e,a,i).next(()=>this.computeViews(e,i,a,wt()))}populateOverlays(e,i,a){const u=[];return a.forEach(h=>{i.has(h)||u.push(h)}),this.documentOverlayCache.getOverlays(e,u).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,a,u){let h=xi();const d=ql(),g=function(){return ql()}();return i.forEach((_,v)=>{const S=a.get(v.key);u.has(v.key)&&(S===void 0||S.mutation instanceof Ir)?h=h.insert(v.key,v):S!==void 0?(d.set(v.key,S.mutation.getFieldMask()),Hl(S.mutation,v,S.mutation.getFieldMask(),Se.now())):d.set(v.key,hn.empty())}),this.recalculateAndSaveOverlays(e,h).next(_=>(_.forEach((v,S)=>d.set(v,S)),i.forEach((v,S)=>{var V;return g.set(v,new j1(S,(V=d.get(v))!==null&&V!==void 0?V:null))}),g))}recalculateAndSaveOverlays(e,i){const a=ql();let u=new Wt((d,g)=>d-g),h=wt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(_=>{const v=i.get(_);if(v===null)return;let S=a.get(_)||hn.empty();S=g.applyToLocalView(v,S),a.set(_,S);const V=(u.get(g.batchId)||wt()).add(_);u=u.insert(g.batchId,V)})}).next(()=>{const d=[],g=u.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),v=_.key,S=_.value,V=H_();S.forEach(P=>{if(!h.has(P)){const j=Y_(i.get(P),a.get(P));j!==null&&V.set(P,j),h=h.add(P)}}),d.push(this.documentOverlayCache.saveOverlays(e,v,V))}return Q.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,i,a,u){return function(d){return ot.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):FA(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,u):this.getDocumentsMatchingCollectionQuery(e,i,a,u)}getNextDocuments(e,i,a,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,u).next(h=>{const d=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,u-h.size):Q.resolve(ha());let g=Ql,_=h;return d.next(v=>Q.forEach(v,(S,V)=>(g<V.largestBatchId&&(g=V.largestBatchId),h.get(S)?Q.resolve():this.remoteDocumentCache.getEntry(e,S).next(P=>{_=_.insert(S,P)}))).next(()=>this.populateOverlays(e,v,h)).next(()=>this.computeViews(e,_,v,wt())).next(S=>({batchId:g,changes:q_(S)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ot(i)).next(a=>{let u=zl();return a.isFoundDocument()&&(u=u.insert(a.key,a)),u})}getDocumentsMatchingCollectionGroupQuery(e,i,a,u){const h=i.collectionGroup;let d=zl();return this.indexManager.getCollectionParents(e,h).next(g=>Q.forEach(g,_=>{const v=function(V,P){return new ec(P,null,V.explicitOrderBy.slice(),V.filters.slice(),V.limit,V.limitType,V.startAt,V.endAt)}(i,_.child(h));return this.getDocumentsMatchingCollectionQuery(e,v,a,u).next(S=>{S.forEach((V,P)=>{d=d.insert(V,P)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,a,u){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,h,u))).next(d=>{h.forEach((_,v)=>{const S=v.getKey();d.get(S)===null&&(d=d.insert(S,Qe.newInvalidDocument(S)))});let g=zl();return d.forEach((_,v)=>{const S=h.get(_);S!==void 0&&Hl(S.mutation,v,hn.empty(),Se.now()),ic(i,v)&&(g=g.insert(_,v))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,i){return Q.resolve(this.dr.get(i))}saveBundleMetadata(e,i){return this.dr.set(i.id,function(u){return{id:u.id,version:u.version,createTime:ei(u.createTime)}}(i)),Q.resolve()}getNamedQuery(e,i){return Q.resolve(this.Ar.get(i))}saveNamedQuery(e,i){return this.Ar.set(i.name,function(u){return{name:u.name,query:x1(u.bundledQuery),readTime:ei(u.readTime)}}(i)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(){this.overlays=new Wt(ot.comparator),this.Rr=new Map}getOverlay(e,i){return Q.resolve(this.overlays.get(i))}getOverlays(e,i){const a=ha();return Q.forEach(i,u=>this.getOverlay(e,u).next(h=>{h!==null&&a.set(u,h)})).next(()=>a)}saveOverlays(e,i,a){return a.forEach((u,h)=>{this.Et(e,i,h)}),Q.resolve()}removeOverlaysForBatchId(e,i,a){const u=this.Rr.get(a);return u!==void 0&&(u.forEach(h=>this.overlays=this.overlays.remove(h)),this.Rr.delete(a)),Q.resolve()}getOverlaysForCollection(e,i,a){const u=ha(),h=i.length+1,d=new ot(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&_.largestBatchId>a&&u.set(_.getKey(),_)}return Q.resolve(u)}getOverlaysForCollectionGroup(e,i,a,u){let h=new Wt((v,S)=>v-S);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let S=h.get(v.largestBatchId);S===null&&(S=ha(),h=h.insert(v.largestBatchId,S)),S.set(v.getKey(),v)}}const g=ha(),_=h.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((v,S)=>g.set(v,S)),!(g.size()>=u)););return Q.resolve(g)}Et(e,i,a){const u=this.overlays.get(a.key);if(u!==null){const d=this.Rr.get(u.largestBatchId).delete(a.key);this.Rr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new c1(i,a));let h=this.Rr.get(i);h===void 0&&(h=wt(),this.Rr.set(i,h)),this.Rr.set(i,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(){this.sessionToken=Be.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(){this.Vr=new be(Ne.mr),this.gr=new be(Ne.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,i){const a=new Ne(e,i);this.Vr=this.Vr.add(a),this.gr=this.gr.add(a)}yr(e,i){e.forEach(a=>this.addReference(a,i))}removeReference(e,i){this.wr(new Ne(e,i))}Sr(e,i){e.forEach(a=>this.removeReference(a,i))}br(e){const i=new ot(new Xt([])),a=new Ne(i,e),u=new Ne(i,e+1),h=[];return this.gr.forEachInRange([a,u],d=>{this.wr(d),h.push(d.key)}),h}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const i=new ot(new Xt([])),a=new Ne(i,e),u=new Ne(i,e+1);let h=wt();return this.gr.forEachInRange([a,u],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Ne(e,0),a=this.Vr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Ne{constructor(e,i){this.key=e,this.Cr=i}static mr(e,i){return ot.comparator(e.key,i.key)||Ct(e.Cr,i.Cr)}static pr(e,i){return Ct(e.Cr,i.Cr)||ot.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new be(Ne.mr)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,u){const h=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new o1(h,i,a,u);this.mutationQueue.push(d);for(const g of u)this.Mr=this.Mr.add(new Ne(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Q.resolve(d)}lookupMutationBatch(e,i){return Q.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,u=this.Nr(a),h=u<0?0:u;return Q.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?nd:this.Fr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Ne(i,0),u=new Ne(i,Number.POSITIVE_INFINITY),h=[];return this.Mr.forEachInRange([a,u],d=>{const g=this.Or(d.Cr);h.push(g)}),Q.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new be(Ct);return i.forEach(u=>{const h=new Ne(u,0),d=new Ne(u,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([h,d],g=>{a=a.add(g.Cr)})}),Q.resolve(this.Br(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,u=a.length+1;let h=a;ot.isDocumentKey(h)||(h=h.child(""));const d=new Ne(new ot(h),0);let g=new be(Ct);return this.Mr.forEachWhile(_=>{const v=_.key.path;return!!a.isPrefixOf(v)&&(v.length===u&&(g=g.add(_.Cr)),!0)},d),Q.resolve(this.Br(g))}Br(e){const i=[];return e.forEach(a=>{const u=this.Or(a);u!==null&&i.push(u)}),i}removeMutationBatch(e,i){qt(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let a=this.Mr;return Q.forEach(i.mutations,u=>{const h=new Ne(u.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Mr=a})}qn(e){}containsKey(e,i){const a=new Ne(i,0),u=this.Mr.firstAfterOrEqual(a);return Q.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Lr(e,i){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const i=this.Nr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e){this.kr=e,this.docs=function(){return new Wt(ot.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,u=this.docs.get(a),h=u?u.size:0,d=this.kr(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return Q.resolve(a?a.document.mutableCopy():Qe.newInvalidDocument(i))}getEntries(e,i){let a=xi();return i.forEach(u=>{const h=this.docs.get(u);a=a.insert(u,h?h.document.mutableCopy():Qe.newInvalidDocument(u))}),Q.resolve(a)}getDocumentsMatchingQuery(e,i,a,u){let h=xi();const d=i.path,g=new ot(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:v,value:{document:S}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||SA(AA(S),a)<=0||(u.has(S.key)||ic(i,S))&&(h=h.insert(S.key,S.mutableCopy()))}return Q.resolve(h)}getAllFromCollectionGroup(e,i,a,u){ft()}qr(e,i){return Q.forEach(this.docs,a=>i(a))}newChangeBuffer(e){return new Z1(this)}getSize(e){return Q.resolve(this.size)}}class Z1 extends H1{constructor(e){super(),this.Ir=e}applyChanges(e){const i=[];return this.changes.forEach((a,u)=>{u.isValidDocument()?i.push(this.Ir.addEntry(e,u)):this.Ir.removeEntry(a)}),Q.waitFor(i)}getFromCache(e,i){return this.Ir.getEntry(e,i)}getAllFromCache(e,i){return this.Ir.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e){this.persistence=e,this.Qr=new pa(i=>ad(i),sd),this.lastRemoteSnapshotVersion=mt.min(),this.highestTargetId=0,this.$r=0,this.Kr=new dd,this.targetCount=0,this.Ur=vs.Kn()}forEachTarget(e,i){return this.Qr.forEach((a,u)=>i(u)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.$r&&(this.$r=i),Q.resolve()}zn(e){this.Qr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Ur=new vs(i),this.highestTargetId=i),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,i){return this.zn(i),this.targetCount+=1,Q.resolve()}updateTargetData(e,i){return this.zn(i),Q.resolve()}removeTargetData(e,i){return this.Qr.delete(i.target),this.Kr.br(i.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,i,a){let u=0;const h=[];return this.Qr.forEach((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.Qr.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),u++)}),Q.waitFor(h).next(()=>u)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,i){const a=this.Qr.get(i)||null;return Q.resolve(a)}addMatchingKeys(e,i,a){return this.Kr.yr(i,a),Q.resolve()}removeMatchingKeys(e,i,a){this.Kr.Sr(i,a);const u=this.persistence.referenceDelegate,h=[];return u&&i.forEach(d=>{h.push(u.markPotentiallyOrphaned(e,d))}),Q.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.Kr.br(i),Q.resolve()}getMatchingKeysForTargetId(e,i){const a=this.Kr.vr(i);return Q.resolve(a)}containsKey(e,i){return Q.resolve(this.Kr.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(e,i){this.Wr={},this.overlays={},this.Gr=new Jo(0),this.zr=!1,this.zr=!0,this.jr=new K1,this.referenceDelegate=e(this),this.Hr=new $1(this),this.indexManager=new U1,this.remoteDocumentCache=function(u){return new X1(u)}(a=>this.referenceDelegate.Jr(a)),this.serializer=new M1(i),this.Yr=new Q1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new F1,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.Wr[e.toKey()];return a||(a=new Y1(i,this.referenceDelegate),this.Wr[e.toKey()]=a),a}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,i,a){nt("MemoryPersistence","Starting transaction:",e);const u=new J1(this.Gr.next());return this.referenceDelegate.Zr(),a(u).next(h=>this.referenceDelegate.Xr(u).next(()=>h)).toPromise().then(h=>(u.raiseOnCommittedEvent(),h))}ei(e,i){return Q.or(Object.values(this.Wr).map(a=>()=>a.containsKey(e,i)))}}class J1 extends RA{constructor(e){super(),this.currentSequenceNumber=e}}class md{constructor(e){this.persistence=e,this.ti=new dd,this.ni=null}static ri(e){return new md(e)}get ii(){if(this.ni)return this.ni;throw ft()}addReference(e,i,a){return this.ti.addReference(a,i),this.ii.delete(a.toString()),Q.resolve()}removeReference(e,i,a){return this.ti.removeReference(a,i),this.ii.add(a.toString()),Q.resolve()}markPotentiallyOrphaned(e,i){return this.ii.add(i.toString()),Q.resolve()}removeTarget(e,i){this.ti.br(i.targetId).forEach(u=>this.ii.add(u.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next(u=>{u.forEach(h=>this.ii.add(h.toString()))}).next(()=>a.removeTargetData(e,i))}Zr(){this.ni=new Set}Xr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.ii,a=>{const u=ot.fromPath(a);return this.si(e,u).next(h=>{h||i.removeEntry(u,mt.min())})}).next(()=>(this.ni=null,i.apply(e)))}updateLimboDocument(e,i){return this.si(e,i).next(a=>{a?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(e){return 0}si(e,i){return Q.or([()=>Q.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.ei(e,i)])}}class Yo{constructor(e,i){this.persistence=e,this.oi=new pa(a=>CA(a.path),(a,u)=>a.isEqual(u)),this.garbageCollector=q1(this,i)}static ri(e,i){return new Yo(e,i)}Zr(){}Xr(e){return Q.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}nr(e){const i=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>i.next(u=>a+u))}sr(e){let i=0;return this.rr(e,a=>{i++}).next(()=>i)}rr(e,i){return Q.forEach(this.oi,(a,u)=>this.ar(e,a,u).next(h=>h?Q.resolve():i(u)))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.qr(e,d=>this.ar(e,d,i).next(g=>{g||(a++,h.removeEntry(d,mt.min()))})).next(()=>h.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,i){return this.oi.set(i,e.currentSequenceNumber),Q.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.oi.set(a,e.currentSequenceNumber),Q.resolve()}removeReference(e,i,a){return this.oi.set(a,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,i){return this.oi.set(i,e.currentSequenceNumber),Q.resolve()}Jr(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Oo(e.data.value)),i}ar(e,i,a){return Q.or([()=>this.persistence.ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const u=this.oi.get(i);return Q.resolve(u!==void 0&&u>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e,i,a,u){this.targetId=e,this.fromCache=i,this.Hi=a,this.Ji=u}static Yi(e,i){let a=wt(),u=wt();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new gd(e,i.fromCache,a,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return KE()?8:wA(QE())>0?6:4}()}initialize(e,i){this.ns=e,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(e,i,a,u){const h={result:null};return this.rs(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ss(e,i,u,a).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new W1;return this._s(e,i,d).next(g=>{if(h.result=g,this.Xi)return this.us(e,i,d,g.size)})}).next(()=>h.result)}us(e,i,a,u){return a.documentReadCount<this.es?(us()<=Mt.DEBUG&&nt("QueryEngine","SDK will not create cache indexes for query:",os(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Q.resolve()):(us()<=Mt.DEBUG&&nt("QueryEngine","Query:",os(i),"scans",a.documentReadCount,"local documents and returns",u,"documents as results."),a.documentReadCount>this.ts*u?(us()<=Mt.DEBUG&&nt("QueryEngine","The SDK decides to create cache indexes for query:",os(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ti(i))):Q.resolve())}rs(e,i){if(Ty(i))return Q.resolve(null);let a=ti(i);return this.indexManager.getIndexType(e,a).next(u=>u===0?null:(i.limit!==null&&u===1&&(i=Bf(i,null,"F"),a=ti(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next(h=>{const d=wt(...h);return this.ns.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,a).next(_=>{const v=this.cs(i,g);return this.ls(i,v,d,_.readTime)?this.rs(e,Bf(i,null,"F")):this.hs(e,v,i,_)}))})))}ss(e,i,a,u){return Ty(i)||u.isEqual(mt.min())?Q.resolve(null):this.ns.getDocuments(e,a).next(h=>{const d=this.cs(i,h);return this.ls(i,d,a,u)?Q.resolve(null):(us()<=Mt.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),os(i)),this.hs(e,d,i,TA(u,Ql)).next(g=>g))})}cs(e,i){let a=new be(B_(e));return i.forEach((u,h)=>{ic(e,h)&&(a=a.add(h))}),a}ls(e,i,a,u){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}_s(e,i,a){return us()<=Mt.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",os(i)),this.ns.getDocumentsMatchingQuery(e,i,br.min(),a)}hs(e,i,a,u){return this.ns.getDocumentsMatchingQuery(e,a,u).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pd="LocalStore",eS=3e8;class nS{constructor(e,i,a,u){this.persistence=e,this.Ps=i,this.serializer=u,this.Ts=new Wt(Ct),this.Is=new pa(h=>ad(h),sd),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(a)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new G1(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ts))}}function iS(s,e,i,a){return new nS(s,e,i,a)}async function uv(s,e){const i=pt(s);return await i.persistence.runTransaction("Handle user change","readonly",a=>{let u;return i.mutationQueue.getAllMutationBatches(a).next(h=>(u=h,i.As(e),i.mutationQueue.getAllMutationBatches(a))).next(h=>{const d=[],g=[];let _=wt();for(const v of u){d.push(v.batchId);for(const S of v.mutations)_=_.add(S.key)}for(const v of h){g.push(v.batchId);for(const S of v.mutations)_=_.add(S.key)}return i.localDocuments.getDocuments(a,_).next(v=>({Rs:v,removedBatchIds:d,addedBatchIds:g}))})})}function rS(s,e){const i=pt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const u=e.batch.keys(),h=i.ds.newChangeBuffer({trackRemovals:!0});return function(g,_,v,S){const V=v.batch,P=V.keys();let j=Q.resolve();return P.forEach(Z=>{j=j.next(()=>S.getEntry(_,Z)).next(W=>{const X=v.docVersions.get(Z);qt(X!==null),W.version.compareTo(X)<0&&(V.applyToRemoteDocument(W,v),W.isValidDocument()&&(W.setReadTime(v.commitVersion),S.addEntry(W)))})}),j.next(()=>g.mutationQueue.removeMutationBatch(_,V))}(i,a,e,h).next(()=>h.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,u,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(g){let _=wt();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(_=_.add(g.batch.mutations[v].key));return _}(e))).next(()=>i.localDocuments.getDocuments(a,u))})}function ov(s){const e=pt(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Hr.getLastRemoteSnapshotVersion(i))}function aS(s,e){const i=pt(s),a=e.snapshotVersion;let u=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.ds.newChangeBuffer({trackRemovals:!0});u=i.Ts;const g=[];e.targetChanges.forEach((S,V)=>{const P=u.get(V);if(!P)return;g.push(i.Hr.removeMatchingKeys(h,S.removedDocuments,V).next(()=>i.Hr.addMatchingKeys(h,S.addedDocuments,V)));let j=P.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(V)!==null?j=j.withResumeToken(Be.EMPTY_BYTE_STRING,mt.min()).withLastLimboFreeSnapshotVersion(mt.min()):S.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(S.resumeToken,a)),u=u.insert(V,j),function(W,X,yt){return W.resumeToken.approximateByteSize()===0||X.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=eS?!0:yt.addedDocuments.size+yt.modifiedDocuments.size+yt.removedDocuments.size>0}(P,j,S)&&g.push(i.Hr.updateTargetData(h,j))});let _=xi(),v=wt();if(e.documentUpdates.forEach(S=>{e.resolvedLimboDocuments.has(S)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,S))}),g.push(sS(h,d,e.documentUpdates).next(S=>{_=S.Vs,v=S.fs})),!a.isEqual(mt.min())){const S=i.Hr.getLastRemoteSnapshotVersion(h).next(V=>i.Hr.setTargetsMetadata(h,h.currentSequenceNumber,a));g.push(S)}return Q.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,_,v)).next(()=>_)}).then(h=>(i.Ts=u,h))}function sS(s,e,i){let a=wt(),u=wt();return i.forEach(h=>a=a.add(h)),e.getEntries(s,a).next(h=>{let d=xi();return i.forEach((g,_)=>{const v=h.get(g);_.isFoundDocument()!==v.isFoundDocument()&&(u=u.add(g)),_.isNoDocument()&&_.version.isEqual(mt.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):nt(pd,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",_.version)}),{Vs:d,fs:u}})}function lS(s,e){const i=pt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=nd),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function uS(s,e){const i=pt(s);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let u;return i.Hr.getTargetData(a,e).next(h=>h?(u=h,Q.resolve(u)):i.Hr.allocateTargetId(a).next(d=>(u=new _r(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Hr.addTargetData(a,u).next(()=>u))))}).then(a=>{const u=i.Ts.get(a.targetId);return(u===null||a.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(a.targetId,a),i.Is.set(e,a.targetId)),a})}async function Gf(s,e,i){const a=pt(s),u=a.Ts.get(e),h=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",h,d=>a.persistence.referenceDelegate.removeTarget(d,u))}catch(d){if(!ws(d))throw d;nt(pd,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ts=a.Ts.remove(e),a.Is.delete(u.target)}function xy(s,e,i){const a=pt(s);let u=mt.min(),h=wt();return a.persistence.runTransaction("Execute query","readwrite",d=>function(_,v,S){const V=pt(_),P=V.Is.get(S);return P!==void 0?Q.resolve(V.Ts.get(P)):V.Hr.getTargetData(v,S)}(a,d,ti(e)).next(g=>{if(g)return u=g.lastLimboFreeSnapshotVersion,a.Hr.getMatchingKeysForTargetId(d,g.targetId).next(_=>{h=_})}).next(()=>a.Ps.getDocumentsMatchingQuery(d,e,i?u:mt.min(),i?h:wt())).next(g=>(oS(a,YA(e),g),{documents:g,gs:h})))}function oS(s,e,i){let a=s.Es.get(e)||mt.min();i.forEach((u,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)}),s.Es.set(e,a)}class Uy{constructor(){this.activeTargetIds=t1()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cS{constructor(){this.ho=new Uy,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,i,a){this.Po[e]=i}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Uy,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy="ConnectivityMonitor";class Ly{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){nt(zy,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){nt(zy,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Do=null;function Qf(){return Do===null?Do=function(){return 268435456+Math.round(2147483648*Math.random())}():Do++,"0x"+Do.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rf="RestConnection",fS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dS{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.po=i+"://"+e.host,this.yo=`projects/${a}/databases/${u}`,this.wo=this.databaseId.database===qo?`project_id=${a}`:`project_id=${a}&database_id=${u}`}So(e,i,a,u,h){const d=Qf(),g=this.bo(e,i.toUriEncodedString());nt(Rf,`Sending RPC '${e}' ${d}:`,g,a);const _={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(_,u,h),this.vo(e,g,_,a).then(v=>(nt(Rf,`Received RPC '${e}' ${d}: `,v),v),v=>{throw gs(Rf,`RPC '${e}' ${d} failed with error: `,v,"url: ",g,"request:",a),v})}Co(e,i,a,u,h,d){return this.So(e,i,a,u,h)}Do(e,i,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+bs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((u,h)=>e[h]=u),a&&a.headers.forEach((u,h)=>e[h]=u)}bo(e,i){const a=fS[e];return`${this.po}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const je="WebChannelConnection";class gS extends dS{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,i,a,u){const h=Qf();return new Promise((d,g)=>{const _=new g_;_.setWithCredentials(!0),_.listenOnce(p_.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Vo.NO_ERROR:const S=_.getResponseJson();nt(je,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(S)),d(S);break;case Vo.TIMEOUT:nt(je,`RPC '${e}' ${h} timed out`),g(new ut(K.DEADLINE_EXCEEDED,"Request time out"));break;case Vo.HTTP_ERROR:const V=_.getStatus();if(nt(je,`RPC '${e}' ${h} failed with status:`,V,"response text:",_.getResponseText()),V>0){let P=_.getResponseJson();Array.isArray(P)&&(P=P[0]);const j=P==null?void 0:P.error;if(j&&j.status&&j.message){const Z=function(X){const yt=X.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(yt)>=0?yt:K.UNKNOWN}(j.status);g(new ut(Z,j.message))}else g(new ut(K.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new ut(K.UNAVAILABLE,"Connection failed."));break;default:ft()}}finally{nt(je,`RPC '${e}' ${h} completed.`)}});const v=JSON.stringify(u);nt(je,`RPC '${e}' ${h} sending request:`,u),_.send(i,"POST",v,a,15)})}Wo(e,i,a){const u=Qf(),h=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=v_(),g=__(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Do(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const S=h.join("");nt(je,`Creating RPC '${e}' stream ${u}: ${S}`,_);const V=d.createWebChannel(S,_);let P=!1,j=!1;const Z=new mS({Fo:X=>{j?nt(je,`Not sending because RPC '${e}' stream ${u} is closed:`,X):(P||(nt(je,`Opening RPC '${e}' stream ${u} transport.`),V.open(),P=!0),nt(je,`RPC '${e}' stream ${u} sending:`,X),V.send(X))},Mo:()=>V.close()}),W=(X,yt,dt)=>{X.listen(yt,Tt=>{try{dt(Tt)}catch(Qt){setTimeout(()=>{throw Qt},0)}})};return W(V,Ul.EventType.OPEN,()=>{j||(nt(je,`RPC '${e}' stream ${u} transport opened.`),Z.Qo())}),W(V,Ul.EventType.CLOSE,()=>{j||(j=!0,nt(je,`RPC '${e}' stream ${u} transport closed`),Z.Ko())}),W(V,Ul.EventType.ERROR,X=>{j||(j=!0,gs(je,`RPC '${e}' stream ${u} transport errored:`,X),Z.Ko(new ut(K.UNAVAILABLE,"The operation could not be completed")))}),W(V,Ul.EventType.MESSAGE,X=>{var yt;if(!j){const dt=X.data[0];qt(!!dt);const Tt=dt,Qt=(Tt==null?void 0:Tt.error)||((yt=Tt[0])===null||yt===void 0?void 0:yt.error);if(Qt){nt(je,`RPC '${e}' stream ${u} received error:`,Qt);const _t=Qt.status;let xt=function(A){const D=me[A];if(D!==void 0)return Z_(D)}(_t),M=Qt.message;xt===void 0&&(xt=K.INTERNAL,M="Unknown error status: "+_t+" with message "+Qt.message),j=!0,Z.Ko(new ut(xt,M)),V.close()}else nt(je,`RPC '${e}' stream ${u} received:`,dt),Z.Uo(dt)}}),W(g,y_.STAT_EVENT,X=>{X.stat===xf.PROXY?nt(je,`RPC '${e}' stream ${u} detected buffering proxy`):X.stat===xf.NOPROXY&&nt(je,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{Z.$o()},0),Z}}function wf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lc(s){return new v1(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e,i,a=1e3,u=1.5,h=6e4){this.Ti=e,this.timerId=i,this.Go=a,this.zo=u,this.jo=h,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const i=Math.floor(this.Ho+this.e_()),a=Math.max(0,Date.now()-this.Yo),u=Math.max(0,i-a);u>0&&nt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,u,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py="PersistentStream";class hv{constructor(e,i,a,u,h,d,g,_){this.Ti=e,this.n_=a,this.r_=u,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new cv(e,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():i&&i.code===K.RESOURCE_EXHAUSTED?(Mi(i.toString()),Mi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,u])=>{this.i_===i&&this.V_(a,u)},a=>{e(()=>{const u=new ut(K.UNKNOWN,"Fetching auth token failed: "+a.message);return this.m_(u)})})}V_(e,i){const a=this.R_(this.i_);this.stream=this.f_(e,i),this.stream.xo(()=>{a(()=>this.listener.xo())}),this.stream.No(()=>{a(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(u=>{a(()=>this.m_(u))}),this.stream.onMessage(u=>{a(()=>++this.__==1?this.g_(u):this.onNext(u))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return nt(Py,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return i=>{this.Ti.enqueueAndForget(()=>this.i_===e?i():(nt(Py,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class pS extends hv{constructor(e,i,a,u,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,u,d),this.serializer=h}f_(e,i){return this.connection.Wo("Listen",e,i)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const i=A1(this.serializer,e),a=function(h){if(!("targetChange"in h))return mt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?mt.min():d.readTime?ei(d.readTime):mt.min()}(e);return this.listener.p_(i,a)}y_(e){const i={};i.database=jf(this.serializer),i.addTarget=function(h,d){let g;const _=d.target;if(g=Pf(_)?{documents:R1(h,_)}:{query:w1(h,_).ht},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=W_(h,d.resumeToken);const v=kf(h,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(mt.min())>0){g.readTime=Ko(h,d.snapshotVersion.toTimestamp());const v=kf(h,d.expectedCount);v!==null&&(g.expectedCount=v)}return g}(this.serializer,e);const a=C1(this.serializer,e);a&&(i.labels=a),this.I_(i)}w_(e){const i={};i.database=jf(this.serializer),i.removeTarget=e,this.I_(i)}}class yS extends hv{constructor(e,i,a,u,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,u,d),this.serializer=h}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,i){return this.connection.Wo("Write",e,i)}g_(e){return qt(!!e.streamToken),this.lastStreamToken=e.streamToken,qt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){qt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const i=b1(e.writeResults,e.commitTime),a=ei(e.commitTime);return this.listener.v_(a,i)}C_(){const e={};e.database=jf(this.serializer),this.I_(e)}b_(e){const i={streamToken:this.lastStreamToken,writes:e.map(a=>S1(this.serializer,a))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{}class vS extends _S{constructor(e,i,a,u){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=u,this.F_=!1}M_(){if(this.F_)throw new ut(K.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,i,a,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.So(e,qf(i,a),u,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ut(K.UNKNOWN,h.toString())})}Co(e,i,a,u,h){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Co(e,qf(i,a),u,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ut(K.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class ES{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Mi(i),this.N_=!1):nt("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga="RemoteStore";class TS{constructor(e,i,a,u,h){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=h,this.z_.To(d=>{a.enqueueAndForget(async()=>{ya(this)&&(nt(ga,"Restarting streams for network reachability change."),await async function(_){const v=pt(_);v.W_.add(4),await Wl(v),v.j_.set("Unknown"),v.W_.delete(4),await uc(v)}(this))})}),this.j_=new ES(a,u)}}async function uc(s){if(ya(s))for(const e of s.G_)await e(!0)}async function Wl(s){for(const e of s.G_)await e(!1)}function fv(s,e){const i=pt(s);i.U_.has(e.targetId)||(i.U_.set(e.targetId,e),Ed(i)?vd(i):Ds(i).c_()&&_d(i,e))}function yd(s,e){const i=pt(s),a=Ds(i);i.U_.delete(e),a.c_()&&dv(i,e),i.U_.size===0&&(a.c_()?a.P_():ya(i)&&i.j_.set("Unknown"))}function _d(s,e){if(s.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(mt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ds(s).y_(e)}function dv(s,e){s.H_.Ne(e),Ds(s).w_(e)}function vd(s){s.H_=new g1({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>s.U_.get(e)||null,it:()=>s.datastore.serializer.databaseId}),Ds(s).start(),s.j_.B_()}function Ed(s){return ya(s)&&!Ds(s).u_()&&s.U_.size>0}function ya(s){return pt(s).W_.size===0}function mv(s){s.H_=void 0}async function AS(s){s.j_.set("Online")}async function SS(s){s.U_.forEach((e,i)=>{_d(s,e)})}async function bS(s,e){mv(s),Ed(s)?(s.j_.q_(e),vd(s)):s.j_.set("Unknown")}async function RS(s,e,i){if(s.j_.set("Online"),e instanceof J_&&e.state===2&&e.cause)try{await async function(u,h){const d=h.cause;for(const g of h.targetIds)u.U_.has(g)&&(await u.remoteSyncer.rejectListen(g,d),u.U_.delete(g),u.H_.removeTarget(g))}(s,e)}catch(a){nt(ga,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Xo(s,a)}else if(e instanceof Mo?s.H_.We(e):e instanceof $_?s.H_.Ze(e):s.H_.je(e),!i.isEqual(mt.min()))try{const a=await ov(s.localStore);i.compareTo(a)>=0&&await function(h,d){const g=h.H_.ot(d);return g.targetChanges.forEach((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const S=h.U_.get(v);S&&h.U_.set(v,S.withResumeToken(_.resumeToken,d))}}),g.targetMismatches.forEach((_,v)=>{const S=h.U_.get(_);if(!S)return;h.U_.set(_,S.withResumeToken(Be.EMPTY_BYTE_STRING,S.snapshotVersion)),dv(h,_);const V=new _r(S.target,_,v,S.sequenceNumber);_d(h,V)}),h.remoteSyncer.applyRemoteEvent(g)}(s,i)}catch(a){nt(ga,"Failed to raise snapshot:",a),await Xo(s,a)}}async function Xo(s,e,i){if(!ws(e))throw e;s.W_.add(1),await Wl(s),s.j_.set("Offline"),i||(i=()=>ov(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{nt(ga,"Retrying IndexedDB access"),await i(),s.W_.delete(1),await uc(s)})}function gv(s,e){return e().catch(i=>Xo(s,i,e))}async function oc(s){const e=pt(s),i=Cr(e);let a=e.K_.length>0?e.K_[e.K_.length-1].batchId:nd;for(;wS(e);)try{const u=await lS(e.localStore,a);if(u===null){e.K_.length===0&&i.P_();break}a=u.batchId,DS(e,u)}catch(u){await Xo(e,u)}pv(e)&&yv(e)}function wS(s){return ya(s)&&s.K_.length<10}function DS(s,e){s.K_.push(e);const i=Cr(s);i.c_()&&i.S_&&i.b_(e.mutations)}function pv(s){return ya(s)&&!Cr(s).u_()&&s.K_.length>0}function yv(s){Cr(s).start()}async function CS(s){Cr(s).C_()}async function VS(s){const e=Cr(s);for(const i of s.K_)e.b_(i.mutations)}async function OS(s,e,i){const a=s.K_.shift(),u=cd.from(a,e,i);await gv(s,()=>s.remoteSyncer.applySuccessfulWrite(u)),await oc(s)}async function IS(s,e){e&&Cr(s).S_&&await async function(a,u){if(function(d){return f1(d)&&d!==K.ABORTED}(u.code)){const h=a.K_.shift();Cr(a).h_(),await gv(a,()=>a.remoteSyncer.rejectFailedWrite(h.batchId,u)),await oc(a)}}(s,e),pv(s)&&yv(s)}async function By(s,e){const i=pt(s);i.asyncQueue.verifyOperationInProgress(),nt(ga,"RemoteStore received new credentials");const a=ya(i);i.W_.add(3),await Wl(i),a&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.W_.delete(3),await uc(i)}async function NS(s,e){const i=pt(s);e?(i.W_.delete(2),await uc(i)):e||(i.W_.add(2),await Wl(i),i.j_.set("Unknown"))}function Ds(s){return s.J_||(s.J_=function(i,a,u){const h=pt(i);return h.M_(),new pS(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(s.datastore,s.asyncQueue,{xo:AS.bind(null,s),No:SS.bind(null,s),Lo:bS.bind(null,s),p_:RS.bind(null,s)}),s.G_.push(async e=>{e?(s.J_.h_(),Ed(s)?vd(s):s.j_.set("Unknown")):(await s.J_.stop(),mv(s))})),s.J_}function Cr(s){return s.Y_||(s.Y_=function(i,a,u){const h=pt(i);return h.M_(),new yS(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(s.datastore,s.asyncQueue,{xo:()=>Promise.resolve(),No:CS.bind(null,s),Lo:IS.bind(null,s),D_:VS.bind(null,s),v_:OS.bind(null,s)}),s.G_.push(async e=>{e?(s.Y_.h_(),await oc(s)):(await s.Y_.stop(),s.K_.length>0&&(nt(ga,`Stopping write stream with ${s.K_.length} pending writes`),s.K_=[]))})),s.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,i,a,u,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=u,this.removalCallback=h,this.deferred=new da,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,u,h){const d=Date.now()+a,g=new Td(e,i,d,u,h);return g.start(a),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ad(s,e){if(Mi("AsyncQueue",`${e}: ${s}`),ws(s))return new ut(K.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{static emptySet(e){return new ms(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ot.comparator(i.key,a.key):(i,a)=>ot.comparator(i.key,a.key),this.keyedMap=zl(),this.sortedSet=new Wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,a)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ms)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=a.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new ms;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(){this.Z_=new Wt(ot.comparator)}track(e){const i=e.doc.key,a=this.Z_.get(i);a?e.type!==0&&a.type===3?this.Z_=this.Z_.insert(i,e):e.type===3&&a.type!==1?this.Z_=this.Z_.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.Z_=this.Z_.remove(i):e.type===1&&a.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):ft():this.Z_=this.Z_.insert(i,e)}X_(){const e=[];return this.Z_.inorderTraversal((i,a)=>{e.push(a)}),e}}class Es{constructor(e,i,a,u,h,d,g,_,v){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=u,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,a,u,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new Es(e,i,ms.emptySet(i),d,a,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==a[u].type||!i[u].doc.isEqual(a[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class xS{constructor(){this.queries=qy(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,a){const u=pt(i),h=u.queries;u.queries=qy(),h.forEach((d,g)=>{for(const _ of g.ta)_.onError(a)})})(this,new ut(K.ABORTED,"Firestore shutting down"))}}function qy(){return new pa(s=>P_(s),nc)}async function US(s,e){const i=pt(s);let a=3;const u=e.query;let h=i.queries.get(u);h?!h.na()&&e.ra()&&(a=2):(h=new MS,a=e.ra()?0:1);try{switch(a){case 0:h.ea=await i.onListen(u,!0);break;case 1:h.ea=await i.onListen(u,!1);break;case 2:await i.onFirstRemoteStoreListen(u)}}catch(d){const g=Ad(d,`Initialization of query '${os(e.query)}' failed`);return void e.onError(g)}i.queries.set(u,h),h.ta.push(e),e.sa(i.onlineState),h.ea&&e.oa(h.ea)&&Sd(i)}async function zS(s,e){const i=pt(s),a=e.query;let u=3;const h=i.queries.get(a);if(h){const d=h.ta.indexOf(e);d>=0&&(h.ta.splice(d,1),h.ta.length===0?u=e.ra()?0:1:!h.na()&&e.ra()&&(u=2))}switch(u){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function LS(s,e){const i=pt(s);let a=!1;for(const u of e){const h=u.query,d=i.queries.get(h);if(d){for(const g of d.ta)g.oa(u)&&(a=!0);d.ea=u}}a&&Sd(i)}function PS(s,e,i){const a=pt(s),u=a.queries.get(e);if(u)for(const h of u.ta)h.onError(i);a.queries.delete(e)}function Sd(s){s.ia.forEach(e=>{e.next()})}var Ff,Hy;(Hy=Ff||(Ff={}))._a="default",Hy.Cache="cache";class BS{constructor(e,i,a){this.query=e,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=a||{}}oa(e){if(!this.options.includeMetadataChanges){const a=[];for(const u of e.docChanges)u.type!==3&&a.push(u);e=new Es(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.ua?this.la(e)&&(this.aa.next(e),i=!0):this.ha(e,this.onlineState)&&(this.Pa(e),i=!0),this.ca=e,i}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),i=!0),i}ha(e,i){if(!e.fromCache||!this.ra())return!0;const a=i!=="Offline";return(!this.options.Ta||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}la(e){if(e.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(e){e=Es.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Ff.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(e){this.key=e}}class vv{constructor(e){this.key=e}}class kS{constructor(e,i){this.query=e,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=wt(),this.mutatedKeys=wt(),this.ya=B_(e),this.wa=new ms(this.ya)}get Sa(){return this.fa}ba(e,i){const a=i?i.Da:new ky,u=i?i.wa:this.wa;let h=i?i.mutatedKeys:this.mutatedKeys,d=u,g=!1;const _=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,v=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((S,V)=>{const P=u.get(S),j=ic(this.query,V)?V:null,Z=!!P&&this.mutatedKeys.has(P.key),W=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let X=!1;P&&j?P.data.isEqual(j.data)?Z!==W&&(a.track({type:3,doc:j}),X=!0):this.va(P,j)||(a.track({type:2,doc:j}),X=!0,(_&&this.ya(j,_)>0||v&&this.ya(j,v)<0)&&(g=!0)):!P&&j?(a.track({type:0,doc:j}),X=!0):P&&!j&&(a.track({type:1,doc:P}),X=!0,(_||v)&&(g=!0)),X&&(j?(d=d.add(j),h=W?h.add(S):h.delete(S)):(d=d.delete(S),h=h.delete(S)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),h=h.delete(S.key),a.track({type:1,doc:S})}return{wa:d,Da:a,ls:g,mutatedKeys:h}}va(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,u){const h=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const d=e.Da.X_();d.sort((S,V)=>function(j,Z){const W=X=>{switch(X){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ft()}};return W(j)-W(Z)}(S.type,V.type)||this.ya(S.doc,V.doc)),this.Ca(a),u=u!=null&&u;const g=i&&!u?this.Fa():[],_=this.pa.size===0&&this.current&&!u?1:0,v=_!==this.ga;return this.ga=_,d.length!==0||v?{snapshot:new Es(this.query,e.wa,h,d,e.mutatedKeys,_===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ma:g}:{Ma:g}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new ky,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=wt(),this.wa.forEach(a=>{this.xa(a.key)&&(this.pa=this.pa.add(a.key))});const i=[];return e.forEach(a=>{this.pa.has(a)||i.push(new vv(a))}),this.pa.forEach(a=>{e.has(a)||i.push(new _v(a))}),i}Oa(e){this.fa=e.gs,this.pa=wt();const i=this.ba(e.documents);return this.applyChanges(i,!0)}Na(){return Es.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const bd="SyncEngine";class qS{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class HS{constructor(e){this.key=e,this.Ba=!1}}class jS{constructor(e,i,a,u,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new pa(g=>P_(g),nc),this.qa=new Map,this.Qa=new Set,this.$a=new Wt(ot.comparator),this.Ka=new Map,this.Ua=new dd,this.Wa={},this.Ga=new Map,this.za=vs.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function GS(s,e,i=!0){const a=Rv(s);let u;const h=a.ka.get(e);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.Na()):u=await Ev(a,e,i,!0),u}async function QS(s,e){const i=Rv(s);await Ev(i,e,!0,!1)}async function Ev(s,e,i,a){const u=await uS(s.localStore,ti(e)),h=u.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let g;return a&&(g=await FS(s,e,h,d==="current",u.resumeToken)),s.isPrimaryClient&&i&&fv(s.remoteStore,u),g}async function FS(s,e,i,a,u){s.Ha=(V,P,j)=>async function(W,X,yt,dt){let Tt=X.view.ba(yt);Tt.ls&&(Tt=await xy(W.localStore,X.query,!1).then(({documents:M})=>X.view.ba(M,Tt)));const Qt=dt&&dt.targetChanges.get(X.targetId),_t=dt&&dt.targetMismatches.get(X.targetId)!=null,xt=X.view.applyChanges(Tt,W.isPrimaryClient,Qt,_t);return Gy(W,X.targetId,xt.Ma),xt.snapshot}(s,V,P,j);const h=await xy(s.localStore,e,!0),d=new kS(e,h.gs),g=d.ba(h.documents),_=Jl.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",u),v=d.applyChanges(g,s.isPrimaryClient,_);Gy(s,i,v.Ma);const S=new qS(e,i,d);return s.ka.set(e,S),s.qa.has(i)?s.qa.get(i).push(e):s.qa.set(i,[e]),v.snapshot}async function KS(s,e,i){const a=pt(s),u=a.ka.get(e),h=a.qa.get(u.targetId);if(h.length>1)return a.qa.set(u.targetId,h.filter(d=>!nc(d,e))),void a.ka.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(u.targetId),a.sharedClientState.isActiveQueryTarget(u.targetId)||await Gf(a.localStore,u.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(u.targetId),i&&yd(a.remoteStore,u.targetId),Kf(a,u.targetId)}).catch(Rs)):(Kf(a,u.targetId),await Gf(a.localStore,u.targetId,!0))}async function YS(s,e){const i=pt(s),a=i.ka.get(e),u=i.qa.get(a.targetId);i.isPrimaryClient&&u.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),yd(i.remoteStore,a.targetId))}async function XS(s,e,i){const a=nb(s);try{const u=await function(d,g){const _=pt(d),v=Se.now(),S=g.reduce((j,Z)=>j.add(Z.key),wt());let V,P;return _.persistence.runTransaction("Locally write mutations","readwrite",j=>{let Z=xi(),W=wt();return _.ds.getEntries(j,S).next(X=>{Z=X,Z.forEach((yt,dt)=>{dt.isValidDocument()||(W=W.add(yt))})}).next(()=>_.localDocuments.getOverlayedDocuments(j,Z)).next(X=>{V=X;const yt=[];for(const dt of g){const Tt=l1(dt,V.get(dt.key).overlayedDocument);Tt!=null&&yt.push(new Ir(dt.key,Tt,I_(Tt.value.mapValue),zn.exists(!0)))}return _.mutationQueue.addMutationBatch(j,v,yt,g)}).next(X=>{P=X;const yt=X.applyToLocalDocumentSet(V,W);return _.documentOverlayCache.saveOverlays(j,X.batchId,yt)})}).then(()=>({batchId:P.batchId,changes:q_(V)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(u.batchId),function(d,g,_){let v=d.Wa[d.currentUser.toKey()];v||(v=new Wt(Ct)),v=v.insert(g,_),d.Wa[d.currentUser.toKey()]=v}(a,u.batchId,i),await tu(a,u.changes),await oc(a.remoteStore)}catch(u){const h=Ad(u,"Failed to persist write");i.reject(h)}}async function Tv(s,e){const i=pt(s);try{const a=await aS(i.localStore,e);e.targetChanges.forEach((u,h)=>{const d=i.Ka.get(h);d&&(qt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?d.Ba=!0:u.modifiedDocuments.size>0?qt(d.Ba):u.removedDocuments.size>0&&(qt(d.Ba),d.Ba=!1))}),await tu(i,a,e)}catch(a){await Rs(a)}}function jy(s,e,i){const a=pt(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const u=[];a.ka.forEach((h,d)=>{const g=d.view.sa(e);g.snapshot&&u.push(g.snapshot)}),function(d,g){const _=pt(d);_.onlineState=g;let v=!1;_.queries.forEach((S,V)=>{for(const P of V.ta)P.sa(g)&&(v=!0)}),v&&Sd(_)}(a.eventManager,e),u.length&&a.La.p_(u),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function ZS(s,e,i){const a=pt(s);a.sharedClientState.updateQueryState(e,"rejected",i);const u=a.Ka.get(e),h=u&&u.key;if(h){let d=new Wt(ot.comparator);d=d.insert(h,Qe.newNoDocument(h,mt.min()));const g=wt().add(h),_=new sc(mt.min(),new Map,new Wt(Ct),d,g);await Tv(a,_),a.$a=a.$a.remove(h),a.Ka.delete(e),Rd(a)}else await Gf(a.localStore,e,!1).then(()=>Kf(a,e,i)).catch(Rs)}async function $S(s,e){const i=pt(s),a=e.batch.batchId;try{const u=await rS(i.localStore,e);Sv(i,a,null),Av(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await tu(i,u)}catch(u){await Rs(u)}}async function JS(s,e,i){const a=pt(s);try{const u=await function(d,g){const _=pt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let S;return _.mutationQueue.lookupMutationBatch(v,g).next(V=>(qt(V!==null),S=V.keys(),_.mutationQueue.removeMutationBatch(v,V))).next(()=>_.mutationQueue.performConsistencyCheck(v)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(v,S,g)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,S)).next(()=>_.localDocuments.getDocuments(v,S))})}(a.localStore,e);Sv(a,e,i),Av(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await tu(a,u)}catch(u){await Rs(u)}}function Av(s,e){(s.Ga.get(e)||[]).forEach(i=>{i.resolve()}),s.Ga.delete(e)}function Sv(s,e,i){const a=pt(s);let u=a.Wa[a.currentUser.toKey()];if(u){const h=u.get(e);h&&(i?h.reject(i):h.resolve(),u=u.remove(e)),a.Wa[a.currentUser.toKey()]=u}}function Kf(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.qa.get(e))s.ka.delete(a),i&&s.La.Ja(a,i);s.qa.delete(e),s.isPrimaryClient&&s.Ua.br(e).forEach(a=>{s.Ua.containsKey(a)||bv(s,a)})}function bv(s,e){s.Qa.delete(e.path.canonicalString());const i=s.$a.get(e);i!==null&&(yd(s.remoteStore,i),s.$a=s.$a.remove(e),s.Ka.delete(i),Rd(s))}function Gy(s,e,i){for(const a of i)a instanceof _v?(s.Ua.addReference(a.key,e),WS(s,a)):a instanceof vv?(nt(bd,"Document no longer in limbo: "+a.key),s.Ua.removeReference(a.key,e),s.Ua.containsKey(a.key)||bv(s,a.key)):ft()}function WS(s,e){const i=e.key,a=i.path.canonicalString();s.$a.get(i)||s.Qa.has(a)||(nt(bd,"New document in limbo: "+i),s.Qa.add(a),Rd(s))}function Rd(s){for(;s.Qa.size>0&&s.$a.size<s.maxConcurrentLimboResolutions;){const e=s.Qa.values().next().value;s.Qa.delete(e);const i=new ot(Xt.fromString(e)),a=s.za.next();s.Ka.set(a,new HS(i)),s.$a=s.$a.insert(i,a),fv(s.remoteStore,new _r(ti(ld(i.path)),a,"TargetPurposeLimboResolution",Jo.ae))}}async function tu(s,e,i){const a=pt(s),u=[],h=[],d=[];a.ka.isEmpty()||(a.ka.forEach((g,_)=>{d.push(a.Ha(_,e,i).then(v=>{var S;if((v||i)&&a.isPrimaryClient){const V=v?!v.fromCache:(S=i==null?void 0:i.targetChanges.get(_.targetId))===null||S===void 0?void 0:S.current;a.sharedClientState.updateQueryState(_.targetId,V?"current":"not-current")}if(v){u.push(v);const V=gd.Yi(_.targetId,v);h.push(V)}}))}),await Promise.all(d),a.La.p_(u),await async function(_,v){const S=pt(_);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",V=>Q.forEach(v,P=>Q.forEach(P.Hi,j=>S.persistence.referenceDelegate.addReference(V,P.targetId,j)).next(()=>Q.forEach(P.Ji,j=>S.persistence.referenceDelegate.removeReference(V,P.targetId,j)))))}catch(V){if(!ws(V))throw V;nt(pd,"Failed to update sequence numbers: "+V)}for(const V of v){const P=V.targetId;if(!V.fromCache){const j=S.Ts.get(P),Z=j.snapshotVersion,W=j.withLastLimboFreeSnapshotVersion(Z);S.Ts=S.Ts.insert(P,W)}}}(a.localStore,h))}async function tb(s,e){const i=pt(s);if(!i.currentUser.isEqual(e)){nt(bd,"User change. New user:",e.toKey());const a=await uv(i.localStore,e);i.currentUser=e,function(h,d){h.Ga.forEach(g=>{g.forEach(_=>{_.reject(new ut(K.CANCELLED,d))})}),h.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await tu(i,a.Rs)}}function eb(s,e){const i=pt(s),a=i.Ka.get(e);if(a&&a.Ba)return wt().add(a.key);{let u=wt();const h=i.qa.get(e);if(!h)return u;for(const d of h){const g=i.ka.get(d);u=u.unionWith(g.view.Sa)}return u}}function Rv(s){const e=pt(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=Tv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=eb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ZS.bind(null,e),e.La.p_=LS.bind(null,e.eventManager),e.La.Ja=PS.bind(null,e.eventManager),e}function nb(s){const e=pt(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$S.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=JS.bind(null,e),e}class Zo{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=lc(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,i){return null}nu(e,i){return null}eu(e){return iS(this.persistence,new tS,e.initialUser,this.serializer)}Xa(e){return new lv(md.ri,this.serializer)}Za(e){return new cS}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zo.provider={build:()=>new Zo};class ib extends Zo{constructor(e){super(),this.cacheSizeBytes=e}tu(e,i){qt(this.persistence.referenceDelegate instanceof Yo);const a=this.persistence.referenceDelegate.garbageCollector;return new B1(a,e.asyncQueue,i)}Xa(e){const i=this.cacheSizeBytes!==void 0?en.withCacheSize(this.cacheSizeBytes):en.DEFAULT;return new lv(a=>Yo.ri(a,i),this.serializer)}}class Yf{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>jy(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=tb.bind(null,this.syncEngine),await NS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new xS}()}createDatastore(e){const i=lc(e.databaseInfo.databaseId),a=function(h){return new gS(h)}(e.databaseInfo);return function(h,d,g,_){return new vS(h,d,g,_)}(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return function(a,u,h,d,g){return new TS(a,u,h,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>jy(this.syncEngine,i,0),function(){return Ly.D()?new Ly:new hS}())}createSyncEngine(e,i){return function(u,h,d,g,_,v,S){const V=new jS(u,h,d,g,_,v);return S&&(V.ja=!0),V}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(u){const h=pt(u);nt(ga,"RemoteStore shutting down."),h.W_.add(5),await Wl(h),h.z_.shutdown(),h.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Yf.provider={build:()=>new Yf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Mi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vr="FirestoreClient";class ab{constructor(e,i,a,u,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=u,this.user=Ge.UNAUTHENTICATED,this.clientId=T_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,async d=>{nt(Vr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(nt(Vr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new da;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=Ad(i,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function Df(s,e){s.asyncQueue.verifyOperationInProgress(),nt(Vr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener(async u=>{a.isEqual(u)||(await uv(e.localStore,u),a=u)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function Qy(s,e){s.asyncQueue.verifyOperationInProgress();const i=await sb(s);nt(Vr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener(a=>By(e.remoteStore,a)),s.setAppCheckTokenChangeListener((a,u)=>By(e.remoteStore,u)),s._onlineComponents=e}async function sb(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){nt(Vr,"Using user provided OfflineComponentProvider");try{await Df(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(u){return u.name==="FirebaseError"?u.code===K.FAILED_PRECONDITION||u.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11}(i))throw i;gs("Error using user provided cache. Falling back to memory cache: "+i),await Df(s,new Zo)}}else nt(Vr,"Using default OfflineComponentProvider"),await Df(s,new ib(void 0));return s._offlineComponents}async function wv(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(nt(Vr,"Using user provided OnlineComponentProvider"),await Qy(s,s._uninitializedComponentsProvider._online)):(nt(Vr,"Using default OnlineComponentProvider"),await Qy(s,new Yf))),s._onlineComponents}function lb(s){return wv(s).then(e=>e.syncEngine)}async function Fy(s){const e=await wv(s),i=e.eventManager;return i.onListen=GS.bind(null,e.syncEngine),i.onUnlisten=KS.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=QS.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=YS.bind(null,e.syncEngine),i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dv(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cv(s,e,i){if(!i)throw new ut(K.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function ub(s,e,i,a){if(e===!0&&a===!0)throw new ut(K.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Yy(s){if(!ot.isDocumentKey(s))throw new ut(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Xy(s){if(ot.isDocumentKey(s))throw new ut(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function wd(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":ft()}function Ar(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ut(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=wd(s);throw new ut(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv="firestore.googleapis.com",Zy=!0;class $y{constructor(e){var i,a;if(e.host===void 0){if(e.ssl!==void 0)throw new ut(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Vv,this.ssl=Zy}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:Zy;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=sv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<L1)throw new ut(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ub("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Dv((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new ut(K.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new ut(K.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new ut(K.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,u){return a.timeoutSeconds===u.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cc{constructor(e,i,a,u){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $y({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ut(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $y(e),e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new dA;switch(a.type){case"firstParty":return new yA(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ut(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=Ky.get(i);a&&(nt("ComponentProvider","Removing Datastore"),Ky.delete(i),a.terminate())}(this),Promise.resolve()}}function ob(s,e,i,a={}){var u;const h=(s=Ar(s,cc))._getSettings(),d=`${e}:${i}`;if(h.host!==Vv&&h.host!==d&&gs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),s._setSettings(Object.assign(Object.assign({},h),{host:d,ssl:!1})),a.mockUserToken){let g,_;if(typeof a.mockUserToken=="string")g=a.mockUserToken,_=Ge.MOCK_USER;else{g=GE(a.mockUserToken,(u=s._app)===null||u===void 0?void 0:u.options.projectId);const v=a.mockUserToken.sub||a.mockUserToken.user_id;if(!v)throw new ut(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Ge(v)}s._authCredentials=new mA(new E_(g,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new hc(this.firestore,e,this._query)}}class fn{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fn(this.firestore,e,this._key)}}class Sr extends hc{constructor(e,i,a){super(e,i,ld(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fn(this.firestore,null,new ot(e))}withConverter(e){return new Sr(this.firestore,e,this._path)}}function Jy(s,e,...i){if(s=Ii(s),Cv("collection","path",e),s instanceof cc){const a=Xt.fromString(e,...i);return Xy(a),new Sr(s,null,a)}{if(!(s instanceof fn||s instanceof Sr))throw new ut(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Xt.fromString(e,...i));return Xy(a),new Sr(s.firestore,null,a)}}function Xf(s,e,...i){if(s=Ii(s),arguments.length===1&&(e=T_.newId()),Cv("doc","path",e),s instanceof cc){const a=Xt.fromString(e,...i);return Yy(a),new fn(s,null,new ot(a))}{if(!(s instanceof fn||s instanceof Sr))throw new ut(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Xt.fromString(e,...i));return Yy(a),new fn(s.firestore,s instanceof Sr?s.converter:null,new ot(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wy="AsyncQueue";class t_{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new cv(this,"async_queue_retry"),this.Su=()=>{const a=wf();a&&nt(Wy,"Visibility state changed to "+a.visibilityState),this.a_.t_()},this.bu=e;const i=wf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const i=wf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const i=new da;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!ws(e))throw e;nt(Wy,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const i=this.bu.then(()=>(this.pu=!0,e().catch(a=>{this.gu=a,this.pu=!1;const u=function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),g}(a);throw Mi("INTERNAL UNHANDLED ERROR: ",u),a}).then(a=>(this.pu=!1,a))));return this.bu=i,i}enqueueAfterDelay(e,i,a){this.Du(),this.wu.indexOf(e)>-1&&(i=0);const u=Td.createAndSchedule(this,e,i,a,h=>this.Fu(h));return this.fu.push(u),u}Du(){this.gu&&ft()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const i of this.fu)if(i.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const i=this.fu.indexOf(e);this.fu.splice(i,1)}}function e_(s){return function(i,a){if(typeof i!="object"||i===null)return!1;const u=i;for(const h of a)if(h in u&&typeof u[h]=="function")return!0;return!1}(s,["next","error","complete"])}class Ts extends cc{constructor(e,i,a,u){super(e,i,a,u),this.type="firestore",this._queue=new t_,this._persistenceKey=(u==null?void 0:u.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new t_(e),this._firestoreClient=void 0,await e}}}function cb(s,e){const i=typeof s=="object"?s:tA(),a=typeof s=="string"?s:qo,u=XT(i,"firestore").getImmediate({identifier:a});if(!u._initialized){const h=HE("firestore");h&&ob(u,...h)}return u}function Ov(s){if(s._terminated)throw new ut(K.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||hb(s),s._firestoreClient}function hb(s){var e,i,a;const u=s._freezeSettings(),h=function(g,_,v,S){return new IA(g,_,v,S.host,S.ssl,S.experimentalForceLongPolling,S.experimentalAutoDetectLongPolling,Dv(S.experimentalLongPollingOptions),S.useFetchStreams)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,u);s._componentsProvider||!((i=u.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((a=u.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(s._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),s._firestoreClient=new ab(s._authCredentials,s._appCheckCredentials,s._queue,h,s._componentsProvider&&function(g){const _=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(_),_online:_}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e){this._byteString=e}static fromBase64String(e){try{return new As(Be.fromBase64String(e))}catch(i){throw new ut(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new As(Be.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ut(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ut(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ut(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ct(this._lat,e._lat)||Ct(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,u){if(a.length!==u.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==u[h])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb=/^__.*__$/;class db{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Ir(e,this.data,this.fieldMask,i,this.fieldTransforms):new $l(e,this.data,i,this.fieldTransforms)}}class Iv{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Ir(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function Nv(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ft()}}class Od{constructor(e,i,a,u,h,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=u,h===void 0&&this.Bu(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Od(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.ku({path:a,Qu:!1});return u.$u(e),u}Ku(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.ku({path:a,Qu:!1});return u.Bu(),u}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return $o(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Nv(this.Lu)&&fb.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class mb{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||lc(e)}ju(e,i,a,u=!1){return new Od({Lu:e,methodName:i,zu:a,path:Pe.emptyPath(),Qu:!1,Gu:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mv(s){const e=s._freezeSettings(),i=lc(s._databaseId);return new mb(s._databaseId,!!e.ignoreUndefinedProperties,i)}function gb(s,e,i,a,u,h={}){const d=s.ju(h.merge||h.mergeFields?2:0,e,i,u);Id("Data must be an object, but it was:",d,a);const g=xv(a,d);let _,v;if(h.merge)_=new hn(d.fieldMask),v=d.fieldTransforms;else if(h.mergeFields){const S=[];for(const V of h.mergeFields){const P=Zf(e,V,i);if(!d.contains(P))throw new ut(K.INVALID_ARGUMENT,`Field '${P}' is specified in your field mask but missing from your input data.`);zv(S,P)||S.push(P)}_=new hn(S),v=d.fieldTransforms.filter(V=>_.covers(V.field))}else _=null,v=d.fieldTransforms;return new db(new nn(g),_,v)}class dc extends Dd{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof dc}}function pb(s,e,i,a){const u=s.ju(1,e,i);Id("Data must be an object, but it was:",u,a);const h=[],d=nn.empty();Or(a,(_,v)=>{const S=Nd(e,_,i);v=Ii(v);const V=u.Ku(S);if(v instanceof dc)h.push(S);else{const P=mc(v,V);P!=null&&(h.push(S),d.set(S,P))}});const g=new hn(h);return new Iv(d,g,u.fieldTransforms)}function yb(s,e,i,a,u,h){const d=s.ju(1,e,i),g=[Zf(e,a,i)],_=[u];if(h.length%2!=0)throw new ut(K.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let P=0;P<h.length;P+=2)g.push(Zf(e,h[P])),_.push(h[P+1]);const v=[],S=nn.empty();for(let P=g.length-1;P>=0;--P)if(!zv(v,g[P])){const j=g[P];let Z=_[P];Z=Ii(Z);const W=d.Ku(j);if(Z instanceof dc)v.push(j);else{const X=mc(Z,W);X!=null&&(v.push(j),S.set(j,X))}}const V=new hn(v);return new Iv(S,V,d.fieldTransforms)}function mc(s,e){if(Uv(s=Ii(s)))return Id("Unsupported field value:",e,s),xv(s,e);if(s instanceof Dd)return function(a,u){if(!Nv(u.Lu))throw u.Wu(`${a._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Wu(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(u);h&&u.fieldTransforms.push(h)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(a,u){const h=[];let d=0;for(const g of a){let _=mc(g,u.Uu(d));_==null&&(_={nullValue:"NULL_VALUE"}),h.push(_),d++}return{arrayValue:{values:h}}}(s,e)}return function(a,u){if((a=Ii(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return e1(u.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=Se.fromDate(a);return{timestampValue:Ko(u.serializer,h)}}if(a instanceof Se){const h=new Se(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Ko(u.serializer,h)}}if(a instanceof Cd)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof As)return{bytesValue:W_(u.serializer,a._byteString)};if(a instanceof fn){const h=u.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw u.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:fd(a.firestore._databaseId||u.databaseId,a._key.path)}}if(a instanceof Vd)return function(d,g){return{mapValue:{fields:{[V_]:{stringValue:O_},[Ho]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw g.Wu("VectorValues must only contain numeric values.");return ud(g.serializer,v)})}}}}}}(a,u);throw u.Wu(`Unsupported field value: ${wd(a)}`)}(s,e)}function xv(s,e){const i={};return S_(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Or(s,(a,u)=>{const h=mc(u,e.qu(a));h!=null&&(i[a]=h)}),{mapValue:{fields:i}}}function Uv(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Se||s instanceof Cd||s instanceof As||s instanceof fn||s instanceof Dd||s instanceof Vd)}function Id(s,e,i){if(!Uv(i)||!function(u){return typeof u=="object"&&u!==null&&(Object.getPrototypeOf(u)===Object.prototype||Object.getPrototypeOf(u)===null)}(i)){const a=wd(i);throw a==="an object"?e.Wu(s+" a custom object"):e.Wu(s+" "+a)}}function Zf(s,e,i){if((e=Ii(e))instanceof fc)return e._internalPath;if(typeof e=="string")return Nd(s,e);throw $o("Field path arguments must be of type string or ",s,!1,void 0,i)}const _b=new RegExp("[~\\*/\\[\\]]");function Nd(s,e,i){if(e.search(_b)>=0)throw $o(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new fc(...e.split("."))._internalPath}catch{throw $o(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function $o(s,e,i,a,u){const h=a&&!a.isEmpty(),d=u!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(h||d)&&(_+=" (found",h&&(_+=` in field ${a}`),d&&(_+=` in document ${u}`),_+=")"),new ut(K.INVALID_ARGUMENT,g+s+_)}function zv(s,e){return s.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e,i,a,u,h){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new vb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Pv("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class vb extends Lv{data(){return super.data()}}function Pv(s,e){return typeof e=="string"?Nd(s,e):e instanceof fc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eb(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ut(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Tb{convertValue(e,i="none"){switch(Dr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ue(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(wr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw ft()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Or(e,(u,h)=>{a[u]=this.convertValue(h,i)}),a}convertVectorValue(e){var i,a,u;const h=(u=(a=(i=e.fields)===null||i===void 0?void 0:i[Ho].arrayValue)===null||a===void 0?void 0:a.values)===null||u===void 0?void 0:u.map(d=>ue(d.doubleValue));return new Vd(h)}convertGeoPoint(e){return new Cd(ue(e.latitude),ue(e.longitude))}convertArray(e,i){return(e.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(e,i){switch(i){case"previous":const a=tc(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Fl(e));default:return null}}convertTimestamp(e){const i=Rr(e);return new Se(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=Xt.fromString(e);qt(av(a));const u=new Kl(a.get(1),a.get(3)),h=new ot(a.popFirst(5));return u.isEqual(i)||Mi(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(s,e,i){let a;return a=s?s.toFirestore(e):e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Bv extends Lv{constructor(e,i,a,u,h,d){super(e,i,a,u,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new xo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(Pv("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}}class xo extends Bv{data(e={}){return super.data(e)}}class Sb{constructor(e,i,a,u){this._firestore=e,this._userDataWriter=i,this._snapshot=u,this.metadata=new Pl(u.hasPendingWrites,u.fromCache),this.query=a}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(a=>{e.call(i,new xo(this._firestore,this._userDataWriter,a.key,a,new Pl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ut(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,h){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map(g=>{const _=new xo(u._firestore,u._userDataWriter,g.doc.key,g.doc,new Pl(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}})}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const _=new xo(u._firestore,u._userDataWriter,g.doc.key,g.doc,new Pl(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);let v=-1,S=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),S=d.indexOf(g.doc.key)),{type:bb(g.type),doc:_,oldIndex:v,newIndex:S}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function bb(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ft()}}class kv extends Tb{constructor(e){super(),this.firestore=e}convertBytes(e){return new As(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new fn(this.firestore,null,i)}}function Rb(s,e,i,...a){s=Ar(s,fn);const u=Ar(s.firestore,Ts),h=Mv(u);let d;return d=typeof(e=Ii(e))=="string"||e instanceof fc?yb(h,"updateDoc",s._key,e,i,a):pb(h,"updateDoc",s._key,e),Md(u,[d.toMutation(s._key,zn.exists(!0))])}function wb(s){return Md(Ar(s.firestore,Ts),[new od(s._key,zn.none())])}function Db(s,e){const i=Ar(s.firestore,Ts),a=Xf(s),u=Ab(s.converter,e);return Md(i,[gb(Mv(s.firestore),"addDoc",a._key,u,s.converter!==null,{}).toMutation(a._key,zn.exists(!1))]).then(()=>a)}function Cb(s,...e){var i,a,u;s=Ii(s);let h={includeMetadataChanges:!1,source:"default"},d=0;typeof e[d]!="object"||e_(e[d])||(h=e[d],d++);const g={includeMetadataChanges:h.includeMetadataChanges,source:h.source};if(e_(e[d])){const V=e[d];e[d]=(i=V.next)===null||i===void 0?void 0:i.bind(V),e[d+1]=(a=V.error)===null||a===void 0?void 0:a.bind(V),e[d+2]=(u=V.complete)===null||u===void 0?void 0:u.bind(V)}let _,v,S;if(s instanceof fn)v=Ar(s.firestore,Ts),S=ld(s._key.path),_={next:V=>{e[d]&&e[d](Vb(v,s,V))},error:e[d+1],complete:e[d+2]};else{const V=Ar(s,hc);v=Ar(V.firestore,Ts),S=V._query;const P=new kv(v);_={next:j=>{e[d]&&e[d](new Sb(v,P,V,j))},error:e[d+1],complete:e[d+2]},Eb(s._query)}return function(P,j,Z,W){const X=new rb(W),yt=new BS(j,X,Z);return P.asyncQueue.enqueueAndForget(async()=>US(await Fy(P),yt)),()=>{X.su(),P.asyncQueue.enqueueAndForget(async()=>zS(await Fy(P),yt))}}(Ov(v),S,g,_)}function Md(s,e){return function(a,u){const h=new da;return a.asyncQueue.enqueueAndForget(async()=>XS(await lb(a),u,h)),h.promise}(Ov(s),e)}function Vb(s,e,i){const a=i.docs.get(e._key),u=new kv(s);return new Bv(s,u,e._key,a,new Pl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(u){bs=u})(WT),Bo(new jl("firestore",(a,{instanceIdentifier:u,options:h})=>{const d=a.getProvider("app").getImmediate(),g=new Ts(new gA(a.getProvider("auth-internal")),new _A(d,a.getProvider("app-check-internal")),function(v,S){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ut(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kl(v.options.projectId,S)}(d,u),d);return h=Object.assign({useFetchStreams:i},h),g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),ds(ay,sy,e),ds(ay,sy,"esm2017")})();const Ob={apiKey:"AIzaSyDx6K2GmvTaWKKn8N71RV8KEyNXgivABmI",authDomain:"todo-a6f5a.firebaseapp.com",projectId:"todo-a6f5a",storageBucket:"todo-a6f5a.firebasestorage.app",messagingSenderId:"650323667792",appId:"1:650323667792:web:4d3b58abe1913a758b9a55"},Ib=h_(Ob),Co=cb(Ib),Nb=()=>{const[s,e]=fs.useState([]),[i,a]=fs.useState(""),[u,h]=fs.useState(-1);fs.useEffect(()=>{const S=Cb(Jy(Co,"todos"),V=>{e(V.docs.map(P=>({id:P.id,todo:P.data().todo})))});return()=>S()},[]);const d=S=>{a(s[S].todo),h(S)},g=async()=>{try{i.trim()!==""&&(await Db(Jy(Co,"todos"),{todo:i}),a(""))}catch(S){console.error(S.message)}},_=async()=>{try{if(i.trim()!==""){const S=Xf(Co,"todos",s[u].id);await Rb(S,{todo:i}),h(-1),a("")}}catch(S){console.error(S.message)}},v=async S=>{try{await wb(Xf(Co,"todos",S))}catch(V){console.error(V.message)}};return le.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center gap-4 p-4 ",style:{backgroundImage:`url(${NE})`,backgroundSize:"cover",backgroundPosition:"center"},children:[le.jsxs("div",{className:"bg-gray-100 p-6 rounded shadow-md w-full max-w-lg lg:w-1/4",children:[le.jsxs("div",{className:"flex",children:[le.jsx("img",{src:IE,alt:"",className:"w-12 mr-10"}),le.jsx("h1",{className:"text-3xl font-bold text-center",children:"To-Do App"})]}),le.jsxs("div",{className:"flex",children:[le.jsx("input",{type:"text",placeholder:"Add a To-do",value:i,onChange:S=>a(S.target.value),className:"mt-10 py-2 px-4 border rounded w-full focus:outline-nome mr-2"}),le.jsx("button",{onClick:u===-1?g:_,className:"mt-10 bg-gradient-to-r from-blue-600 to-blue-400 text-white py-1 px-4 rounded",children:u===-1?le.jsx(VE,{}):le.jsx(Kp,{})})]})]}),s.length>0&&le.jsx("div",{className:"bg-gray-100 p-6 rounded shadow-md w-full max-w-lg lg:w-1/4",children:le.jsx("ul",{children:s.map((S,V)=>le.jsxs("li",{className:"flex items-center justify-between bg-white p-3 rounded shadow-md mb-3",children:[le.jsx("span",{className:"text-lg",children:S.todo}),le.jsxs("div",{children:[le.jsx("button",{onClick:()=>d(V),className:"mr-2 p-2 bg-gradient-to-r from-gray-400 to-gray-600 text-white rounded hover:from-gray-500 hover:to-gray-700",children:le.jsx(Kp,{})}),le.jsx("button",{onClick:()=>v(S.id),className:"mr-2 p-2 bg-gradient-to-r from-red-400 to-red-600 text-white rounded hover:from-red-500 hover:to-red-700",children:le.jsx(OE,{})})]})]},V))})})]})};TE.createRoot(document.getElementById("root")).render(le.jsx(fs.StrictMode,{children:le.jsx(Nb,{})}));
